var ET=Object.defineProperty;var AT=(t,e,n)=>e in t?ET(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var on=(t,e,n)=>AT(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dx={exports:{}},gg={},jx={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=Symbol.for("react.element"),ST=Symbol.for("react.portal"),NT=Symbol.for("react.fragment"),TT=Symbol.for("react.strict_mode"),kT=Symbol.for("react.profiler"),IT=Symbol.for("react.provider"),PT=Symbol.for("react.context"),LT=Symbol.for("react.forward_ref"),CT=Symbol.for("react.suspense"),OT=Symbol.for("react.memo"),RT=Symbol.for("react.lazy"),c5=Symbol.iterator;function DT(t){return t===null||typeof t!="object"?null:(t=c5&&t[c5]||t["@@iterator"],typeof t=="function"?t:null)}var Mx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fx=Object.assign,Bx={};function Nc(t,e,n){this.props=t,this.context=e,this.refs=Bx,this.updater=n||Mx}Nc.prototype.isReactComponent={};Nc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ux(){}Ux.prototype=Nc.prototype;function Ev(t,e,n){this.props=t,this.context=e,this.refs=Bx,this.updater=n||Mx}var Av=Ev.prototype=new Ux;Av.constructor=Ev;Fx(Av,Nc.prototype);Av.isPureReactComponent=!0;var f5=Array.isArray,Vx=Object.prototype.hasOwnProperty,Sv={current:null},qx={key:!0,ref:!0,__self:!0,__source:!0};function zx(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Vx.call(e,r)&&!qx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kh,type:t,key:o,ref:s,props:i,_owner:Sv.current}}function jT(t,e){return{$$typeof:kh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nv(t){return typeof t=="object"&&t!==null&&t.$$typeof===kh}function MT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h5=/\/+/g;function Tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MT(""+t.key):e.toString(36)}function zd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case kh:case ST:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Tm(s,0):r,f5(i)?(n="",t!=null&&(n=t.replace(h5,"$&/")+"/"),zd(i,e,n,"",function(u){return u})):i!=null&&(Nv(i)&&(i=jT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(h5,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",f5(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Tm(o,a);s+=zd(o,e,n,l,i)}else if(l=DT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Tm(o,a++),s+=zd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fd(t,e,n){if(t==null)return t;var r=[],i=0;return zd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function FT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hi={current:null},Hd={transition:null},BT={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:Hd,ReactCurrentOwner:Sv};function Hx(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:fd,forEach:function(t,e,n){fd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fd(t,function(){e++}),e},toArray:function(t){return fd(t,function(e){return e})||[]},only:function(t){if(!Nv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=Nc;jt.Fragment=NT;jt.Profiler=kT;jt.PureComponent=Ev;jt.StrictMode=TT;jt.Suspense=CT;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BT;jt.act=Hx;jt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fx({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Sv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vx.call(e,l)&&!qx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:kh,type:t.type,key:i,ref:o,props:r,_owner:s}};jt.createContext=function(t){return t={$$typeof:PT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IT,_context:t},t.Consumer=t};jt.createElement=zx;jt.createFactory=function(t){var e=zx.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:LT,render:t}};jt.isValidElement=Nv;jt.lazy=function(t){return{$$typeof:RT,_payload:{_status:-1,_result:t},_init:FT}};jt.memo=function(t,e){return{$$typeof:OT,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=Hd.transition;Hd.transition={};try{t()}finally{Hd.transition=e}};jt.unstable_act=Hx;jt.useCallback=function(t,e){return hi.current.useCallback(t,e)};jt.useContext=function(t){return hi.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return hi.current.useDeferredValue(t)};jt.useEffect=function(t,e){return hi.current.useEffect(t,e)};jt.useId=function(){return hi.current.useId()};jt.useImperativeHandle=function(t,e,n){return hi.current.useImperativeHandle(t,e,n)};jt.useInsertionEffect=function(t,e){return hi.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return hi.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return hi.current.useMemo(t,e)};jt.useReducer=function(t,e,n){return hi.current.useReducer(t,e,n)};jt.useRef=function(t){return hi.current.useRef(t)};jt.useState=function(t){return hi.current.useState(t)};jt.useSyncExternalStore=function(t,e,n){return hi.current.useSyncExternalStore(t,e,n)};jt.useTransition=function(){return hi.current.useTransition()};jt.version="18.3.1";jx.exports=jt;var tt=jx.exports;const UT=Rx(tt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT=tt,qT=Symbol.for("react.element"),zT=Symbol.for("react.fragment"),HT=Object.prototype.hasOwnProperty,$T=VT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WT={key:!0,ref:!0,__self:!0,__source:!0};function $x(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)HT.call(e,r)&&!WT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qT,type:t,key:o,ref:s,props:i,_owner:$T.current}}gg.Fragment=zT;gg.jsx=$x;gg.jsxs=$x;Dx.exports=gg;var M=Dx.exports,B0={},Wx={exports:{}},Gi={},Gx={exports:{}},Kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,Z){var X=te.length;te.push(Z);e:for(;0<X;){var z=X-1>>>1,R=te[z];if(0<i(R,Z))te[z]=Z,te[X]=R,X=z;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var Z=te[0],X=te.pop();if(X!==Z){te[0]=X;e:for(var z=0,R=te.length,F=R>>>1;z<F;){var W=2*(z+1)-1,K=te[W],q=W+1,Q=te[q];if(0>i(K,X))q<R&&0>i(Q,K)?(te[z]=Q,te[q]=X,z=q):(te[z]=K,te[W]=X,z=W);else if(q<R&&0>i(Q,X))te[z]=Q,te[q]=X,z=q;else break e}}return Z}function i(te,Z){var X=te.sortIndex-Z.sortIndex;return X!==0?X:te.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(te){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=te)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function w(te){if(_=!1,A(te),!y)if(n(l)!==null)y=!0,oe(C);else{var Z=n(u);Z!==null&&se(w,Z.startTime-te)}}function C(te,Z){y=!1,_&&(_=!1,p(N),N=-1),f=!0;var X=d;try{for(A(Z),h=n(l);h!==null&&(!(h.expirationTime>Z)||te&&!E());){var z=h.callback;if(typeof z=="function"){h.callback=null,d=h.priorityLevel;var R=z(h.expirationTime<=Z);Z=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),A(Z)}else r(l);h=n(l)}if(h!==null)var F=!0;else{var W=n(u);W!==null&&se(w,W.startTime-Z),F=!1}return F}finally{h=null,d=X,f=!1}}var B=!1,L=null,N=-1,T=5,k=-1;function E(){return!(t.unstable_now()-k<T)}function S(){if(L!==null){var te=t.unstable_now();k=te;var Z=!0;try{Z=L(!0,te)}finally{Z?I():(B=!1,L=null)}}else B=!1}var I;if(typeof v=="function")I=function(){v(S)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=S,I=function(){G.postMessage(null)}}else I=function(){x(S,0)};function oe(te){L=te,B||(B=!0,I())}function se(te,Z){N=x(function(){te(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,oe(C))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var X=d;d=Z;try{return te()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Z){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var X=d;d=te;try{return Z()}finally{d=X}},t.unstable_scheduleCallback=function(te,Z,X){var z=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?z+X:z):X=z,te){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=X+R,te={id:c++,callback:Z,priorityLevel:te,startTime:X,expirationTime:R,sortIndex:-1},X>z?(te.sortIndex=X,e(u,te),n(l)===null&&te===n(u)&&(_?(p(N),N=-1):_=!0,se(w,X-z))):(te.sortIndex=R,e(l,te),y||f||(y=!0,oe(C))),te},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(te){var Z=d;return function(){var X=d;d=Z;try{return te.apply(this,arguments)}finally{d=X}}}})(Kx);Gx.exports=Kx;var GT=Gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT=tt,Wi=GT;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yx=new Set,Xf={};function su(t,e){lc(t,e),lc(t+"Capture",e)}function lc(t,e){for(Xf[t]=e,t=0;t<e.length;t++)Yx.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U0=Object.prototype.hasOwnProperty,YT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d5={},p5={};function QT(t){return U0.call(p5,t)?!0:U0.call(d5,t)?!1:YT.test(t)?p5[t]=!0:(d5[t]=!0,!1)}function XT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JT(t,e,n,r){if(e===null||typeof e>"u"||XT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function di(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jr[t]=new di(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jr[e]=new di(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jr[t]=new di(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jr[t]=new di(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jr[t]=new di(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jr[t]=new di(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jr[t]=new di(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jr[t]=new di(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jr[t]=new di(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tv=/[\-:]([a-z])/g;function kv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tv,kv);jr[e]=new di(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tv,kv);jr[e]=new di(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tv,kv);jr[e]=new di(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jr[t]=new di(t,1,!1,t.toLowerCase(),null,!1,!1)});jr.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jr[t]=new di(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iv(t,e,n,r){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JT(e,n,i,r)&&(n=null),r||i===null?QT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var na=KT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),Pv=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Xx=Symbol.for("react.context"),Lv=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),z0=Symbol.for("react.suspense_list"),Cv=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),Jx=Symbol.for("react.offscreen"),g5=Symbol.iterator;function cf(t){return t===null||typeof t!="object"?null:(t=g5&&t[g5]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Object.assign,km;function Ef(t){if(km===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);km=e&&e[1]||""}return`
`+km+t}var Im=!1;function Pm(t,e){if(!t||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ef(t):""}function ZT(t){switch(t.tag){case 5:return Ef(t.type);case 16:return Ef("Lazy");case 13:return Ef("Suspense");case 19:return Ef("SuspenseList");case 0:case 2:case 15:return t=Pm(t.type,!1),t;case 11:return t=Pm(t.type.render,!1),t;case 1:return t=Pm(t.type,!0),t;default:return""}}function H0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Du:return"Fragment";case Ru:return"Portal";case V0:return"Profiler";case Pv:return"StrictMode";case q0:return"Suspense";case z0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xx:return(t.displayName||"Context")+".Consumer";case Qx:return(t._context.displayName||"Context")+".Provider";case Lv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cv:return e=t.displayName||null,e!==null?e:H0(t.type)||"Memo";case Ca:e=t._payload,t=t._init;try{return H0(t(e))}catch{}}return null}function ek(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H0(e);case 8:return e===Pv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tk(t){var e=Zx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dd(t){t._valueTracker||(t._valueTracker=tk(t))}function e4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $0(t,e){var n=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t4(t,e){e=e.checked,e!=null&&Iv(t,"checked",e,!1)}function W0(t,e){t4(t,e);var n=rl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?G0(t,e.type,n):e.hasOwnProperty("defaultValue")&&G0(t,e.type,rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function G0(t,e,n){(e!=="number"||mp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Af=Array.isArray;function Gu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function K0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ve(92));if(Af(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rl(n)}}function n4(t,e){var n=rl(e.value),r=rl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function r4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?r4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pd,i4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nk=["Webkit","ms","Moz","O"];Object.keys(Rf).forEach(function(t){nk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rf[e]=Rf[t]})});function o4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rf.hasOwnProperty(t)&&Rf[t]?(""+e).trim():e+"px"}function s4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=o4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rk=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q0(t,e){if(e){if(rk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function X0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J0=null;function Ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Z0=null,Ku=null,Yu=null;function w5(t){if(t=Lh(t)){if(typeof Z0!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=wg(e),Z0(t.stateNode,t.type,e))}}function a4(t){Ku?Yu?Yu.push(t):Yu=[t]:Ku=t}function l4(){if(Ku){var t=Ku,e=Yu;if(Yu=Ku=null,w5(t),e)for(t=0;t<e.length;t++)w5(e[t])}}function u4(t,e){return t(e)}function c4(){}var Lm=!1;function f4(t,e,n){if(Lm)return t(e,n);Lm=!0;try{return u4(t,e,n)}finally{Lm=!1,(Ku!==null||Yu!==null)&&(c4(),l4())}}function Zf(t,e){var n=t.stateNode;if(n===null)return null;var r=wg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ve(231,e,typeof n));return n}var e1=!1;if(zs)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){e1=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{e1=!1}function ik(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Df=!1,vp=null,yp=!1,t1=null,ok={onError:function(t){Df=!0,vp=t}};function sk(t,e,n,r,i,o,s,a,l){Df=!1,vp=null,ik.apply(ok,arguments)}function ak(t,e,n,r,i,o,s,a,l){if(sk.apply(this,arguments),Df){if(Df){var u=vp;Df=!1,vp=null}else throw Error(Ve(198));yp||(yp=!0,t1=u)}}function au(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b5(t){if(au(t)!==t)throw Error(Ve(188))}function lk(t){var e=t.alternate;if(!e){if(e=au(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return b5(i),t;if(o===r)return b5(i),e;o=o.sibling}throw Error(Ve(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ve(189))}}if(n.alternate!==r)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?t:e}function d4(t){return t=lk(t),t!==null?p4(t):null}function p4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p4(t);if(e!==null)return e;t=t.sibling}return null}var g4=Wi.unstable_scheduleCallback,x5=Wi.unstable_cancelCallback,uk=Wi.unstable_shouldYield,ck=Wi.unstable_requestPaint,Zn=Wi.unstable_now,fk=Wi.unstable_getCurrentPriorityLevel,Rv=Wi.unstable_ImmediatePriority,m4=Wi.unstable_UserBlockingPriority,_p=Wi.unstable_NormalPriority,hk=Wi.unstable_LowPriority,v4=Wi.unstable_IdlePriority,mg=null,us=null;function dk(t){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(mg,t,void 0,(t.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:mk,pk=Math.log,gk=Math.LN2;function mk(t){return t>>>=0,t===0?32:31-(pk(t)/gk|0)|0}var gd=64,md=4194304;function Sf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Sf(a):(o&=s,o!==0&&(r=Sf(o)))}else s=n&~i,s!==0?r=Sf(s):o!==0&&(r=Sf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Oo(e),i=1<<n,r|=t[n],e&=~i;return r}function vk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Oo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=vk(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function n1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y4(){var t=gd;return gd<<=1,!(gd&4194240)&&(gd=64),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ih(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oo(e),t[e]=n}function _k(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Oo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Oo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var an=0;function _4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w4,jv,b4,x4,E4,r1=!1,vd=[],za=null,Ha=null,$a=null,eh=new Map,th=new Map,Ra=[],wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E5(t,e){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":eh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(e.pointerId)}}function hf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Lh(e),e!==null&&jv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bk(t,e,n,r,i){switch(e){case"focusin":return za=hf(za,t,e,n,r,i),!0;case"dragenter":return Ha=hf(Ha,t,e,n,r,i),!0;case"mouseover":return $a=hf($a,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return eh.set(o,hf(eh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,th.set(o,hf(th.get(o)||null,t,e,n,r,i)),!0}return!1}function A4(t){var e=Dl(t.target);if(e!==null){var n=au(e);if(n!==null){if(e=n.tag,e===13){if(e=h4(n),e!==null){t.blockedOn=e,E4(t.priority,function(){b4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);J0=r,n.target.dispatchEvent(r),J0=null}else return e=Lh(n),e!==null&&jv(e),t.blockedOn=n,!1;e.shift()}return!0}function A5(t,e,n){$d(t)&&n.delete(e)}function xk(){r1=!1,za!==null&&$d(za)&&(za=null),Ha!==null&&$d(Ha)&&(Ha=null),$a!==null&&$d($a)&&($a=null),eh.forEach(A5),th.forEach(A5)}function df(t,e){t.blockedOn===e&&(t.blockedOn=null,r1||(r1=!0,Wi.unstable_scheduleCallback(Wi.unstable_NormalPriority,xk)))}function nh(t){function e(i){return df(i,t)}if(0<vd.length){df(vd[0],t);for(var n=1;n<vd.length;n++){var r=vd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(za!==null&&df(za,t),Ha!==null&&df(Ha,t),$a!==null&&df($a,t),eh.forEach(e),th.forEach(e),n=0;n<Ra.length;n++)r=Ra[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ra.length&&(n=Ra[0],n.blockedOn===null);)A4(n),n.blockedOn===null&&Ra.shift()}var Qu=na.ReactCurrentBatchConfig,bp=!0;function Ek(t,e,n,r){var i=an,o=Qu.transition;Qu.transition=null;try{an=1,Mv(t,e,n,r)}finally{an=i,Qu.transition=o}}function Ak(t,e,n,r){var i=an,o=Qu.transition;Qu.transition=null;try{an=4,Mv(t,e,n,r)}finally{an=i,Qu.transition=o}}function Mv(t,e,n,r){if(bp){var i=i1(t,e,n,r);if(i===null)qm(t,e,r,xp,n),E5(t,r);else if(bk(i,t,e,n,r))r.stopPropagation();else if(E5(t,r),e&4&&-1<wk.indexOf(t)){for(;i!==null;){var o=Lh(i);if(o!==null&&w4(o),o=i1(t,e,n,r),o===null&&qm(t,e,r,xp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qm(t,e,r,null,n)}}var xp=null;function i1(t,e,n,r){if(xp=null,t=Ov(r),t=Dl(t),t!==null)if(e=au(t),e===null)t=null;else if(n=e.tag,n===13){if(t=h4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xp=t,null}function S4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fk()){case Rv:return 1;case m4:return 4;case _p:case hk:return 16;case v4:return 536870912;default:return 16}default:return 16}}var Ba=null,Fv=null,Wd=null;function N4(){if(Wd)return Wd;var t,e=Fv,n=e.length,r,i="value"in Ba?Ba.value:Ba.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Wd=i.slice(t,1<r?1-r:void 0)}function Gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yd(){return!0}function S5(){return!1}function Ki(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yd:S5,this.isPropagationStopped=S5,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),e}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=Ki(Tc),Ph=Fn({},Tc,{view:0,detail:0}),Sk=Ki(Ph),Om,Rm,pf,vg=Fn({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pf&&(pf&&t.type==="mousemove"?(Om=t.screenX-pf.screenX,Rm=t.screenY-pf.screenY):Rm=Om=0,pf=t),Om)},movementY:function(t){return"movementY"in t?t.movementY:Rm}}),N5=Ki(vg),Nk=Fn({},vg,{dataTransfer:0}),Tk=Ki(Nk),kk=Fn({},Ph,{relatedTarget:0}),Dm=Ki(kk),Ik=Fn({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=Ki(Ik),Lk=Fn({},Tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ck=Ki(Lk),Ok=Fn({},Tc,{data:0}),T5=Ki(Ok),Rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jk[t])?!!e[t]:!1}function Uv(){return Mk}var Fk=Fn({},Ph,{key:function(t){if(t.key){var e=Rk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(t){return t.type==="keypress"?Gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bk=Ki(Fk),Uk=Fn({},vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k5=Ki(Uk),Vk=Fn({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),qk=Ki(Vk),zk=Fn({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hk=Ki(zk),$k=Fn({},vg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wk=Ki($k),Gk=[9,13,27,32],Vv=zs&&"CompositionEvent"in window,jf=null;zs&&"documentMode"in document&&(jf=document.documentMode);var Kk=zs&&"TextEvent"in window&&!jf,T4=zs&&(!Vv||jf&&8<jf&&11>=jf),I5=" ",P5=!1;function k4(t,e){switch(t){case"keyup":return Gk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ju=!1;function Yk(t,e){switch(t){case"compositionend":return I4(e);case"keypress":return e.which!==32?null:(P5=!0,I5);case"textInput":return t=e.data,t===I5&&P5?null:t;default:return null}}function Qk(t,e){if(ju)return t==="compositionend"||!Vv&&k4(t,e)?(t=N4(),Wd=Fv=Ba=null,ju=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T4&&e.locale!=="ko"?null:e.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xk[t.type]:e==="textarea"}function P4(t,e,n,r){a4(r),e=Ep(e,"onChange"),0<e.length&&(n=new Bv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mf=null,rh=null;function Jk(t){V4(t,0)}function yg(t){var e=Bu(t);if(e4(e))return t}function Zk(t,e){if(t==="change")return e}var L4=!1;if(zs){var jm;if(zs){var Mm="oninput"in document;if(!Mm){var C5=document.createElement("div");C5.setAttribute("oninput","return;"),Mm=typeof C5.oninput=="function"}jm=Mm}else jm=!1;L4=jm&&(!document.documentMode||9<document.documentMode)}function O5(){Mf&&(Mf.detachEvent("onpropertychange",C4),rh=Mf=null)}function C4(t){if(t.propertyName==="value"&&yg(rh)){var e=[];P4(e,rh,t,Ov(t)),f4(Jk,e)}}function e6(t,e,n){t==="focusin"?(O5(),Mf=e,rh=n,Mf.attachEvent("onpropertychange",C4)):t==="focusout"&&O5()}function t6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yg(rh)}function n6(t,e){if(t==="click")return yg(e)}function r6(t,e){if(t==="input"||t==="change")return yg(e)}function i6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jo=typeof Object.is=="function"?Object.is:i6;function ih(t,e){if(jo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!U0.call(e,i)||!jo(t[i],e[i]))return!1}return!0}function R5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D5(t,e){var n=R5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R5(n)}}function O4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R4(){for(var t=window,e=mp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mp(t.document)}return e}function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o6(t){var e=R4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O4(n.ownerDocument.documentElement,n)){if(r!==null&&qv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=D5(n,o);var s=D5(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s6=zs&&"documentMode"in document&&11>=document.documentMode,Mu=null,o1=null,Ff=null,s1=!1;function j5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;s1||Mu==null||Mu!==mp(r)||(r=Mu,"selectionStart"in r&&qv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ff&&ih(Ff,r)||(Ff=r,r=Ep(o1,"onSelect"),0<r.length&&(e=new Bv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mu)))}function _d(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fu={animationend:_d("Animation","AnimationEnd"),animationiteration:_d("Animation","AnimationIteration"),animationstart:_d("Animation","AnimationStart"),transitionend:_d("Transition","TransitionEnd")},Fm={},D4={};zs&&(D4=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function _g(t){if(Fm[t])return Fm[t];if(!Fu[t])return t;var e=Fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D4)return Fm[t]=e[n];return t}var j4=_g("animationend"),M4=_g("animationiteration"),F4=_g("animationstart"),B4=_g("transitionend"),U4=new Map,M5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cl(t,e){U4.set(t,e),su(e,[t])}for(var Bm=0;Bm<M5.length;Bm++){var Um=M5[Bm],a6=Um.toLowerCase(),l6=Um[0].toUpperCase()+Um.slice(1);cl(a6,"on"+l6)}cl(j4,"onAnimationEnd");cl(M4,"onAnimationIteration");cl(F4,"onAnimationStart");cl("dblclick","onDoubleClick");cl("focusin","onFocus");cl("focusout","onBlur");cl(B4,"onTransitionEnd");lc("onMouseEnter",["mouseout","mouseover"]);lc("onMouseLeave",["mouseout","mouseover"]);lc("onPointerEnter",["pointerout","pointerover"]);lc("onPointerLeave",["pointerout","pointerover"]);su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));su("onBeforeInput",["compositionend","keypress","textInput","paste"]);su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nf));function F5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ak(r,e,void 0,t),t.currentTarget=null}function V4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;F5(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;F5(i,a,u),o=l}}}if(yp)throw t=t1,yp=!1,t1=null,t}function bn(t,e){var n=e[f1];n===void 0&&(n=e[f1]=new Set);var r=t+"__bubble";n.has(r)||(q4(e,t,2,!1),n.add(r))}function Vm(t,e,n){var r=0;e&&(r|=4),q4(n,t,r,e)}var wd="_reactListening"+Math.random().toString(36).slice(2);function oh(t){if(!t[wd]){t[wd]=!0,Yx.forEach(function(n){n!=="selectionchange"&&(u6.has(n)||Vm(n,!1,t),Vm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wd]||(e[wd]=!0,Vm("selectionchange",!1,e))}}function q4(t,e,n,r){switch(S4(e)){case 1:var i=Ek;break;case 4:i=Ak;break;default:i=Mv}n=i.bind(null,e,n,t),i=void 0,!e1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Dl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}f4(function(){var u=o,c=Ov(n),h=[];e:{var d=U4.get(t);if(d!==void 0){var f=Bv,y=t;switch(t){case"keypress":if(Gd(n)===0)break e;case"keydown":case"keyup":f=Bk;break;case"focusin":y="focus",f=Dm;break;case"focusout":y="blur",f=Dm;break;case"beforeblur":case"afterblur":f=Dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=N5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qk;break;case j4:case M4:case F4:f=Pk;break;case B4:f=Hk;break;case"scroll":f=Sk;break;case"wheel":f=Wk;break;case"copy":case"cut":case"paste":f=Ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=k5}var _=(e&4)!==0,x=!_&&t==="scroll",p=_?d!==null?d+"Capture":null:d;_=[];for(var v=u,A;v!==null;){A=v;var w=A.stateNode;if(A.tag===5&&w!==null&&(A=w,p!==null&&(w=Zf(v,p),w!=null&&_.push(sh(v,w,A)))),x)break;v=v.return}0<_.length&&(d=new f(d,y,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==J0&&(y=n.relatedTarget||n.fromElement)&&(Dl(y)||y[Hs]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Dl(y):null,y!==null&&(x=au(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(_=N5,w="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=k5,w="onPointerLeave",p="onPointerEnter",v="pointer"),x=f==null?d:Bu(f),A=y==null?d:Bu(y),d=new _(w,v+"leave",f,n,c),d.target=x,d.relatedTarget=A,w=null,Dl(c)===u&&(_=new _(p,v+"enter",y,n,c),_.target=A,_.relatedTarget=x,w=_),x=w,f&&y)t:{for(_=f,p=y,v=0,A=_;A;A=Su(A))v++;for(A=0,w=p;w;w=Su(w))A++;for(;0<v-A;)_=Su(_),v--;for(;0<A-v;)p=Su(p),A--;for(;v--;){if(_===p||p!==null&&_===p.alternate)break t;_=Su(_),p=Su(p)}_=null}else _=null;f!==null&&B5(h,d,f,_,!1),y!==null&&x!==null&&B5(h,x,y,_,!0)}}e:{if(d=u?Bu(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var C=Zk;else if(L5(d))if(L4)C=r6;else{C=t6;var B=e6}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=n6);if(C&&(C=C(t,u))){P4(h,C,n,c);break e}B&&B(t,d,u),t==="focusout"&&(B=d._wrapperState)&&B.controlled&&d.type==="number"&&G0(d,"number",d.value)}switch(B=u?Bu(u):window,t){case"focusin":(L5(B)||B.contentEditable==="true")&&(Mu=B,o1=u,Ff=null);break;case"focusout":Ff=o1=Mu=null;break;case"mousedown":s1=!0;break;case"contextmenu":case"mouseup":case"dragend":s1=!1,j5(h,n,c);break;case"selectionchange":if(s6)break;case"keydown":case"keyup":j5(h,n,c)}var L;if(Vv)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ju?k4(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(T4&&n.locale!=="ko"&&(ju||N!=="onCompositionStart"?N==="onCompositionEnd"&&ju&&(L=N4()):(Ba=c,Fv="value"in Ba?Ba.value:Ba.textContent,ju=!0)),B=Ep(u,N),0<B.length&&(N=new T5(N,t,null,n,c),h.push({event:N,listeners:B}),L?N.data=L:(L=I4(n),L!==null&&(N.data=L)))),(L=Kk?Yk(t,n):Qk(t,n))&&(u=Ep(u,"onBeforeInput"),0<u.length&&(c=new T5("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=L))}V4(h,e)})}function sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ep(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zf(t,n),o!=null&&r.unshift(sh(t,o,i)),o=Zf(t,e),o!=null&&r.push(sh(t,o,i))),t=t.return}return r}function Su(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B5(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Zf(n,o),l!=null&&s.unshift(sh(n,l,a))):i||(l=Zf(n,o),l!=null&&s.push(sh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var c6=/\r\n?/g,f6=/\u0000|\uFFFD/g;function U5(t){return(typeof t=="string"?t:""+t).replace(c6,`
`).replace(f6,"")}function bd(t,e,n){if(e=U5(e),U5(t)!==e&&n)throw Error(Ve(425))}function Ap(){}var a1=null,l1=null;function u1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c1=typeof setTimeout=="function"?setTimeout:void 0,h6=typeof clearTimeout=="function"?clearTimeout:void 0,V5=typeof Promise=="function"?Promise:void 0,d6=typeof queueMicrotask=="function"?queueMicrotask:typeof V5<"u"?function(t){return V5.resolve(null).then(t).catch(p6)}:c1;function p6(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nh(e)}function Wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kc=Math.random().toString(36).slice(2),ss="__reactFiber$"+kc,ah="__reactProps$"+kc,Hs="__reactContainer$"+kc,f1="__reactEvents$"+kc,g6="__reactListeners$"+kc,m6="__reactHandles$"+kc;function Dl(t){var e=t[ss];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hs]||n[ss]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q5(t);t!==null;){if(n=t[ss])return n;t=q5(t)}return e}t=n,n=t.parentNode}return null}function Lh(t){return t=t[ss]||t[Hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function wg(t){return t[ah]||null}var h1=[],Uu=-1;function fl(t){return{current:t}}function Sn(t){0>Uu||(t.current=h1[Uu],h1[Uu]=null,Uu--)}function yn(t,e){Uu++,h1[Uu]=t.current,t.current=e}var il={},ei=fl(il),xi=fl(!1),Hl=il;function uc(t,e){var n=t.type.contextTypes;if(!n)return il;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ei(t){return t=t.childContextTypes,t!=null}function Sp(){Sn(xi),Sn(ei)}function z5(t,e,n){if(ei.current!==il)throw Error(Ve(168));yn(ei,e),yn(xi,n)}function z4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ve(108,ek(t)||"Unknown",i));return Fn({},n,r)}function Np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||il,Hl=ei.current,yn(ei,t),yn(xi,xi.current),!0}function H5(t,e,n){var r=t.stateNode;if(!r)throw Error(Ve(169));n?(t=z4(t,e,Hl),r.__reactInternalMemoizedMergedChildContext=t,Sn(xi),Sn(ei),yn(ei,t)):Sn(xi),yn(xi,n)}var Os=null,bg=!1,Hm=!1;function H4(t){Os===null?Os=[t]:Os.push(t)}function v6(t){bg=!0,H4(t)}function hl(){if(!Hm&&Os!==null){Hm=!0;var t=0,e=an;try{var n=Os;for(an=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Os=null,bg=!1}catch(i){throw Os!==null&&(Os=Os.slice(t+1)),g4(Rv,hl),i}finally{an=e,Hm=!1}}return null}var Vu=[],qu=0,Tp=null,kp=0,uo=[],co=0,$l=null,js=1,Ms="";function Il(t,e){Vu[qu++]=kp,Vu[qu++]=Tp,Tp=t,kp=e}function $4(t,e,n){uo[co++]=js,uo[co++]=Ms,uo[co++]=$l,$l=t;var r=js;t=Ms;var i=32-Oo(r)-1;r&=~(1<<i),n+=1;var o=32-Oo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,js=1<<32-Oo(e)+i|n<<i|r,Ms=o+t}else js=1<<o|n<<i|r,Ms=t}function zv(t){t.return!==null&&(Il(t,1),$4(t,1,0))}function Hv(t){for(;t===Tp;)Tp=Vu[--qu],Vu[qu]=null,kp=Vu[--qu],Vu[qu]=null;for(;t===$l;)$l=uo[--co],uo[co]=null,Ms=uo[--co],uo[co]=null,js=uo[--co],uo[co]=null}var $i=null,qi=null,In=!1,Co=null;function W4(t,e){var n=fo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$i=t,qi=Wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$i=t,qi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$l!==null?{id:js,overflow:Ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$i=t,qi=null,!0):!1;default:return!1}}function d1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p1(t){if(In){var e=qi;if(e){var n=e;if(!$5(t,e)){if(d1(t))throw Error(Ve(418));e=Wa(n.nextSibling);var r=$i;e&&$5(t,e)?W4(r,n):(t.flags=t.flags&-4097|2,In=!1,$i=t)}}else{if(d1(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,In=!1,$i=t}}}function W5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$i=t}function xd(t){if(t!==$i)return!1;if(!In)return W5(t),In=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u1(t.type,t.memoizedProps)),e&&(e=qi)){if(d1(t))throw G4(),Error(Ve(418));for(;e;)W4(t,e),e=Wa(e.nextSibling)}if(W5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qi=Wa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qi=null}}else qi=$i?Wa(t.stateNode.nextSibling):null;return!0}function G4(){for(var t=qi;t;)t=Wa(t.nextSibling)}function cc(){qi=$i=null,In=!1}function $v(t){Co===null?Co=[t]:Co.push(t)}var y6=na.ReactCurrentBatchConfig;function gf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var r=n.stateNode}if(!r)throw Error(Ve(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,t))}return t}function Ed(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G5(t){var e=t._init;return e(t._payload)}function K4(t){function e(p,v){if(t){var A=p.deletions;A===null?(p.deletions=[v],p.flags|=16):A.push(v)}}function n(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=Qa(p,v),p.index=0,p.sibling=null,p}function o(p,v,A){return p.index=A,t?(A=p.alternate,A!==null?(A=A.index,A<v?(p.flags|=2,v):A):(p.flags|=2,v)):(p.flags|=1048576,v)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,v,A,w){return v===null||v.tag!==6?(v=Xm(A,p.mode,w),v.return=p,v):(v=i(v,A),v.return=p,v)}function l(p,v,A,w){var C=A.type;return C===Du?c(p,v,A.props.children,w,A.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ca&&G5(C)===v.type)?(w=i(v,A.props),w.ref=gf(p,v,A),w.return=p,w):(w=ep(A.type,A.key,A.props,null,p.mode,w),w.ref=gf(p,v,A),w.return=p,w)}function u(p,v,A,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Jm(A,p.mode,w),v.return=p,v):(v=i(v,A.children||[]),v.return=p,v)}function c(p,v,A,w,C){return v===null||v.tag!==7?(v=Vl(A,p.mode,w,C),v.return=p,v):(v=i(v,A),v.return=p,v)}function h(p,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xm(""+v,p.mode,A),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hd:return A=ep(v.type,v.key,v.props,null,p.mode,A),A.ref=gf(p,null,v),A.return=p,A;case Ru:return v=Jm(v,p.mode,A),v.return=p,v;case Ca:var w=v._init;return h(p,w(v._payload),A)}if(Af(v)||cf(v))return v=Vl(v,p.mode,A,null),v.return=p,v;Ed(p,v)}return null}function d(p,v,A,w){var C=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(p,v,""+A,w);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hd:return A.key===C?l(p,v,A,w):null;case Ru:return A.key===C?u(p,v,A,w):null;case Ca:return C=A._init,d(p,v,C(A._payload),w)}if(Af(A)||cf(A))return C!==null?null:c(p,v,A,w,null);Ed(p,A)}return null}function f(p,v,A,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(A)||null,a(v,p,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hd:return p=p.get(w.key===null?A:w.key)||null,l(v,p,w,C);case Ru:return p=p.get(w.key===null?A:w.key)||null,u(v,p,w,C);case Ca:var B=w._init;return f(p,v,A,B(w._payload),C)}if(Af(w)||cf(w))return p=p.get(A)||null,c(v,p,w,C,null);Ed(v,w)}return null}function y(p,v,A,w){for(var C=null,B=null,L=v,N=v=0,T=null;L!==null&&N<A.length;N++){L.index>N?(T=L,L=null):T=L.sibling;var k=d(p,L,A[N],w);if(k===null){L===null&&(L=T);break}t&&L&&k.alternate===null&&e(p,L),v=o(k,v,N),B===null?C=k:B.sibling=k,B=k,L=T}if(N===A.length)return n(p,L),In&&Il(p,N),C;if(L===null){for(;N<A.length;N++)L=h(p,A[N],w),L!==null&&(v=o(L,v,N),B===null?C=L:B.sibling=L,B=L);return In&&Il(p,N),C}for(L=r(p,L);N<A.length;N++)T=f(L,p,N,A[N],w),T!==null&&(t&&T.alternate!==null&&L.delete(T.key===null?N:T.key),v=o(T,v,N),B===null?C=T:B.sibling=T,B=T);return t&&L.forEach(function(E){return e(p,E)}),In&&Il(p,N),C}function _(p,v,A,w){var C=cf(A);if(typeof C!="function")throw Error(Ve(150));if(A=C.call(A),A==null)throw Error(Ve(151));for(var B=C=null,L=v,N=v=0,T=null,k=A.next();L!==null&&!k.done;N++,k=A.next()){L.index>N?(T=L,L=null):T=L.sibling;var E=d(p,L,k.value,w);if(E===null){L===null&&(L=T);break}t&&L&&E.alternate===null&&e(p,L),v=o(E,v,N),B===null?C=E:B.sibling=E,B=E,L=T}if(k.done)return n(p,L),In&&Il(p,N),C;if(L===null){for(;!k.done;N++,k=A.next())k=h(p,k.value,w),k!==null&&(v=o(k,v,N),B===null?C=k:B.sibling=k,B=k);return In&&Il(p,N),C}for(L=r(p,L);!k.done;N++,k=A.next())k=f(L,p,N,k.value,w),k!==null&&(t&&k.alternate!==null&&L.delete(k.key===null?N:k.key),v=o(k,v,N),B===null?C=k:B.sibling=k,B=k);return t&&L.forEach(function(S){return e(p,S)}),In&&Il(p,N),C}function x(p,v,A,w){if(typeof A=="object"&&A!==null&&A.type===Du&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case hd:e:{for(var C=A.key,B=v;B!==null;){if(B.key===C){if(C=A.type,C===Du){if(B.tag===7){n(p,B.sibling),v=i(B,A.props.children),v.return=p,p=v;break e}}else if(B.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ca&&G5(C)===B.type){n(p,B.sibling),v=i(B,A.props),v.ref=gf(p,B,A),v.return=p,p=v;break e}n(p,B);break}else e(p,B);B=B.sibling}A.type===Du?(v=Vl(A.props.children,p.mode,w,A.key),v.return=p,p=v):(w=ep(A.type,A.key,A.props,null,p.mode,w),w.ref=gf(p,v,A),w.return=p,p=w)}return s(p);case Ru:e:{for(B=A.key;v!==null;){if(v.key===B)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(p,v.sibling),v=i(v,A.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else e(p,v);v=v.sibling}v=Jm(A,p.mode,w),v.return=p,p=v}return s(p);case Ca:return B=A._init,x(p,v,B(A._payload),w)}if(Af(A))return y(p,v,A,w);if(cf(A))return _(p,v,A,w);Ed(p,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,A),v.return=p,p=v):(n(p,v),v=Xm(A,p.mode,w),v.return=p,p=v),s(p)):n(p,v)}return x}var fc=K4(!0),Y4=K4(!1),Ip=fl(null),Pp=null,zu=null,Wv=null;function Gv(){Wv=zu=Pp=null}function Kv(t){var e=Ip.current;Sn(Ip),t._currentValue=e}function g1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xu(t,e){Pp=t,Wv=zu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bi=!0),t.firstContext=null)}function mo(t){var e=t._currentValue;if(Wv!==t)if(t={context:t,memoizedValue:e,next:null},zu===null){if(Pp===null)throw Error(Ve(308));zu=t,Pp.dependencies={lanes:0,firstContext:t}}else zu=zu.next=t;return e}var jl=null;function Yv(t){jl===null?jl=[t]:jl.push(t)}function Q4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,$s(t,r)}function $s(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oa=!1;function Qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$s(t,n)}return i=r.interleaved,i===null?(e.next=e,Yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,$s(t,n)}function Kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}function K5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lp(t,e,n,r){var i=t.updateQueue;Oa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(d=e,f=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(f,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,d=typeof y=="function"?y.call(f,h,d):y,d==null)break e;h=Fn({},h,d);break e;case 2:Oa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Gl|=s,t.lanes=s,t.memoizedState=h}}function Y5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ve(191,i));i.call(r)}}}var Ch={},cs=fl(Ch),lh=fl(Ch),uh=fl(Ch);function Ml(t){if(t===Ch)throw Error(Ve(174));return t}function Xv(t,e){switch(yn(uh,e),yn(lh,t),yn(cs,Ch),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Y0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Y0(e,t)}Sn(cs),yn(cs,e)}function hc(){Sn(cs),Sn(lh),Sn(uh)}function J4(t){Ml(uh.current);var e=Ml(cs.current),n=Y0(e,t.type);e!==n&&(yn(lh,t),yn(cs,n))}function Jv(t){lh.current===t&&(Sn(cs),Sn(lh))}var jn=fl(0);function Cp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function Zv(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var Yd=na.ReactCurrentDispatcher,Wm=na.ReactCurrentBatchConfig,Wl=0,Mn=null,dr=null,Er=null,Op=!1,Bf=!1,ch=0,_6=0;function Hr(){throw Error(Ve(321))}function ey(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jo(t[n],e[n]))return!1;return!0}function ty(t,e,n,r,i,o){if(Wl=o,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?E6:A6,t=n(r,i),Bf){o=0;do{if(Bf=!1,ch=0,25<=o)throw Error(Ve(301));o+=1,Er=dr=null,e.updateQueue=null,Yd.current=S6,t=n(r,i)}while(Bf)}if(Yd.current=Rp,e=dr!==null&&dr.next!==null,Wl=0,Er=dr=Mn=null,Op=!1,e)throw Error(Ve(300));return t}function ny(){var t=ch!==0;return ch=0,t}function os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Mn.memoizedState=Er=t:Er=Er.next=t,Er}function vo(){if(dr===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=Er===null?Mn.memoizedState:Er.next;if(e!==null)Er=e,dr=t;else{if(t===null)throw Error(Ve(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Er===null?Mn.memoizedState=Er=t:Er=Er.next=t}return Er}function fh(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=vo(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=dr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Wl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Mn.lanes|=c,Gl|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,jo(r,e.memoizedState)||(bi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Mn.lanes|=o,Gl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Km(t){var e=vo(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);jo(o,e.memoizedState)||(bi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Z4(){}function eE(t,e){var n=Mn,r=vo(),i=e(),o=!jo(r.memoizedState,i);if(o&&(r.memoizedState=i,bi=!0),r=r.queue,ry(rE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Er!==null&&Er.memoizedState.tag&1){if(n.flags|=2048,hh(9,nE.bind(null,n,r,i,e),void 0,null),Sr===null)throw Error(Ve(349));Wl&30||tE(n,e,i)}return i}function tE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nE(t,e,n,r){e.value=n,e.getSnapshot=r,iE(e)&&oE(t)}function rE(t,e,n){return n(function(){iE(e)&&oE(t)})}function iE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jo(t,n)}catch{return!0}}function oE(t){var e=$s(t,1);e!==null&&Ro(e,t,1,-1)}function Q5(t){var e=os();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:t},e.queue=t,t=t.dispatch=x6.bind(null,Mn,t),[e.memoizedState,t]}function hh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sE(){return vo().memoizedState}function Qd(t,e,n,r){var i=os();Mn.flags|=t,i.memoizedState=hh(1|e,n,void 0,r===void 0?null:r)}function xg(t,e,n,r){var i=vo();r=r===void 0?null:r;var o=void 0;if(dr!==null){var s=dr.memoizedState;if(o=s.destroy,r!==null&&ey(r,s.deps)){i.memoizedState=hh(e,n,o,r);return}}Mn.flags|=t,i.memoizedState=hh(1|e,n,o,r)}function X5(t,e){return Qd(8390656,8,t,e)}function ry(t,e){return xg(2048,8,t,e)}function aE(t,e){return xg(4,2,t,e)}function lE(t,e){return xg(4,4,t,e)}function uE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cE(t,e,n){return n=n!=null?n.concat([t]):null,xg(4,4,uE.bind(null,e,t),n)}function iy(){}function fE(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ey(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hE(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ey(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dE(t,e,n){return Wl&21?(jo(n,e)||(n=y4(),Mn.lanes|=n,Gl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bi=!0),t.memoizedState=n)}function w6(t,e){var n=an;an=n!==0&&4>n?n:4,t(!0);var r=Wm.transition;Wm.transition={};try{t(!1),e()}finally{an=n,Wm.transition=r}}function pE(){return vo().memoizedState}function b6(t,e,n){var r=Ya(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gE(t))mE(e,n);else if(n=Q4(t,e,n,r),n!==null){var i=ui();Ro(n,t,r,i),vE(n,e,r)}}function x6(t,e,n){var r=Ya(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gE(t))mE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,jo(a,s)){var l=e.interleaved;l===null?(i.next=i,Yv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Q4(t,e,i,r),n!==null&&(i=ui(),Ro(n,t,r,i),vE(n,e,r))}}function gE(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function mE(t,e){Bf=Op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}var Rp={readContext:mo,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},E6={readContext:mo,useCallback:function(t,e){return os().memoizedState=[t,e===void 0?null:e],t},useContext:mo,useEffect:X5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qd(4194308,4,uE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qd(4,2,t,e)},useMemo:function(t,e){var n=os();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=os();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b6.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=os();return t={current:t},e.memoizedState=t},useState:Q5,useDebugValue:iy,useDeferredValue:function(t){return os().memoizedState=t},useTransition:function(){var t=Q5(!1),e=t[0];return t=w6.bind(null,t[1]),os().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,i=os();if(In){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=e(),Sr===null)throw Error(Ve(349));Wl&30||tE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,X5(rE.bind(null,r,o,t),[t]),r.flags|=2048,hh(9,nE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=os(),e=Sr.identifierPrefix;if(In){var n=Ms,r=js;n=(r&~(1<<32-Oo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ch++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A6={readContext:mo,useCallback:fE,useContext:mo,useEffect:ry,useImperativeHandle:cE,useInsertionEffect:aE,useLayoutEffect:lE,useMemo:hE,useReducer:Gm,useRef:sE,useState:function(){return Gm(fh)},useDebugValue:iy,useDeferredValue:function(t){var e=vo();return dE(e,dr.memoizedState,t)},useTransition:function(){var t=Gm(fh)[0],e=vo().memoizedState;return[t,e]},useMutableSource:Z4,useSyncExternalStore:eE,useId:pE,unstable_isNewReconciler:!1},S6={readContext:mo,useCallback:fE,useContext:mo,useEffect:ry,useImperativeHandle:cE,useInsertionEffect:aE,useLayoutEffect:lE,useMemo:hE,useReducer:Km,useRef:sE,useState:function(){return Km(fh)},useDebugValue:iy,useDeferredValue:function(t){var e=vo();return dr===null?e.memoizedState=t:dE(e,dr.memoizedState,t)},useTransition:function(){var t=Km(fh)[0],e=vo().memoizedState;return[t,e]},useMutableSource:Z4,useSyncExternalStore:eE,useId:pE,unstable_isNewReconciler:!1};function Po(t,e){if(t&&t.defaultProps){e=Fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function m1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eg={isMounted:function(t){return(t=t._reactInternals)?au(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ui(),i=Ya(t),o=qs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Ro(e,t,i,r),Kd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ui(),i=Ya(t),o=qs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ga(t,o,i),e!==null&&(Ro(e,t,i,r),Kd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ui(),r=Ya(t),i=qs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,r),e!==null&&(Ro(e,t,r,n),Kd(e,t,r))}};function J5(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ih(n,r)||!ih(i,o):!0}function yE(t,e,n){var r=!1,i=il,o=e.contextType;return typeof o=="object"&&o!==null?o=mo(o):(i=Ei(e)?Hl:ei.current,r=e.contextTypes,o=(r=r!=null)?uc(t,i):il),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Z5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eg.enqueueReplaceState(e,e.state,null)}function v1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=mo(o):(o=Ei(e)?Hl:ei.current,i.context=uc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(m1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eg.enqueueReplaceState(i,i.state,null),Lp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dc(t,e){try{var n="",r=e;do n+=ZT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N6=typeof WeakMap=="function"?WeakMap:Map;function _E(t,e,n){n=qs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jp||(jp=!0,k1=r),y1(t,e)},n}function wE(t,e,n){n=qs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){y1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){y1(t,e),typeof r!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function e_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U6.bind(null,t,e,n),e.then(t,t))}function t_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qs(-1,1),e.tag=2,Ga(n,e,1))),n.lanes|=1),t)}var T6=na.ReactCurrentOwner,bi=!1;function li(t,e,n,r){e.child=t===null?Y4(e,null,n,r):fc(e,t.child,n,r)}function r_(t,e,n,r,i){n=n.render;var o=e.ref;return Xu(e,i),r=ty(t,e,n,r,o,i),n=ny(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i)):(In&&n&&zv(e),e.flags|=1,li(t,e,r,i),e.child)}function i_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!hy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,bE(t,e,o,r,i)):(t=ep(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ih,n(s,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,t=Qa(o,r),t.ref=e.ref,t.return=e,e.child=t}function bE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ih(o,r)&&t.ref===e.ref)if(bi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bi=!0);else return e.lanes=t.lanes,Ws(t,e,i)}return _1(t,e,n,r,i)}function xE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn($u,Ui),Ui|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn($u,Ui),Ui|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,yn($u,Ui),Ui|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,yn($u,Ui),Ui|=r;return li(t,e,i,n),e.child}function EE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _1(t,e,n,r,i){var o=Ei(n)?Hl:ei.current;return o=uc(e,o),Xu(e,i),n=ty(t,e,n,r,o,i),r=ny(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i)):(In&&r&&zv(e),e.flags|=1,li(t,e,n,i),e.child)}function o_(t,e,n,r,i){if(Ei(n)){var o=!0;Np(e)}else o=!1;if(Xu(e,i),e.stateNode===null)Xd(t,e),yE(e,n,r),v1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=mo(u):(u=Ei(n)?Hl:ei.current,u=uc(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Z5(e,s,r,u),Oa=!1;var d=e.memoizedState;s.state=d,Lp(e,r,s,i),l=e.memoizedState,a!==r||d!==l||xi.current||Oa?(typeof c=="function"&&(m1(e,n,c,r),l=e.memoizedState),(a=Oa||J5(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,X4(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Po(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=mo(l):(l=Ei(n)?Hl:ei.current,l=uc(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Z5(e,s,r,l),Oa=!1,d=e.memoizedState,s.state=d,Lp(e,r,s,i);var y=e.memoizedState;a!==h||d!==y||xi.current||Oa?(typeof f=="function"&&(m1(e,n,f,r),y=e.memoizedState),(u=Oa||J5(e,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return w1(t,e,n,r,o,i)}function w1(t,e,n,r,i,o){EE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&H5(e,n,!1),Ws(t,e,o);r=e.stateNode,T6.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=fc(e,t.child,null,o),e.child=fc(e,null,a,o)):li(t,e,a,o),e.memoizedState=r.state,i&&H5(e,n,!0),e.child}function AE(t){var e=t.stateNode;e.pendingContext?z5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z5(t,e.context,!1),Xv(t,e.containerInfo)}function s_(t,e,n,r,i){return cc(),$v(i),e.flags|=256,li(t,e,n,r),e.child}var b1={dehydrated:null,treeContext:null,retryLane:0};function x1(t){return{baseLanes:t,cachePool:null,transitions:null}}function SE(t,e,n){var r=e.pendingProps,i=jn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(jn,i&1),t===null)return p1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ng(s,r,0,null),t=Vl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=x1(n),e.memoizedState=b1,t):oy(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return k6(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qa(a,o):(o=Vl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?x1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=b1,r}return o=t.child,t=o.sibling,r=Qa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oy(t,e){return e=Ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ad(t,e,n,r){return r!==null&&$v(r),fc(e,t.child,null,n),t=oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k6(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ym(Error(Ve(422))),Ad(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ng({mode:"visible",children:r.children},i,0,null),o=Vl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&fc(e,t.child,null,s),e.child.memoizedState=x1(s),e.memoizedState=b1,o);if(!(e.mode&1))return Ad(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ve(419)),r=Ym(o,r,void 0),Ad(t,e,s,r)}if(a=(s&t.childLanes)!==0,bi||a){if(r=Sr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$s(t,i),Ro(r,t,i,-1))}return fy(),r=Ym(Error(Ve(421))),Ad(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qi=Wa(i.nextSibling),$i=e,In=!0,Co=null,t!==null&&(uo[co++]=js,uo[co++]=Ms,uo[co++]=$l,js=t.id,Ms=t.overflow,$l=e),e=oy(e,r.children),e.flags|=4096,e)}function a_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g1(t.return,e,n)}function Qm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function NE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(li(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,n,e);else if(t.tag===19)a_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(jn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qm(e,!0,n,null,o);break;case"together":Qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,n=Qa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I6(t,e,n){switch(e.tag){case 3:AE(e),cc();break;case 5:J4(e);break;case 1:Ei(e.type)&&Np(e);break;case 4:Xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(Ip,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(jn,jn.current&1),e.flags|=128,null):n&e.child.childLanes?SE(t,e,n):(yn(jn,jn.current&1),t=Ws(t,e,n),t!==null?t.sibling:null);yn(jn,jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,xE(t,e,n)}return Ws(t,e,n)}var TE,E1,kE,IE;TE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E1=function(){};kE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ml(cs.current);var o=null;switch(n){case"input":i=$0(t,i),r=$0(t,r),o=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),o=[];break;case"textarea":i=K0(t,i),r=K0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ap)}Q0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xf.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&bn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};IE=function(t,e,n,r){n!==r&&(e.flags|=4)};function mf(t,e){if(!In)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P6(t,e,n){var r=e.pendingProps;switch(Hv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(e),null;case 1:return Ei(e.type)&&Sp(),$r(e),null;case 3:return r=e.stateNode,hc(),Sn(xi),Sn(ei),Zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Co!==null&&(L1(Co),Co=null))),E1(t,e),$r(e),null;case 5:Jv(e);var i=Ml(uh.current);if(n=e.type,t!==null&&e.stateNode!=null)kE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ve(166));return $r(e),null}if(t=Ml(cs.current),xd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ss]=e,r[ah]=o,t=(e.mode&1)!==0,n){case"dialog":bn("cancel",r),bn("close",r);break;case"iframe":case"object":case"embed":bn("load",r);break;case"video":case"audio":for(i=0;i<Nf.length;i++)bn(Nf[i],r);break;case"source":bn("error",r);break;case"img":case"image":case"link":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"input":m5(r,o),bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},bn("invalid",r);break;case"textarea":y5(r,o),bn("invalid",r)}Q0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&bd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bd(r.textContent,a,t),i=["children",""+a]):Xf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&bn("scroll",r)}switch(n){case"input":dd(r),v5(r,o,!0);break;case"textarea":dd(r),_5(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ap)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=r4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ss]=e,t[ah]=r,TE(t,e,!1,!1),e.stateNode=t;e:{switch(s=X0(n,r),n){case"dialog":bn("cancel",t),bn("close",t),i=r;break;case"iframe":case"object":case"embed":bn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nf.length;i++)bn(Nf[i],t);i=r;break;case"source":bn("error",t),i=r;break;case"img":case"image":case"link":bn("error",t),bn("load",t),i=r;break;case"details":bn("toggle",t),i=r;break;case"input":m5(t,r),i=$0(t,r),bn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),bn("invalid",t);break;case"textarea":y5(t,r),i=K0(t,r),bn("invalid",t);break;default:i=r}Q0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?s4(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i4(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jf(t,l):typeof l=="number"&&Jf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&bn("scroll",t):l!=null&&Iv(t,o,l,s))}switch(n){case"input":dd(t),v5(t,r,!1);break;case"textarea":dd(t),_5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gu(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ap)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $r(e),null;case 6:if(t&&e.stateNode!=null)IE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ve(166));if(n=Ml(uh.current),Ml(cs.current),xd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ss]=e,(o=r.nodeValue!==n)&&(t=$i,t!==null))switch(t.tag){case 3:bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=e,e.stateNode=r}return $r(e),null;case 13:if(Sn(jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(In&&qi!==null&&e.mode&1&&!(e.flags&128))G4(),cc(),e.flags|=98560,o=!1;else if(o=xd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ve(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ve(317));o[ss]=e}else cc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$r(e),o=!1}else Co!==null&&(L1(Co),Co=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jn.current&1?pr===0&&(pr=3):fy())),e.updateQueue!==null&&(e.flags|=4),$r(e),null);case 4:return hc(),E1(t,e),t===null&&oh(e.stateNode.containerInfo),$r(e),null;case 10:return Kv(e.type._context),$r(e),null;case 17:return Ei(e.type)&&Sp(),$r(e),null;case 19:if(Sn(jn),o=e.memoizedState,o===null)return $r(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)mf(o,!1);else{if(pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Cp(t),s!==null){for(e.flags|=128,mf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(jn,jn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Zn()>pc&&(e.flags|=128,r=!0,mf(o,!1),e.lanes=4194304)}else{if(!r)if(t=Cp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!In)return $r(e),null}else 2*Zn()-o.renderingStartTime>pc&&n!==1073741824&&(e.flags|=128,r=!0,mf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Zn(),e.sibling=null,n=jn.current,yn(jn,r?n&1|2:n&1),e):($r(e),null);case 22:case 23:return cy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ui&1073741824&&($r(e),e.subtreeFlags&6&&(e.flags|=8192)):$r(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function L6(t,e){switch(Hv(e),e.tag){case 1:return Ei(e.type)&&Sp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hc(),Sn(xi),Sn(ei),Zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jv(e),null;case 13:if(Sn(jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));cc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(jn),null;case 4:return hc(),null;case 10:return Kv(e.type._context),null;case 22:case 23:return cy(),null;case 24:return null;default:return null}}var Sd=!1,Jr=!1,C6=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Hu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$n(t,e,r)}else n.current=null}function A1(t,e,n){try{n()}catch(r){$n(t,e,r)}}var l_=!1;function O6(t,e){if(a1=bp,t=R4(),qv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(l1={focusedElem:t,selectionRange:n},bp=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:Po(e.type,_),x);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(w){$n(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return y=l_,l_=!1,y}function Uf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&A1(e,n,o)}i=i.next}while(i!==r)}}function Ag(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function S1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PE(t){var e=t.alternate;e!==null&&(t.alternate=null,PE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ss],delete e[ah],delete e[f1],delete e[g6],delete e[m6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LE(t){return t.tag===5||t.tag===3||t.tag===4}function u_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function N1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ap));else if(r!==4&&(t=t.child,t!==null))for(N1(t,e,n),t=t.sibling;t!==null;)N1(t,e,n),t=t.sibling}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}var Lr=null,Lo=!1;function ka(t,e,n){for(n=n.child;n!==null;)CE(t,e,n),n=n.sibling}function CE(t,e,n){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(mg,n)}catch{}switch(n.tag){case 5:Jr||Hu(n,e);case 6:var r=Lr,i=Lo;Lr=null,ka(t,e,n),Lr=r,Lo=i,Lr!==null&&(Lo?(t=Lr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lr.removeChild(n.stateNode));break;case 18:Lr!==null&&(Lo?(t=Lr,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),nh(t)):zm(Lr,n.stateNode));break;case 4:r=Lr,i=Lo,Lr=n.stateNode.containerInfo,Lo=!0,ka(t,e,n),Lr=r,Lo=i;break;case 0:case 11:case 14:case 15:if(!Jr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&A1(n,e,s),i=i.next}while(i!==r)}ka(t,e,n);break;case 1:if(!Jr&&(Hu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$n(n,e,a)}ka(t,e,n);break;case 21:ka(t,e,n);break;case 22:n.mode&1?(Jr=(r=Jr)||n.memoizedState!==null,ka(t,e,n),Jr=r):ka(t,e,n);break;default:ka(t,e,n)}}function c_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C6),e.forEach(function(r){var i=q6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ko(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Lr=a.stateNode,Lo=!1;break e;case 3:Lr=a.stateNode.containerInfo,Lo=!0;break e;case 4:Lr=a.stateNode.containerInfo,Lo=!0;break e}a=a.return}if(Lr===null)throw Error(Ve(160));CE(o,s,i),Lr=null,Lo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$n(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OE(e,t),e=e.sibling}function OE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ko(e,t),ts(t),r&4){try{Uf(3,t,t.return),Ag(3,t)}catch(_){$n(t,t.return,_)}try{Uf(5,t,t.return)}catch(_){$n(t,t.return,_)}}break;case 1:ko(e,t),ts(t),r&512&&n!==null&&Hu(n,n.return);break;case 5:if(ko(e,t),ts(t),r&512&&n!==null&&Hu(n,n.return),t.flags&32){var i=t.stateNode;try{Jf(i,"")}catch(_){$n(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&t4(i,o),X0(a,s);var u=X0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?s4(i,h):c==="dangerouslySetInnerHTML"?i4(i,h):c==="children"?Jf(i,h):Iv(i,c,h,u)}switch(a){case"input":W0(i,o);break;case"textarea":n4(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Gu(i,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?Gu(i,!!o.multiple,o.defaultValue,!0):Gu(i,!!o.multiple,o.multiple?[]:"",!1))}i[ah]=o}catch(_){$n(t,t.return,_)}}break;case 6:if(ko(e,t),ts(t),r&4){if(t.stateNode===null)throw Error(Ve(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){$n(t,t.return,_)}}break;case 3:if(ko(e,t),ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nh(e.containerInfo)}catch(_){$n(t,t.return,_)}break;case 4:ko(e,t),ts(t);break;case 13:ko(e,t),ts(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ly=Zn())),r&4&&c_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jr=(u=Jr)||c,ko(e,t),Jr=u):ko(e,t),ts(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Je=t,c=t.child;c!==null;){for(h=Je=c;Je!==null;){switch(d=Je,f=d.child,d.tag){case 0:case 11:case 14:case 15:Uf(4,d,d.return);break;case 1:Hu(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){$n(r,n,_)}}break;case 5:Hu(d,d.return);break;case 22:if(d.memoizedState!==null){h_(h);continue}}f!==null?(f.return=d,Je=f):h_(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=o4("display",s))}catch(_){$n(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){$n(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ko(e,t),ts(t),r&4&&c_(t);break;case 21:break;default:ko(e,t),ts(t)}}function ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LE(n)){var r=n;break e}n=n.return}throw Error(Ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jf(i,""),r.flags&=-33);var o=u_(t);T1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=u_(t);N1(t,a,s);break;default:throw Error(Ve(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R6(t,e,n){Je=t,RE(t)}function RE(t,e,n){for(var r=(t.mode&1)!==0;Je!==null;){var i=Je,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Sd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jr;a=Sd;var u=Jr;if(Sd=s,(Jr=l)&&!u)for(Je=i;Je!==null;)s=Je,l=s.child,s.tag===22&&s.memoizedState!==null?d_(i):l!==null?(l.return=s,Je=l):d_(i);for(;o!==null;)Je=o,RE(o),o=o.sibling;Je=i,Sd=a,Jr=u}f_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Je=o):f_(t)}}function f_(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jr||Ag(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Po(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Y5(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y5(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&nh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}Jr||e.flags&512&&S1(e)}catch(d){$n(e,e.return,d)}}if(e===t){Je=null;break}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}}function h_(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Je=n;break}Je=e.return}}function d_(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ag(4,e)}catch(l){$n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$n(e,i,l)}}var o=e.return;try{S1(e)}catch(l){$n(e,o,l)}break;case 5:var s=e.return;try{S1(e)}catch(l){$n(e,s,l)}}}catch(l){$n(e,e.return,l)}if(e===t){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var D6=Math.ceil,Dp=na.ReactCurrentDispatcher,sy=na.ReactCurrentOwner,ho=na.ReactCurrentBatchConfig,Gt=0,Sr=null,or=null,Rr=0,Ui=0,$u=fl(0),pr=0,dh=null,Gl=0,Sg=0,ay=0,Vf=null,_i=null,ly=0,pc=1/0,Cs=null,jp=!1,k1=null,Ka=null,Nd=!1,Ua=null,Mp=0,qf=0,I1=null,Jd=-1,Zd=0;function ui(){return Gt&6?Zn():Jd!==-1?Jd:Jd=Zn()}function Ya(t){return t.mode&1?Gt&2&&Rr!==0?Rr&-Rr:y6.transition!==null?(Zd===0&&(Zd=y4()),Zd):(t=an,t!==0||(t=window.event,t=t===void 0?16:S4(t.type)),t):1}function Ro(t,e,n,r){if(50<qf)throw qf=0,I1=null,Error(Ve(185));Ih(t,n,r),(!(Gt&2)||t!==Sr)&&(t===Sr&&(!(Gt&2)&&(Sg|=n),pr===4&&Da(t,Rr)),Ai(t,r),n===1&&Gt===0&&!(e.mode&1)&&(pc=Zn()+500,bg&&hl()))}function Ai(t,e){var n=t.callbackNode;yk(t,e);var r=wp(t,t===Sr?Rr:0);if(r===0)n!==null&&x5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x5(n),e===1)t.tag===0?v6(p_.bind(null,t)):H4(p_.bind(null,t)),d6(function(){!(Gt&6)&&hl()}),n=null;else{switch(_4(r)){case 1:n=Rv;break;case 4:n=m4;break;case 16:n=_p;break;case 536870912:n=v4;break;default:n=_p}n=qE(n,DE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DE(t,e){if(Jd=-1,Zd=0,Gt&6)throw Error(Ve(327));var n=t.callbackNode;if(Ju()&&t.callbackNode!==n)return null;var r=wp(t,t===Sr?Rr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fp(t,r);else{e=r;var i=Gt;Gt|=2;var o=ME();(Sr!==t||Rr!==e)&&(Cs=null,pc=Zn()+500,Ul(t,e));do try{F6();break}catch(a){jE(t,a)}while(!0);Gv(),Dp.current=o,Gt=i,or!==null?e=0:(Sr=null,Rr=0,e=pr)}if(e!==0){if(e===2&&(i=n1(t),i!==0&&(r=i,e=P1(t,i))),e===1)throw n=dh,Ul(t,0),Da(t,r),Ai(t,Zn()),n;if(e===6)Da(t,r);else{if(i=t.current.alternate,!(r&30)&&!j6(i)&&(e=Fp(t,r),e===2&&(o=n1(t),o!==0&&(r=o,e=P1(t,o))),e===1))throw n=dh,Ul(t,0),Da(t,r),Ai(t,Zn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ve(345));case 2:Pl(t,_i,Cs);break;case 3:if(Da(t,r),(r&130023424)===r&&(e=ly+500-Zn(),10<e)){if(wp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ui(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c1(Pl.bind(null,t,_i,Cs),e);break}Pl(t,_i,Cs);break;case 4:if(Da(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Oo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D6(r/1960))-r,10<r){t.timeoutHandle=c1(Pl.bind(null,t,_i,Cs),r);break}Pl(t,_i,Cs);break;case 5:Pl(t,_i,Cs);break;default:throw Error(Ve(329))}}}return Ai(t,Zn()),t.callbackNode===n?DE.bind(null,t):null}function P1(t,e){var n=Vf;return t.current.memoizedState.isDehydrated&&(Ul(t,e).flags|=256),t=Fp(t,e),t!==2&&(e=_i,_i=n,e!==null&&L1(e)),t}function L1(t){_i===null?_i=t:_i.push.apply(_i,t)}function j6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e){for(e&=~ay,e&=~Sg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Oo(e),r=1<<n;t[n]=-1,e&=~r}}function p_(t){if(Gt&6)throw Error(Ve(327));Ju();var e=wp(t,0);if(!(e&1))return Ai(t,Zn()),null;var n=Fp(t,e);if(t.tag!==0&&n===2){var r=n1(t);r!==0&&(e=r,n=P1(t,r))}if(n===1)throw n=dh,Ul(t,0),Da(t,e),Ai(t,Zn()),n;if(n===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pl(t,_i,Cs),Ai(t,Zn()),null}function uy(t,e){var n=Gt;Gt|=1;try{return t(e)}finally{Gt=n,Gt===0&&(pc=Zn()+500,bg&&hl())}}function Kl(t){Ua!==null&&Ua.tag===0&&!(Gt&6)&&Ju();var e=Gt;Gt|=1;var n=ho.transition,r=an;try{if(ho.transition=null,an=1,t)return t()}finally{an=r,ho.transition=n,Gt=e,!(Gt&6)&&hl()}}function cy(){Ui=$u.current,Sn($u)}function Ul(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h6(n)),or!==null)for(n=or.return;n!==null;){var r=n;switch(Hv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sp();break;case 3:hc(),Sn(xi),Sn(ei),Zv();break;case 5:Jv(r);break;case 4:hc();break;case 13:Sn(jn);break;case 19:Sn(jn);break;case 10:Kv(r.type._context);break;case 22:case 23:cy()}n=n.return}if(Sr=t,or=t=Qa(t.current,null),Rr=Ui=e,pr=0,dh=null,ay=Sg=Gl=0,_i=Vf=null,jl!==null){for(e=0;e<jl.length;e++)if(n=jl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}jl=null}return t}function jE(t,e){do{var n=or;try{if(Gv(),Yd.current=Rp,Op){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Op=!1}if(Wl=0,Er=dr=Mn=null,Bf=!1,ch=0,sy.current=null,n===null||n.return===null){pr=1,dh=e,or=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=t_(s);if(f!==null){f.flags&=-257,n_(f,s,a,o,e),f.mode&1&&e_(o,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){e_(o,u,e),fy();break e}l=Error(Ve(426))}}else if(In&&a.mode&1){var x=t_(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),n_(x,s,a,o,e),$v(dc(l,a));break e}}o=l=dc(l,a),pr!==4&&(pr=2),Vf===null?Vf=[o]:Vf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=_E(o,l,e);K5(o,p);break e;case 1:a=l;var v=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ka===null||!Ka.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=wE(o,a,e);K5(o,w);break e}}o=o.return}while(o!==null)}BE(n)}catch(C){e=C,or===n&&n!==null&&(or=n=n.return);continue}break}while(!0)}function ME(){var t=Dp.current;return Dp.current=Rp,t===null?Rp:t}function fy(){(pr===0||pr===3||pr===2)&&(pr=4),Sr===null||!(Gl&268435455)&&!(Sg&268435455)||Da(Sr,Rr)}function Fp(t,e){var n=Gt;Gt|=2;var r=ME();(Sr!==t||Rr!==e)&&(Cs=null,Ul(t,e));do try{M6();break}catch(i){jE(t,i)}while(!0);if(Gv(),Gt=n,Dp.current=r,or!==null)throw Error(Ve(261));return Sr=null,Rr=0,pr}function M6(){for(;or!==null;)FE(or)}function F6(){for(;or!==null&&!uk();)FE(or)}function FE(t){var e=VE(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,e===null?BE(t):or=e,sy.current=null}function BE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L6(n,e),n!==null){n.flags&=32767,or=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pr=6,or=null;return}}else if(n=P6(n,e,Ui),n!==null){or=n;return}if(e=e.sibling,e!==null){or=e;return}or=e=t}while(e!==null);pr===0&&(pr=5)}function Pl(t,e,n){var r=an,i=ho.transition;try{ho.transition=null,an=1,B6(t,e,n,r)}finally{ho.transition=i,an=r}return null}function B6(t,e,n,r){do Ju();while(Ua!==null);if(Gt&6)throw Error(Ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_k(t,o),t===Sr&&(or=Sr=null,Rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nd||(Nd=!0,qE(_p,function(){return Ju(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ho.transition,ho.transition=null;var s=an;an=1;var a=Gt;Gt|=4,sy.current=null,O6(t,n),OE(n,t),o6(l1),bp=!!a1,l1=a1=null,t.current=n,R6(n),ck(),Gt=a,an=s,ho.transition=o}else t.current=n;if(Nd&&(Nd=!1,Ua=t,Mp=i),o=t.pendingLanes,o===0&&(Ka=null),dk(n.stateNode),Ai(t,Zn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jp)throw jp=!1,t=k1,k1=null,t;return Mp&1&&t.tag!==0&&Ju(),o=t.pendingLanes,o&1?t===I1?qf++:(qf=0,I1=t):qf=0,hl(),null}function Ju(){if(Ua!==null){var t=_4(Mp),e=ho.transition,n=an;try{if(ho.transition=null,an=16>t?16:t,Ua===null)var r=!1;else{if(t=Ua,Ua=null,Mp=0,Gt&6)throw Error(Ve(331));var i=Gt;for(Gt|=4,Je=t.current;Je!==null;){var o=Je,s=o.child;if(Je.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Je=u;Je!==null;){var c=Je;switch(c.tag){case 0:case 11:case 15:Uf(8,c,o)}var h=c.child;if(h!==null)h.return=c,Je=h;else for(;Je!==null;){c=Je;var d=c.sibling,f=c.return;if(PE(c),c===u){Je=null;break}if(d!==null){d.return=f,Je=d;break}Je=f}}}var y=o.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}Je=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Je=s;else e:for(;Je!==null;){if(o=Je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Uf(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Je=p;break e}Je=o.return}}var v=t.current;for(Je=v;Je!==null;){s=Je;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Je=A;else e:for(s=v;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ag(9,a)}}catch(C){$n(a,a.return,C)}if(a===s){Je=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Je=w;break e}Je=a.return}}if(Gt=i,hl(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(mg,t)}catch{}r=!0}return r}finally{an=n,ho.transition=e}}return!1}function g_(t,e,n){e=dc(n,e),e=_E(t,e,1),t=Ga(t,e,1),e=ui(),t!==null&&(Ih(t,1,e),Ai(t,e))}function $n(t,e,n){if(t.tag===3)g_(t,t,n);else for(;e!==null;){if(e.tag===3){g_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ka===null||!Ka.has(r))){t=dc(n,t),t=wE(e,t,1),e=Ga(e,t,1),t=ui(),e!==null&&(Ih(e,1,t),Ai(e,t));break}}e=e.return}}function U6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ui(),t.pingedLanes|=t.suspendedLanes&n,Sr===t&&(Rr&n)===n&&(pr===4||pr===3&&(Rr&130023424)===Rr&&500>Zn()-ly?Ul(t,0):ay|=n),Ai(t,e)}function UE(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=ui();t=$s(t,e),t!==null&&(Ih(t,e,n),Ai(t,n))}function V6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UE(t,n)}function q6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ve(314))}r!==null&&r.delete(e),UE(t,n)}var VE;VE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xi.current)bi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bi=!1,I6(t,e,n);bi=!!(t.flags&131072)}else bi=!1,In&&e.flags&1048576&&$4(e,kp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xd(t,e),t=e.pendingProps;var i=uc(e,ei.current);Xu(e,n),i=ty(null,e,r,t,i,n);var o=ny();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ei(r)?(o=!0,Np(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qv(e),i.updater=Eg,e.stateNode=i,i._reactInternals=e,v1(e,r,t,n),e=w1(null,e,r,!0,o,n)):(e.tag=0,In&&o&&zv(e),li(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=H6(r),t=Po(r,t),i){case 0:e=_1(null,e,r,t,n);break e;case 1:e=o_(null,e,r,t,n);break e;case 11:e=r_(null,e,r,t,n);break e;case 14:e=i_(null,e,r,Po(r.type,t),n);break e}throw Error(Ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),_1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),o_(t,e,r,i,n);case 3:e:{if(AE(e),t===null)throw Error(Ve(387));r=e.pendingProps,o=e.memoizedState,i=o.element,X4(t,e),Lp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=dc(Error(Ve(423)),e),e=s_(t,e,r,n,i);break e}else if(r!==i){i=dc(Error(Ve(424)),e),e=s_(t,e,r,n,i);break e}else for(qi=Wa(e.stateNode.containerInfo.firstChild),$i=e,In=!0,Co=null,n=Y4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cc(),r===i){e=Ws(t,e,n);break e}li(t,e,r,n)}e=e.child}return e;case 5:return J4(e),t===null&&p1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,u1(r,i)?s=null:o!==null&&u1(r,o)&&(e.flags|=32),EE(t,e),li(t,e,s,n),e.child;case 6:return t===null&&p1(e),null;case 13:return SE(t,e,n);case 4:return Xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fc(e,null,r,n):li(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),r_(t,e,r,i,n);case 7:return li(t,e,e.pendingProps,n),e.child;case 8:return li(t,e,e.pendingProps.children,n),e.child;case 12:return li(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,yn(Ip,r._currentValue),r._currentValue=s,o!==null)if(jo(o.value,s)){if(o.children===i.children&&!xi.current){e=Ws(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=qs(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),g1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ve(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),g1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}li(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xu(e,n),i=mo(i),r=r(i),e.flags|=1,li(t,e,r,n),e.child;case 14:return r=e.type,i=Po(r,e.pendingProps),i=Po(r.type,i),i_(t,e,r,i,n);case 15:return bE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Po(r,i),Xd(t,e),e.tag=1,Ei(r)?(t=!0,Np(e)):t=!1,Xu(e,n),yE(e,r,i),v1(e,r,i,n),w1(null,e,r,!0,t,n);case 19:return NE(t,e,n);case 22:return xE(t,e,n)}throw Error(Ve(156,e.tag))};function qE(t,e){return g4(t,e)}function z6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(t,e,n,r){return new z6(t,e,n,r)}function hy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H6(t){if(typeof t=="function")return hy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lv)return 11;if(t===Cv)return 14}return 2}function Qa(t,e){var n=t.alternate;return n===null?(n=fo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ep(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")hy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Du:return Vl(n.children,i,o,e);case Pv:s=8,i|=8;break;case V0:return t=fo(12,n,e,i|2),t.elementType=V0,t.lanes=o,t;case q0:return t=fo(13,n,e,i),t.elementType=q0,t.lanes=o,t;case z0:return t=fo(19,n,e,i),t.elementType=z0,t.lanes=o,t;case Jx:return Ng(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qx:s=10;break e;case Xx:s=9;break e;case Lv:s=11;break e;case Cv:s=14;break e;case Ca:s=16,r=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=fo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vl(t,e,n,r){return t=fo(7,t,r,e),t.lanes=n,t}function Ng(t,e,n,r){return t=fo(22,t,r,e),t.elementType=Jx,t.lanes=n,t.stateNode={isHidden:!1},t}function Xm(t,e,n){return t=fo(6,t,null,e),t.lanes=n,t}function Jm(t,e,n){return e=fo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dy(t,e,n,r,i,o,s,a,l){return t=new $6(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(o),t}function W6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zE(t){if(!t)return il;t=t._reactInternals;e:{if(au(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var n=t.type;if(Ei(n))return z4(t,n,e)}return e}function HE(t,e,n,r,i,o,s,a,l){return t=dy(n,r,!0,t,i,o,s,a,l),t.context=zE(null),n=t.current,r=ui(),i=Ya(n),o=qs(r,i),o.callback=e??null,Ga(n,o,i),t.current.lanes=i,Ih(t,i,r),Ai(t,r),t}function Tg(t,e,n,r){var i=e.current,o=ui(),s=Ya(i);return n=zE(n),e.context===null?e.context=n:e.pendingContext=n,e=qs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ga(i,e,s),t!==null&&(Ro(t,i,s,o),Kd(t,i,s)),s}function Bp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function py(t,e){m_(t,e),(t=t.alternate)&&m_(t,e)}function G6(){return null}var $E=typeof reportError=="function"?reportError:function(t){console.error(t)};function gy(t){this._internalRoot=t}kg.prototype.render=gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));Tg(t,e,null,null)};kg.prototype.unmount=gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kl(function(){Tg(null,t,null,null)}),e[Hs]=null}};function kg(t){this._internalRoot=t}kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=x4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ra.length&&e!==0&&e<Ra[n].priority;n++);Ra.splice(n,0,t),n===0&&A4(t)}};function my(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function v_(){}function K6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Bp(s);o.call(u)}}var s=HE(e,r,t,0,null,!1,!1,"",v_);return t._reactRootContainer=s,t[Hs]=s.current,oh(t.nodeType===8?t.parentNode:t),Kl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Bp(l);a.call(u)}}var l=dy(t,0,!1,null,null,!1,!1,"",v_);return t._reactRootContainer=l,t[Hs]=l.current,oh(t.nodeType===8?t.parentNode:t),Kl(function(){Tg(e,l,n,r)}),l}function Pg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Bp(s);a.call(l)}}Tg(e,s,t,i)}else s=K6(n,e,t,i,r);return Bp(s)}w4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sf(e.pendingLanes);n!==0&&(Dv(e,n|1),Ai(e,Zn()),!(Gt&6)&&(pc=Zn()+500,hl()))}break;case 13:Kl(function(){var r=$s(t,1);if(r!==null){var i=ui();Ro(r,t,1,i)}}),py(t,1)}};jv=function(t){if(t.tag===13){var e=$s(t,134217728);if(e!==null){var n=ui();Ro(e,t,134217728,n)}py(t,134217728)}};b4=function(t){if(t.tag===13){var e=Ya(t),n=$s(t,e);if(n!==null){var r=ui();Ro(n,t,e,r)}py(t,e)}};x4=function(){return an};E4=function(t,e){var n=an;try{return an=t,e()}finally{an=n}};Z0=function(t,e,n){switch(e){case"input":if(W0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wg(r);if(!i)throw Error(Ve(90));e4(r),W0(r,i)}}}break;case"textarea":n4(t,n);break;case"select":e=n.value,e!=null&&Gu(t,!!n.multiple,e,!1)}};u4=uy;c4=Kl;var Y6={usingClientEntryPoint:!1,Events:[Lh,Bu,wg,a4,l4,uy]},vf={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q6={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d4(t),t===null?null:t.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||G6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{mg=Td.inject(Q6),us=Td}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y6;Gi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!my(e))throw Error(Ve(200));return W6(t,e,null,n)};Gi.createRoot=function(t,e){if(!my(t))throw Error(Ve(299));var n=!1,r="",i=$E;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dy(t,1,!1,null,null,n,!1,r,i),t[Hs]=e.current,oh(t.nodeType===8?t.parentNode:t),new gy(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=d4(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return Kl(t)};Gi.hydrate=function(t,e,n){if(!Ig(e))throw Error(Ve(200));return Pg(null,t,e,!0,n)};Gi.hydrateRoot=function(t,e,n){if(!my(t))throw Error(Ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=$E;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=HE(e,null,t,1,n??null,i,!1,o,s),t[Hs]=e.current,oh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kg(e)};Gi.render=function(t,e,n){if(!Ig(e))throw Error(Ve(200));return Pg(null,t,e,!1,n)};Gi.unmountComponentAtNode=function(t){if(!Ig(t))throw Error(Ve(40));return t._reactRootContainer?(Kl(function(){Pg(null,null,t,!1,function(){t._reactRootContainer=null,t[Hs]=null})}),!0):!1};Gi.unstable_batchedUpdates=uy;Gi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ig(n))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return Pg(t,e,n,!1,r)};Gi.version="18.3.1-next-f1338f8080-20240426";function WE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WE)}catch(t){console.error(t)}}WE(),Wx.exports=Gi;var GE=Wx.exports,y_=GE;B0.createRoot=y_.createRoot,B0.hydrateRoot=y_.hydrateRoot;function X6(){this.__data__=[],this.size=0}var J6=X6;function Z6(t,e){return t===e||t!==t&&e!==e}var KE=Z6,eI=KE;function tI(t,e){for(var n=t.length;n--;)if(eI(t[n][0],e))return n;return-1}var Lg=tI,nI=Lg,rI=Array.prototype,iI=rI.splice;function oI(t){var e=this.__data__,n=nI(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():iI.call(e,n,1),--this.size,!0}var sI=oI,aI=Lg;function lI(t){var e=this.__data__,n=aI(e,t);return n<0?void 0:e[n][1]}var uI=lI,cI=Lg;function fI(t){return cI(this.__data__,t)>-1}var hI=fI,dI=Lg;function pI(t,e){var n=this.__data__,r=dI(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var gI=pI,mI=J6,vI=sI,yI=uI,_I=hI,wI=gI;function Ic(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ic.prototype.clear=mI;Ic.prototype.delete=vI;Ic.prototype.get=yI;Ic.prototype.has=_I;Ic.prototype.set=wI;var Cg=Ic,bI=Cg;function xI(){this.__data__=new bI,this.size=0}var EI=xI;function AI(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var SI=AI;function NI(t){return this.__data__.get(t)}var TI=NI;function kI(t){return this.__data__.has(t)}var II=kI,PI=typeof Vi=="object"&&Vi&&Vi.Object===Object&&Vi,YE=PI,LI=YE,CI=typeof self=="object"&&self&&self.Object===Object&&self,OI=LI||CI||Function("return this")(),ra=OI,RI=ra,DI=RI.Symbol,vy=DI,__=vy,QE=Object.prototype,jI=QE.hasOwnProperty,MI=QE.toString,yf=__?__.toStringTag:void 0;function FI(t){var e=jI.call(t,yf),n=t[yf];try{t[yf]=void 0;var r=!0}catch{}var i=MI.call(t);return r&&(e?t[yf]=n:delete t[yf]),i}var BI=FI,UI=Object.prototype,VI=UI.toString;function qI(t){return VI.call(t)}var zI=qI,w_=vy,HI=BI,$I=zI,WI="[object Null]",GI="[object Undefined]",b_=w_?w_.toStringTag:void 0;function KI(t){return t==null?t===void 0?GI:WI:b_&&b_ in Object(t)?HI(t):$I(t)}var Og=KI;function YI(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var XE=YI,QI=Og,XI=XE,JI="[object AsyncFunction]",ZI="[object Function]",eP="[object GeneratorFunction]",tP="[object Proxy]";function nP(t){if(!XI(t))return!1;var e=QI(t);return e==ZI||e==eP||e==JI||e==tP}var JE=nP,rP=ra,iP=rP["__core-js_shared__"],oP=iP,Zm=oP,x_=function(){var t=/[^.]+$/.exec(Zm&&Zm.keys&&Zm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sP(t){return!!x_&&x_ in t}var aP=sP,lP=Function.prototype,uP=lP.toString;function cP(t){if(t!=null){try{return uP.call(t)}catch{}try{return t+""}catch{}}return""}var ZE=cP,fP=JE,hP=aP,dP=XE,pP=ZE,gP=/[\\^$.*+?()[\]{}|]/g,mP=/^\[object .+?Constructor\]$/,vP=Function.prototype,yP=Object.prototype,_P=vP.toString,wP=yP.hasOwnProperty,bP=RegExp("^"+_P.call(wP).replace(gP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xP(t){if(!dP(t)||hP(t))return!1;var e=fP(t)?bP:mP;return e.test(pP(t))}var EP=xP;function AP(t,e){return t==null?void 0:t[e]}var SP=AP,NP=EP,TP=SP;function kP(t,e){var n=TP(t,e);return NP(n)?n:void 0}var Pc=kP,IP=Pc,PP=ra,LP=IP(PP,"Map"),yy=LP,CP=Pc,OP=CP(Object,"create"),Rg=OP,E_=Rg;function RP(){this.__data__=E_?E_(null):{},this.size=0}var DP=RP;function jP(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var MP=jP,FP=Rg,BP="__lodash_hash_undefined__",UP=Object.prototype,VP=UP.hasOwnProperty;function qP(t){var e=this.__data__;if(FP){var n=e[t];return n===BP?void 0:n}return VP.call(e,t)?e[t]:void 0}var zP=qP,HP=Rg,$P=Object.prototype,WP=$P.hasOwnProperty;function GP(t){var e=this.__data__;return HP?e[t]!==void 0:WP.call(e,t)}var KP=GP,YP=Rg,QP="__lodash_hash_undefined__";function XP(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=YP&&e===void 0?QP:e,this}var JP=XP,ZP=DP,eL=MP,tL=zP,nL=KP,rL=JP;function Lc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lc.prototype.clear=ZP;Lc.prototype.delete=eL;Lc.prototype.get=tL;Lc.prototype.has=nL;Lc.prototype.set=rL;var iL=Lc,A_=iL,oL=Cg,sL=yy;function aL(){this.size=0,this.__data__={hash:new A_,map:new(sL||oL),string:new A_}}var lL=aL;function uL(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cL=uL,fL=cL;function hL(t,e){var n=t.__data__;return fL(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Dg=hL,dL=Dg;function pL(t){var e=dL(this,t).delete(t);return this.size-=e?1:0,e}var gL=pL,mL=Dg;function vL(t){return mL(this,t).get(t)}var yL=vL,_L=Dg;function wL(t){return _L(this,t).has(t)}var bL=wL,xL=Dg;function EL(t,e){var n=xL(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var AL=EL,SL=lL,NL=gL,TL=yL,kL=bL,IL=AL;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=SL;Cc.prototype.delete=NL;Cc.prototype.get=TL;Cc.prototype.has=kL;Cc.prototype.set=IL;var eA=Cc,PL=Cg,LL=yy,CL=eA,OL=200;function RL(t,e){var n=this.__data__;if(n instanceof PL){var r=n.__data__;if(!LL||r.length<OL-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new CL(r)}return n.set(t,e),this.size=n.size,this}var DL=RL,jL=Cg,ML=EI,FL=SI,BL=TI,UL=II,VL=DL;function Oc(t){var e=this.__data__=new jL(t);this.size=e.size}Oc.prototype.clear=ML;Oc.prototype.delete=FL;Oc.prototype.get=BL;Oc.prototype.has=UL;Oc.prototype.set=VL;var qL=Oc,zL="__lodash_hash_undefined__";function HL(t){return this.__data__.set(t,zL),this}var $L=HL;function WL(t){return this.__data__.has(t)}var GL=WL,KL=eA,YL=$L,QL=GL;function Up(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new KL;++e<n;)this.add(t[e])}Up.prototype.add=Up.prototype.push=YL;Up.prototype.has=QL;var XL=Up;function JL(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ZL=JL;function eC(t,e){return t.has(e)}var tC=eC,nC=XL,rC=ZL,iC=tC,oC=1,sC=2;function aC(t,e,n,r,i,o){var s=n&oC,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&sC?new nC:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var y=t[h],_=e[h];if(r)var x=s?r(_,y,h,e,t,o):r(y,_,h,t,e,o);if(x!==void 0){if(x)continue;d=!1;break}if(f){if(!rC(e,function(p,v){if(!iC(f,v)&&(y===p||i(y,p,n,r,o)))return f.push(v)})){d=!1;break}}else if(!(y===_||i(y,_,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var tA=aC,lC=ra,uC=lC.Uint8Array,cC=uC;function fC(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var hC=fC;function dC(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var pC=dC,S_=vy,N_=cC,gC=KE,mC=tA,vC=hC,yC=pC,_C=1,wC=2,bC="[object Boolean]",xC="[object Date]",EC="[object Error]",AC="[object Map]",SC="[object Number]",NC="[object RegExp]",TC="[object Set]",kC="[object String]",IC="[object Symbol]",PC="[object ArrayBuffer]",LC="[object DataView]",T_=S_?S_.prototype:void 0,e0=T_?T_.valueOf:void 0;function CC(t,e,n,r,i,o,s){switch(n){case LC:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case PC:return!(t.byteLength!=e.byteLength||!o(new N_(t),new N_(e)));case bC:case xC:case SC:return gC(+t,+e);case EC:return t.name==e.name&&t.message==e.message;case NC:case kC:return t==e+"";case AC:var a=vC;case TC:var l=r&_C;if(a||(a=yC),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=wC,s.set(t,e);var c=mC(a(t),a(e),r,i,o,s);return s.delete(t),c;case IC:if(e0)return e0.call(t)==e0.call(e)}return!1}var OC=CC;function RC(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var DC=RC,jC=Array.isArray,_y=jC,MC=DC,FC=_y;function BC(t,e,n){var r=e(t);return FC(t)?r:MC(r,n(t))}var UC=BC;function VC(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var qC=VC;function zC(){return[]}var HC=zC,$C=qC,WC=HC,GC=Object.prototype,KC=GC.propertyIsEnumerable,k_=Object.getOwnPropertySymbols,YC=k_?function(t){return t==null?[]:(t=Object(t),$C(k_(t),function(e){return KC.call(t,e)}))}:WC,QC=YC;function XC(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var JC=XC;function ZC(t){return t!=null&&typeof t=="object"}var jg=ZC,eO=Og,tO=jg,nO="[object Arguments]";function rO(t){return tO(t)&&eO(t)==nO}var iO=rO,I_=iO,oO=jg,nA=Object.prototype,sO=nA.hasOwnProperty,aO=nA.propertyIsEnumerable,lO=I_(function(){return arguments}())?I_:function(t){return oO(t)&&sO.call(t,"callee")&&!aO.call(t,"callee")},uO=lO,Vp={exports:{}};function cO(){return!1}var fO=cO;Vp.exports;(function(t,e){var n=ra,r=fO,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Vp,Vp.exports);var rA=Vp.exports,hO=9007199254740991,dO=/^(?:0|[1-9]\d*)$/;function pO(t,e){var n=typeof t;return e=e??hO,!!e&&(n=="number"||n!="symbol"&&dO.test(t))&&t>-1&&t%1==0&&t<e}var gO=pO,mO=9007199254740991;function vO(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mO}var iA=vO,yO=Og,_O=iA,wO=jg,bO="[object Arguments]",xO="[object Array]",EO="[object Boolean]",AO="[object Date]",SO="[object Error]",NO="[object Function]",TO="[object Map]",kO="[object Number]",IO="[object Object]",PO="[object RegExp]",LO="[object Set]",CO="[object String]",OO="[object WeakMap]",RO="[object ArrayBuffer]",DO="[object DataView]",jO="[object Float32Array]",MO="[object Float64Array]",FO="[object Int8Array]",BO="[object Int16Array]",UO="[object Int32Array]",VO="[object Uint8Array]",qO="[object Uint8ClampedArray]",zO="[object Uint16Array]",HO="[object Uint32Array]",xn={};xn[jO]=xn[MO]=xn[FO]=xn[BO]=xn[UO]=xn[VO]=xn[qO]=xn[zO]=xn[HO]=!0;xn[bO]=xn[xO]=xn[RO]=xn[EO]=xn[DO]=xn[AO]=xn[SO]=xn[NO]=xn[TO]=xn[kO]=xn[IO]=xn[PO]=xn[LO]=xn[CO]=xn[OO]=!1;function $O(t){return wO(t)&&_O(t.length)&&!!xn[yO(t)]}var WO=$O;function GO(t){return function(e){return t(e)}}var KO=GO,qp={exports:{}};qp.exports;(function(t,e){var n=YE,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(qp,qp.exports);var YO=qp.exports,QO=WO,XO=KO,P_=YO,L_=P_&&P_.isTypedArray,JO=L_?XO(L_):QO,oA=JO,ZO=JC,e8=uO,t8=_y,n8=rA,r8=gO,i8=oA,o8=Object.prototype,s8=o8.hasOwnProperty;function a8(t,e){var n=t8(t),r=!n&&e8(t),i=!n&&!r&&n8(t),o=!n&&!r&&!i&&i8(t),s=n||r||i||o,a=s?ZO(t.length,String):[],l=a.length;for(var u in t)(e||s8.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||r8(u,l)))&&a.push(u);return a}var l8=a8,u8=Object.prototype;function c8(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||u8;return t===n}var f8=c8;function h8(t,e){return function(n){return t(e(n))}}var d8=h8,p8=d8,g8=p8(Object.keys,Object),m8=g8,v8=f8,y8=m8,_8=Object.prototype,w8=_8.hasOwnProperty;function b8(t){if(!v8(t))return y8(t);var e=[];for(var n in Object(t))w8.call(t,n)&&n!="constructor"&&e.push(n);return e}var x8=b8,E8=JE,A8=iA;function S8(t){return t!=null&&A8(t.length)&&!E8(t)}var N8=S8,T8=l8,k8=x8,I8=N8;function P8(t){return I8(t)?T8(t):k8(t)}var L8=P8,C8=UC,O8=QC,R8=L8;function D8(t){return C8(t,R8,O8)}var j8=D8,C_=j8,M8=1,F8=Object.prototype,B8=F8.hasOwnProperty;function U8(t,e,n,r,i,o){var s=n&M8,a=C_(t),l=a.length,u=C_(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:B8.call(e,d)))return!1}var f=o.get(t),y=o.get(e);if(f&&y)return f==e&&y==t;var _=!0;o.set(t,e),o.set(e,t);for(var x=s;++h<l;){d=a[h];var p=t[d],v=e[d];if(r)var A=s?r(v,p,d,e,t,o):r(p,v,d,t,e,o);if(!(A===void 0?p===v||i(p,v,n,r,o):A)){_=!1;break}x||(x=d=="constructor")}if(_&&!x){var w=t.constructor,C=e.constructor;w!=C&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(_=!1)}return o.delete(t),o.delete(e),_}var V8=U8,q8=Pc,z8=ra,H8=q8(z8,"DataView"),$8=H8,W8=Pc,G8=ra,K8=W8(G8,"Promise"),Y8=K8,Q8=Pc,X8=ra,J8=Q8(X8,"Set"),Z8=J8,eR=Pc,tR=ra,nR=eR(tR,"WeakMap"),rR=nR,C1=$8,O1=yy,R1=Y8,D1=Z8,j1=rR,sA=Og,Rc=ZE,O_="[object Map]",iR="[object Object]",R_="[object Promise]",D_="[object Set]",j_="[object WeakMap]",M_="[object DataView]",oR=Rc(C1),sR=Rc(O1),aR=Rc(R1),lR=Rc(D1),uR=Rc(j1),Ll=sA;(C1&&Ll(new C1(new ArrayBuffer(1)))!=M_||O1&&Ll(new O1)!=O_||R1&&Ll(R1.resolve())!=R_||D1&&Ll(new D1)!=D_||j1&&Ll(new j1)!=j_)&&(Ll=function(t){var e=sA(t),n=e==iR?t.constructor:void 0,r=n?Rc(n):"";if(r)switch(r){case oR:return M_;case sR:return O_;case aR:return R_;case lR:return D_;case uR:return j_}return e});var cR=Ll,t0=qL,fR=tA,hR=OC,dR=V8,F_=cR,B_=_y,U_=rA,pR=oA,gR=1,V_="[object Arguments]",q_="[object Array]",kd="[object Object]",mR=Object.prototype,z_=mR.hasOwnProperty;function vR(t,e,n,r,i,o){var s=B_(t),a=B_(e),l=s?q_:F_(t),u=a?q_:F_(e);l=l==V_?kd:l,u=u==V_?kd:u;var c=l==kd,h=u==kd,d=l==u;if(d&&U_(t)){if(!U_(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new t0),s||pR(t)?fR(t,e,n,r,i,o):hR(t,e,l,n,r,i,o);if(!(n&gR)){var f=c&&z_.call(t,"__wrapped__"),y=h&&z_.call(e,"__wrapped__");if(f||y){var _=f?t.value():t,x=y?e.value():e;return o||(o=new t0),i(_,x,n,r,o)}}return d?(o||(o=new t0),dR(t,e,n,r,i,o)):!1}var yR=vR,_R=yR,H_=jg;function aA(t,e,n,r,i){return t===e?!0:t==null||e==null||!H_(t)&&!H_(e)?t!==t&&e!==e:_R(t,e,n,r,aA,i)}var wR=aA,bR=wR;function xR(t,e){return bR(t,e)}var ER=xR,lA={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Vi,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),h=i(48),d=i(49),f=i(12),y=i(32),_=i(33),x=i(31),p=i(1),v={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:f.default,Class:y.default,Style:_.default,Store:x.default}};r.default=v},function(n,r,i){var o=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){x(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(x){o(p,x);function p(v){var A=this;return v="[Parchment] "+v,A=x.call(this,v)||this,A.message=v,A.name=A.constructor.name,A}return p}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var h;(function(x){x[x.TYPE=3]="TYPE",x[x.LEVEL=12]="LEVEL",x[x.ATTRIBUTE=13]="ATTRIBUTE",x[x.BLOT=14]="BLOT",x[x.INLINE=7]="INLINE",x[x.BLOCK=11]="BLOCK",x[x.BLOCK_BLOT=10]="BLOCK_BLOT",x[x.INLINE_BLOT=6]="INLINE_BLOT",x[x.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",x[x.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",x[x.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function d(x,p){var v=y(x);if(v==null)throw new s("Unable to create "+x+" blot");var A=v,w=x instanceof Node||x.nodeType===Node.TEXT_NODE?x:A.create(p);return new A(w,p)}r.create=d;function f(x,p){return p===void 0&&(p=!1),x==null?null:x[r.DATA_KEY]!=null?x[r.DATA_KEY].blot:p?f(x.parentNode,p):null}r.find=f;function y(x,p){p===void 0&&(p=h.ANY);var v;if(typeof x=="string")v=c[x]||a[x];else if(x instanceof Text||x.nodeType===Node.TEXT_NODE)v=c.text;else if(typeof x=="number")x&h.LEVEL&h.BLOCK?v=c.block:x&h.LEVEL&h.INLINE&&(v=c.inline);else if(x instanceof HTMLElement){var A=(x.getAttribute("class")||"").split(/\s+/);for(var w in A)if(v=l[A[w]],v)break;v=v||u[x.tagName]}return v==null?null:p&h.LEVEL&v.scope&&p&h.TYPE&v.scope?v:null}r.query=y;function _(){for(var x=[],p=0;p<arguments.length;p++)x[p]=arguments[p];if(x.length>1)return x.map(function(w){return _(w)});var v=x[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new s("Invalid definition");if(v.blotName==="abstract")throw new s("Cannot register abstract class");if(c[v.blotName||v.attrName]=v,typeof v.keyName=="string")a[v.keyName]=v;else if(v.className!=null&&(l[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(w){return w.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var A=Array.isArray(v.tagName)?v.tagName:[v.tagName];A.forEach(function(w){(u[w]==null||v.className==null)&&(u[w]=v)})}return v}r.register=_},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",c=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};c.prototype.insert=function(h,d){var f={};return h.length===0?this:(f.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f))},c.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},c.prototype.retain=function(h,d){if(h<=0)return this;var f={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f)},c.prototype.push=function(h){var d=this.ops.length,f=this.ops[d-1];if(h=a(!0,{},h),typeof f=="object"){if(typeof h.delete=="number"&&typeof f.delete=="number")return this.ops[d-1]={delete:f.delete+h.delete},this;if(typeof f.delete=="number"&&h.insert!=null&&(d-=1,f=this.ops[d-1],typeof f!="object"))return this.ops.unshift(h),this;if(s(h.attributes,f.attributes)){if(typeof h.insert=="string"&&typeof f.insert=="string")return this.ops[d-1]={insert:f.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof f.retain=="number")return this.ops[d-1]={retain:f.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},c.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},c.prototype.filter=function(h){return this.ops.filter(h)},c.prototype.forEach=function(h){this.ops.forEach(h)},c.prototype.map=function(h){return this.ops.map(h)},c.prototype.partition=function(h){var d=[],f=[];return this.forEach(function(y){var _=h(y)?d:f;_.push(y)}),[d,f]},c.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},c.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},c.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},c.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var f=[],y=l.iterator(this.ops),_=0;_<d&&y.hasNext();){var x;_<h?x=y.next(h-_):(x=y.next(d-_),f.push(x)),_+=l.length(x)}return new c(f)},c.prototype.compose=function(h){var d=l.iterator(this.ops),f=l.iterator(h.ops),y=[],_=f.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){for(var x=_.retain;d.peekType()==="insert"&&d.peekLength()<=x;)x-=d.peekLength(),y.push(d.next());_.retain-x>0&&f.next(_.retain-x)}for(var p=new c(y);d.hasNext()||f.hasNext();)if(f.peekType()==="insert")p.push(f.next());else if(d.peekType()==="delete")p.push(d.next());else{var v=Math.min(d.peekLength(),f.peekLength()),A=d.next(v),w=f.next(v);if(typeof w.retain=="number"){var C={};typeof A.retain=="number"?C.retain=v:C.insert=A.insert;var B=l.attributes.compose(A.attributes,w.attributes,typeof A.retain=="number");if(B&&(C.attributes=B),p.push(C),!f.hasNext()&&s(p.ops[p.ops.length-1],C)){var L=new c(d.rest());return p.concat(L).chop()}}else typeof w.delete=="number"&&typeof A.retain=="number"&&p.push(w)}return p.chop()},c.prototype.concat=function(h){var d=new c(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},c.prototype.diff=function(h,d){if(this.ops===h.ops)return new c;var f=[this,h].map(function(v){return v.map(function(A){if(A.insert!=null)return typeof A.insert=="string"?A.insert:u;var w=v===h?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),y=new c,_=o(f[0],f[1],d),x=l.iterator(this.ops),p=l.iterator(h.ops);return _.forEach(function(v){for(var A=v[1].length;A>0;){var w=0;switch(v[0]){case o.INSERT:w=Math.min(p.peekLength(),A),y.push(p.next(w));break;case o.DELETE:w=Math.min(A,x.peekLength()),x.next(w),y.delete(w);break;case o.EQUAL:w=Math.min(x.peekLength(),p.peekLength(),A);var C=x.next(w),B=p.next(w);s(C.insert,B.insert)?y.retain(w,l.attributes.diff(C.attributes,B.attributes)):y.push(B).delete(w);break}A-=w}}),y.chop()},c.prototype.eachLine=function(h,d){d=d||`
`;for(var f=l.iterator(this.ops),y=new c,_=0;f.hasNext();){if(f.peekType()!=="insert")return;var x=f.peek(),p=l.length(x)-f.peekLength(),v=typeof x.insert=="string"?x.insert.indexOf(d,p)-p:-1;if(v<0)y.push(f.next());else if(v>0)y.push(f.next(v));else{if(h(y,f.next(1).attributes||{},_)===!1)return;_+=1,y=new c}}y.length()>0&&h(y,{},_)},c.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var f=l.iterator(this.ops),y=l.iterator(h.ops),_=new c;f.hasNext()||y.hasNext();)if(f.peekType()==="insert"&&(d||y.peekType()!=="insert"))_.retain(l.length(f.next()));else if(y.peekType()==="insert")_.push(y.next());else{var x=Math.min(f.peekLength(),y.peekLength()),p=f.next(x),v=y.next(x);if(p.delete)continue;v.delete?_.push(v):_.retain(x,l.attributes.transform(p.attributes,v.attributes,d))}return _.chop()},c.prototype.transformPosition=function(h,d){d=!!d;for(var f=l.iterator(this.ops),y=0;f.hasNext()&&y<=h;){var _=f.peekLength(),x=f.peekType();if(f.next(),x==="delete"){h-=Math.min(_,h-y);continue}else x==="insert"&&(y<h||!d)&&(h+=_);y+=_}return h},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):o.call(f)==="[object Array]"},u=function(f){if(!f||o.call(f)!=="[object Object]")return!1;var y=i.call(f,"constructor"),_=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!y&&!_)return!1;var x;for(x in f);return typeof x>"u"||i.call(f,x)},c=function(f,y){s&&y.name==="__proto__"?s(f,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):f[y.name]=y.newValue},h=function(f,y){if(y==="__proto__")if(i.call(f,y)){if(a)return a(f,y).value}else return;return f[y]};n.exports=function d(){var f,y,_,x,p,v,A=arguments[0],w=1,C=arguments.length,B=!1;for(typeof A=="boolean"&&(B=A,A=arguments[1]||{},w=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});w<C;++w)if(f=arguments[w],f!=null)for(y in f)_=h(A,y),x=h(f,y),A!==x&&(B&&x&&(u(x)||(p=l(x)))?(p?(p=!1,v=_&&l(_)?_:[]):v=_&&u(_)?_:{},c(A,{name:y,newValue:d(B,v,x)})):typeof x<"u"&&c(A,{name:y,newValue:x}));return A}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function E(S,I){for(var U=0;U<I.length;U++){var G=I[U];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(S,G.key,G)}}return function(S,I,U){return I&&E(S.prototype,I),U&&E(S,U),S}}(),s=function E(S,I,U){S===null&&(S=Function.prototype);var G=Object.getOwnPropertyDescriptor(S,I);if(G===void 0){var oe=Object.getPrototypeOf(S);return oe===null?void 0:E(oe,I,U)}else{if("value"in G)return G.value;var se=G.get;return se===void 0?void 0:se.call(U)}},a=i(3),l=A(a),u=i(2),c=A(u),h=i(0),d=A(h),f=i(16),y=A(f),_=i(6),x=A(_),p=i(7),v=A(p);function A(E){return E&&E.__esModule?E:{default:E}}function w(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function C(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function B(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var L=1,N=function(E){B(S,E);function S(){return w(this,S),C(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"attach",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(U,G){var oe=d.default.query(U,d.default.Scope.BLOCK_ATTRIBUTE);oe!=null&&this.attributes.attribute(oe,G)}},{key:"formatAt",value:function(U,G,oe,se){this.format(oe,se)}},{key:"insertAt",value:function(U,G,oe){if(typeof G=="string"&&G.endsWith(`
`)){var se=d.default.create(T.blotName);this.parent.insertBefore(se,U===0?this:this.next),se.insertAt(0,G.slice(0,-1))}else s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,U,G,oe)}}]),S}(d.default.Embed);N.scope=d.default.Scope.BLOCK_BLOT;var T=function(E){B(S,E);function S(I){w(this,S);var U=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I));return U.cache={},U}return o(S,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(U,G){return G.length()===0?U:U.insert(G.value(),k(G))},new c.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(U,G){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,U,G),this.cache={}}},{key:"formatAt",value:function(U,G,oe,se){G<=0||(d.default.query(oe,d.default.Scope.BLOCK)?U+G===this.length()&&this.format(oe,se):s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,U,Math.min(G,this.length()-U-1),oe,se),this.cache={})}},{key:"insertAt",value:function(U,G,oe){if(oe!=null)return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,U,G,oe);if(G.length!==0){var se=G.split(`
`),te=se.shift();te.length>0&&(U<this.length()-1||this.children.tail==null?s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,Math.min(U,this.length()-1),te):this.children.tail.insertAt(this.children.tail.length(),te),this.cache={});var Z=this;se.reduce(function(X,z){return Z=Z.split(X,!0),Z.insertAt(0,z),z.length},U+te.length)}}},{key:"insertBefore",value:function(U,G){var oe=this.children.head;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,U,G),oe instanceof y.default&&oe.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"length",this).call(this)+L),this.cache.length}},{key:"moveChildren",value:function(U,G){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"moveChildren",this).call(this,U,G),this.cache={}}},{key:"optimize",value:function(U){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,U),this.cache={}}},{key:"path",value:function(U){return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,U,!0)}},{key:"removeChild",value:function(U){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"removeChild",this).call(this,U),this.cache={}}},{key:"split",value:function(U){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(U===0||U>=this.length()-L)){var oe=this.clone();return U===0?(this.parent.insertBefore(oe,this),this):(this.parent.insertBefore(oe,this.next),oe)}else{var se=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"split",this).call(this,U,G);return this.cache={},se}}}]),S}(d.default.Block);T.blotName="block",T.tagName="P",T.defaultChild="break",T.allowedChildren=[x.default,d.default.Embed,v.default];function k(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(S=(0,l.default)(S,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?S:k(E.parent,S)}r.bubbleFormats=k,r.BlockEmbed=N,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(X,z){var R=[],F=!0,W=!1,K=void 0;try{for(var q=X[Symbol.iterator](),Q;!(F=(Q=q.next()).done)&&(R.push(Q.value),!(z&&R.length===z));F=!0);}catch(ae){W=!0,K=ae}finally{try{!F&&q.return&&q.return()}finally{if(W)throw K}}return R}return function(X,z){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return Z(X,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(X,z){for(var R=0;R<z.length;R++){var F=z[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(X,F.key,F)}}return function(X,z,R){return z&&Z(X.prototype,z),R&&Z(X,R),X}}();i(50);var l=i(2),u=k(l),c=i(14),h=k(c),d=i(8),f=k(d),y=i(9),_=k(y),x=i(0),p=k(x),v=i(15),A=k(v),w=i(3),C=k(w),B=i(10),L=k(B),N=i(34),T=k(N);function k(Z){return Z&&Z.__esModule?Z:{default:Z}}function E(Z,X,z){return X in Z?Object.defineProperty(Z,X,{value:z,enumerable:!0,configurable:!0,writable:!0}):Z[X]=z,Z}function S(Z,X){if(!(Z instanceof X))throw new TypeError("Cannot call a class as a function")}var I=(0,L.default)("quill"),U=function(){a(Z,null,[{key:"debug",value:function(z){z===!0&&(z="log"),L.default.level(z)}},{key:"find",value:function(z){return z.__quill||p.default.find(z)}},{key:"import",value:function(z){return this.imports[z]==null&&I.error("Cannot import "+z+". Are you sure it was registered?"),this.imports[z]}},{key:"register",value:function(z,R){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof z!="string"){var K=z.attrName||z.blotName;typeof K=="string"?this.register("formats/"+K,z,R):Object.keys(z).forEach(function(q){F.register(q,z[q],R)})}else this.imports[z]!=null&&!W&&I.warn("Overwriting "+z+" with",R),this.imports[z]=R,(z.startsWith("blots/")||z.startsWith("formats/"))&&R.blotName!=="abstract"?p.default.register(R):z.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function Z(X){var z=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S(this,Z),this.options=G(X,R),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",X);this.options.debug&&Z.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new A.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(K){K===f.default.events.TEXT_CHANGE&&z.root.classList.toggle("ql-blank",z.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(K,q){var Q=z.selection.lastRange,ae=Q&&Q.length===0?Q.index:void 0;oe.call(z,function(){return z.editor.update(null,q,ae)},K)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(Z,[{key:"addContainer",value:function(z){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof z=="string"){var F=z;z=document.createElement("div"),z.classList.add(F)}return this.container.insertBefore(z,R),z}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(z,R,F){var W=this,K=se(z,R,F),q=s(K,4);return z=q[0],R=q[1],F=q[3],oe.call(this,function(){return W.editor.deleteText(z,R)},F,z,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(z),this.container.classList.toggle("ql-disabled",!z)}},{key:"focus",value:function(){var z=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=z,this.scrollIntoView()}},{key:"format",value:function(z,R){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return oe.call(this,function(){var K=F.getSelection(!0),q=new u.default;if(K==null)return q;if(p.default.query(z,p.default.Scope.BLOCK))q=F.editor.formatLine(K.index,K.length,E({},z,R));else{if(K.length===0)return F.selection.format(z,R),q;q=F.editor.formatText(K.index,K.length,E({},z,R))}return F.setSelection(K,f.default.sources.SILENT),q},W)}},{key:"formatLine",value:function(z,R,F,W,K){var q=this,Q=void 0,ae=se(z,R,F,W,K),fe=s(ae,4);return z=fe[0],R=fe[1],Q=fe[2],K=fe[3],oe.call(this,function(){return q.editor.formatLine(z,R,Q)},K,z,0)}},{key:"formatText",value:function(z,R,F,W,K){var q=this,Q=void 0,ae=se(z,R,F,W,K),fe=s(ae,4);return z=fe[0],R=fe[1],Q=fe[2],K=fe[3],oe.call(this,function(){return q.editor.formatText(z,R,Q)},K,z,0)}},{key:"getBounds",value:function(z){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof z=="number"?F=this.selection.getBounds(z,R):F=this.selection.getBounds(z.index,z.length);var W=this.container.getBoundingClientRect();return{bottom:F.bottom-W.top,height:F.height,left:F.left-W.left,right:F.right-W.left,top:F.top-W.top,width:F.width}}},{key:"getContents",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,F=se(z,R),W=s(F,2);return z=W[0],R=W[1],this.editor.getContents(z,R)}},{key:"getFormat",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof z=="number"?this.editor.getFormat(z,R):this.editor.getFormat(z.index,z.length)}},{key:"getIndex",value:function(z){return z.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(z){return this.scroll.leaf(z)}},{key:"getLine",value:function(z){return this.scroll.line(z)}},{key:"getLines",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof z!="number"?this.scroll.lines(z.index,z.length):this.scroll.lines(z,R)}},{key:"getModule",value:function(z){return this.theme.modules[z]}},{key:"getSelection",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return z&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,F=se(z,R),W=s(F,2);return z=W[0],R=W[1],this.editor.getText(z,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(z,R,F){var W=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z.sources.API;return oe.call(this,function(){return W.editor.insertEmbed(z,R,F)},K,z)}},{key:"insertText",value:function(z,R,F,W,K){var q=this,Q=void 0,ae=se(z,0,F,W,K),fe=s(ae,4);return z=fe[0],Q=fe[2],K=fe[3],oe.call(this,function(){return q.editor.insertText(z,R,Q)},K,z,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(z,R,F){this.clipboard.dangerouslyPasteHTML(z,R,F)}},{key:"removeFormat",value:function(z,R,F){var W=this,K=se(z,R,F),q=s(K,4);return z=q[0],R=q[1],F=q[3],oe.call(this,function(){return W.editor.removeFormat(z,R)},F,z)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(z){var R=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return oe.call(this,function(){z=new u.default(z);var W=R.getLength(),K=R.editor.deleteText(0,W),q=R.editor.applyDelta(z),Q=q.ops[q.ops.length-1];Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),q.delete(1));var ae=K.compose(q);return ae},F)}},{key:"setSelection",value:function(z,R,F){if(z==null)this.selection.setRange(null,R||Z.sources.API);else{var W=se(z,R,F),K=s(W,4);z=K[0],R=K[1],F=K[3],this.selection.setRange(new v.Range(z,R),F),F!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(z){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,F=new u.default().insert(z);return this.setContents(F,R)}},{key:"update",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,R=this.scroll.update(z);return this.selection.update(z),R}},{key:"updateContents",value:function(z){var R=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return oe.call(this,function(){return z=new u.default(z),R.editor.applyDelta(z,F)},F,!0)}}]),Z}();U.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},U.events=f.default.events,U.sources=f.default.sources,U.version="1.3.7",U.imports={delta:u.default,parchment:p.default,"core/module":_.default,"core/theme":T.default};function G(Z,X){if(X=(0,C.default)(!0,{container:Z,modules:{clipboard:!0,keyboard:!0,history:!0}},X),!X.theme||X.theme===U.DEFAULTS.theme)X.theme=T.default;else if(X.theme=U.import("themes/"+X.theme),X.theme==null)throw new Error("Invalid theme "+X.theme+". Did you register it?");var z=(0,C.default)(!0,{},X.theme.DEFAULTS);[z,X].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(K){W.modules[K]===!0&&(W.modules[K]={})})});var R=Object.keys(z.modules).concat(Object.keys(X.modules)),F=R.reduce(function(W,K){var q=U.import("modules/"+K);return q==null?I.error("Cannot load "+K+" module. Are you sure you registered it?"):W[K]=q.DEFAULTS||{},W},{});return X.modules!=null&&X.modules.toolbar&&X.modules.toolbar.constructor!==Object&&(X.modules.toolbar={container:X.modules.toolbar}),X=(0,C.default)(!0,{},U.DEFAULTS,{modules:F},z,X),["bounds","container","scrollingContainer"].forEach(function(W){typeof X[W]=="string"&&(X[W]=document.querySelector(X[W]))}),X.modules=Object.keys(X.modules).reduce(function(W,K){return X.modules[K]&&(W[K]=X.modules[K]),W},{}),X}function oe(Z,X,z,R){if(this.options.strict&&!this.isEnabled()&&X===f.default.sources.USER)return new u.default;var F=z==null?null:this.getSelection(),W=this.editor.delta,K=Z();if(F!=null&&(z===!0&&(z=F.index),R==null?F=te(F,K,X):R!==0&&(F=te(F,z,R,X)),this.setSelection(F,f.default.sources.SILENT)),K.length()>0){var q,Q=[f.default.events.TEXT_CHANGE,K,W,X];if((q=this.emitter).emit.apply(q,[f.default.events.EDITOR_CHANGE].concat(Q)),X!==f.default.sources.SILENT){var ae;(ae=this.emitter).emit.apply(ae,Q)}}return K}function se(Z,X,z,R,F){var W={};return typeof Z.index=="number"&&typeof Z.length=="number"?typeof X!="number"?(F=R,R=z,z=X,X=Z.length,Z=Z.index):(X=Z.length,Z=Z.index):typeof X!="number"&&(F=R,R=z,z=X,X=0),(typeof z>"u"?"undefined":o(z))==="object"?(W=z,F=R):typeof z=="string"&&(R!=null?W[z]=R:F=z),F=F||f.default.sources.API,[Z,X,W,F]}function te(Z,X,z,R){if(Z==null)return null;var F=void 0,W=void 0;if(X instanceof u.default){var K=[Z.index,Z.index+Z.length].map(function(fe){return X.transformPosition(fe,R!==f.default.sources.USER)}),q=s(K,2);F=q[0],W=q[1]}else{var Q=[Z.index,Z.index+Z.length].map(function(fe){return fe<X||fe===X&&R===f.default.sources.USER?fe:z>=0?fe+z:Math.max(X,fe+z)}),ae=s(Q,2);F=ae[0],W=ae[1]}return new v.Range(F,W-F)}r.expandConfig=G,r.overload=se,r.default=U},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function x(p,v){for(var A=0;A<v.length;A++){var w=v[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,A){return v&&x(p.prototype,v),A&&x(p,A),p}}(),s=function x(p,v,A){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:x(C,v,A)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(A)}},a=i(7),l=h(a),u=i(0),c=h(u);function h(x){return x&&x.__esModule?x:{default:x}}function d(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function f(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function y(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var _=function(x){y(p,x);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(A,w,C,B){if(p.compare(this.statics.blotName,C)<0&&c.default.query(C,c.default.Scope.BLOT)){var L=this.isolate(A,w);B&&L.wrap(C,B)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,A,w,C,B)}},{key:"optimize",value:function(A){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,A),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(A,w){var C=p.order.indexOf(A),B=p.order.indexOf(w);return C>=0||B>=0?C-B:A===w?0:A<w?-1:1}}]),p}(c.default.Inline);_.allowedChildren=[_,c.default.Embed,l.default],_.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(A,w){for(var C=0;C<w.length;C++){var B=w[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}return function(A,w,C){return w&&v(A.prototype,w),C&&v(A,C),A}}(),s=function v(A,w,C){A===null&&(A=Function.prototype);var B=Object.getOwnPropertyDescriptor(A,w);if(B===void 0){var L=Object.getPrototypeOf(A);return L===null?void 0:v(L,w,C)}else{if("value"in B)return B.value;var N=B.get;return N===void 0?void 0:N.call(C)}},a=i(54),l=h(a),u=i(10),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}function f(v,A){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:v}function y(v,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);v.prototype=Object.create(A&&A.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(v,A):v.__proto__=A)}var _=(0,c.default)("quill:events"),x=["selectionchange","mousedown","mouseup","click"];x.forEach(function(v){document.addEventListener(v,function(){for(var A=arguments.length,w=Array(A),C=0;C<A;C++)w[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(B){if(B.__quill&&B.__quill.emitter){var L;(L=B.__quill.emitter).handleDOM.apply(L,w)}})})});var p=function(v){y(A,v);function A(){d(this,A);var w=f(this,(A.__proto__||Object.getPrototypeOf(A)).call(this));return w.listeners={},w.on("error",_.error),w}return o(A,[{key:"emit",value:function(){_.log.apply(_,arguments),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var B=arguments.length,L=Array(B>1?B-1:0),N=1;N<B;N++)L[N-1]=arguments[N];(this.listeners[C.type]||[]).forEach(function(T){var k=T.node,E=T.handler;(C.target===k||k.contains(C.target))&&E.apply(void 0,[C].concat(L))})}},{key:"listenDOM",value:function(C,B,L){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:B,handler:L})}}]),A}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,h=arguments.length,d=Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];(c=console)[u].apply(c,d)}}function l(u){return o.reduce(function(c,h){return c[h]=a.bind(console,h,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,f,y){return y||(y={}),d===f?!0:d instanceof Date&&f instanceof Date?d.getTime()===f.getTime():!d||!f||typeof d!="object"&&typeof f!="object"?y.strict?d===f:d==f:h(d,f,y)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,f,y){var _,x;if(u(d)||u(f)||d.prototype!==f.prototype)return!1;if(a(d))return a(f)?(d=o.call(d),f=o.call(f),l(d,f,y)):!1;if(c(d)){if(!c(f)||d.length!==f.length)return!1;for(_=0;_<d.length;_++)if(d[_]!==f[_])return!1;return!0}try{var p=s(d),v=s(f)}catch{return!1}if(p.length!=v.length)return!1;for(p.sort(),v.sort(),_=p.length-1;_>=0;_--)if(p[_]!=v[_])return!1;for(_=p.length-1;_>=0;_--)if(x=p[_],!l(d[x],f[x],y))return!1;return typeof d==typeof f}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function N(T,k){var E=[],S=!0,I=!1,U=void 0;try{for(var G=T[Symbol.iterator](),oe;!(S=(oe=G.next()).done)&&(E.push(oe.value),!(k&&E.length===k));S=!0);}catch(se){I=!0,U=se}finally{try{!S&&G.return&&G.return()}finally{if(I)throw U}}return E}return function(T,k){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return N(T,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(T,k){for(var E=0;E<k.length;E++){var S=k[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,k,E){return k&&N(T.prototype,k),E&&N(T,E),T}}(),a=function N(T,k,E){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,k);if(S===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:N(I,k,E)}else{if("value"in S)return S.value;var U=S.get;return U===void 0?void 0:U.call(E)}},l=i(2),u=v(l),c=i(0),h=v(c),d=i(4),f=v(d),y=i(6),_=v(y),x=i(7),p=v(x);function v(N){return N&&N.__esModule?N:{default:N}}function A(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function w(N,T){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:N}function C(N,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(N,T):N.__proto__=T)}var B=function(N){C(T,N);function T(){return A(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T}(_.default);B.blotName="code",B.tagName="CODE";var L=function(N){C(T,N);function T(){return A(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"delta",value:function(){var E=this,S=this.domNode.textContent;return S.endsWith(`
`)&&(S=S.slice(0,-1)),S.split(`
`).reduce(function(I,U){return I.insert(U).insert(`
`,E.formats())},new u.default)}},{key:"format",value:function(E,S){if(!(E===this.statics.blotName&&S)){var I=this.descendant(p.default,this.length()-1),U=o(I,1),G=U[0];G!=null&&G.deleteAt(G.length()-1,1),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,E,S)}}},{key:"formatAt",value:function(E,S,I,U){if(S!==0&&!(h.default.query(I,h.default.Scope.BLOCK)==null||I===this.statics.blotName&&U===this.statics.formats(this.domNode))){var G=this.newlineIndex(E);if(!(G<0||G>=E+S)){var oe=this.newlineIndex(E,!0)+1,se=G-oe+1,te=this.isolate(oe,se),Z=te.next;te.format(I,U),Z instanceof T&&Z.formatAt(0,E-oe+S-se,I,U)}}}},{key:"insertAt",value:function(E,S,I){if(I==null){var U=this.descendant(p.default,E),G=o(U,2),oe=G[0],se=G[1];oe.insertAt(se,S)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(S)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var I=this.domNode.textContent.slice(E).indexOf(`
`);return I>-1?E+I:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,E);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===S.statics.formats(S.domNode)&&(S.optimize(E),S.moveChildren(this),S.remove())}},{key:"replace",value:function(E){a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(S){var I=h.default.find(S);I==null?S.parentNode.removeChild(S):I instanceof h.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(E){var S=a(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,E);return S.setAttribute("spellcheck",!1),S}},{key:"formats",value:function(){return!0}}]),T}(f.default);L.blotName="code-block",L.tagName="PRE",L.TAB="  ",r.Code=B,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(X,z){var R=[],F=!0,W=!1,K=void 0;try{for(var q=X[Symbol.iterator](),Q;!(F=(Q=q.next()).done)&&(R.push(Q.value),!(z&&R.length===z));F=!0);}catch(ae){W=!0,K=ae}finally{try{!F&&q.return&&q.return()}finally{if(W)throw K}}return R}return function(X,z){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return Z(X,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(X,z){for(var R=0;R<z.length;R++){var F=z[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(X,F.key,F)}}return function(X,z,R){return z&&Z(X.prototype,z),R&&Z(X,R),X}}(),l=i(2),u=S(l),c=i(20),h=S(c),d=i(0),f=S(d),y=i(13),_=S(y),x=i(24),p=S(x),v=i(4),A=S(v),w=i(16),C=S(w),B=i(21),L=S(B),N=i(11),T=S(N),k=i(3),E=S(k);function S(Z){return Z&&Z.__esModule?Z:{default:Z}}function I(Z,X,z){return X in Z?Object.defineProperty(Z,X,{value:z,enumerable:!0,configurable:!0,writable:!0}):Z[X]=z,Z}function U(Z,X){if(!(Z instanceof X))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,oe=function(){function Z(X){U(this,Z),this.scroll=X,this.delta=this.getDelta()}return a(Z,[{key:"applyDelta",value:function(z){var R=this,F=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),z=te(z),z.reduce(function(K,q){var Q=q.retain||q.delete||q.insert.length||1,ae=q.attributes||{};if(q.insert!=null){if(typeof q.insert=="string"){var fe=q.insert;fe.endsWith(`
`)&&F&&(F=!1,fe=fe.slice(0,-1)),K>=W&&!fe.endsWith(`
`)&&(F=!0),R.scroll.insertAt(K,fe);var he=R.scroll.line(K),be=s(he,2),Le=be[0],Oe=be[1],Ue=(0,E.default)({},(0,v.bubbleFormats)(Le));if(Le instanceof A.default){var re=Le.descendant(f.default.Leaf,Oe),qe=s(re,1),it=qe[0];Ue=(0,E.default)(Ue,(0,v.bubbleFormats)(it))}ae=h.default.attributes.diff(Ue,ae)||{}}else if(o(q.insert)==="object"){var ye=Object.keys(q.insert)[0];if(ye==null)return K;R.scroll.insertAt(K,ye,q.insert[ye])}W+=Q}return Object.keys(ae).forEach(function(pe){R.scroll.formatAt(K,Q,pe,ae[pe])}),K+Q},0),z.reduce(function(K,q){return typeof q.delete=="number"?(R.scroll.deleteAt(K,q.delete),K):K+(q.retain||q.insert.length||1)},0),this.scroll.batchEnd(),this.update(z)}},{key:"deleteText",value:function(z,R){return this.scroll.deleteAt(z,R),this.update(new u.default().retain(z).delete(R))}},{key:"formatLine",value:function(z,R){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(K){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[K])){var q=F.scroll.lines(z,Math.max(R,1)),Q=R;q.forEach(function(ae){var fe=ae.length();if(!(ae instanceof _.default))ae.format(K,W[K]);else{var he=z-ae.offset(F.scroll),be=ae.newlineIndex(he+Q)-he+1;ae.formatAt(he,be,K,W[K])}Q-=fe})}}),this.scroll.optimize(),this.update(new u.default().retain(z).retain(R,(0,L.default)(W)))}},{key:"formatText",value:function(z,R){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(K){F.scroll.formatAt(z,R,K,W[K])}),this.update(new u.default().retain(z).retain(R,(0,L.default)(W)))}},{key:"getContents",value:function(z,R){return this.delta.slice(z,z+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(z,R){return z.concat(R.delta())},new u.default)}},{key:"getFormat",value:function(z){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],W=[];R===0?this.scroll.path(z).forEach(function(q){var Q=s(q,1),ae=Q[0];ae instanceof A.default?F.push(ae):ae instanceof f.default.Leaf&&W.push(ae)}):(F=this.scroll.lines(z,R),W=this.scroll.descendants(f.default.Leaf,z,R));var K=[F,W].map(function(q){if(q.length===0)return{};for(var Q=(0,v.bubbleFormats)(q.shift());Object.keys(Q).length>0;){var ae=q.shift();if(ae==null)return Q;Q=se((0,v.bubbleFormats)(ae),Q)}return Q});return E.default.apply(E.default,K)}},{key:"getText",value:function(z,R){return this.getContents(z,R).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(z,R,F){return this.scroll.insertAt(z,R,F),this.update(new u.default().retain(z).insert(I({},R,F)))}},{key:"insertText",value:function(z,R){var F=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(z,R),Object.keys(W).forEach(function(K){F.scroll.formatAt(z,R.length,K,W[K])}),this.update(new u.default().retain(z).insert(R,(0,L.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var z=this.scroll.children.head;return z.statics.blotName!==A.default.blotName||z.children.length>1?!1:z.children.head instanceof C.default}},{key:"removeFormat",value:function(z,R){var F=this.getText(z,R),W=this.scroll.line(z+R),K=s(W,2),q=K[0],Q=K[1],ae=0,fe=new u.default;q!=null&&(q instanceof _.default?ae=q.newlineIndex(Q)-Q+1:ae=q.length()-Q,fe=q.delta().slice(Q,Q+ae-1).insert(`
`));var he=this.getContents(z,R+ae),be=he.diff(new u.default().insert(F).concat(fe)),Le=new u.default().retain(z).concat(be);return this.applyDelta(Le)}},{key:"update",value:function(z){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(G)&&f.default.find(R[0].target)){var K=f.default.find(R[0].target),q=(0,v.bubbleFormats)(K),Q=K.offset(this.scroll),ae=R[0].oldValue.replace(p.default.CONTENTS,""),fe=new u.default().insert(ae),he=new u.default().insert(K.value()),be=new u.default().retain(Q).concat(fe.diff(he,F));z=be.reduce(function(Le,Oe){return Oe.insert?Le.insert(Oe.insert,q):Le.push(Oe)},new u.default),this.delta=W.compose(z)}else this.delta=this.getDelta(),(!z||!(0,T.default)(W.compose(z),this.delta))&&(z=W.diff(this.delta,F));return z}}]),Z}();function se(Z,X){return Object.keys(X).reduce(function(z,R){return Z[R]==null||(X[R]===Z[R]?z[R]=X[R]:Array.isArray(X[R])?X[R].indexOf(Z[R])<0&&(z[R]=X[R].concat([Z[R]])):z[R]=[X[R],Z[R]]),z},{})}function te(Z){return Z.reduce(function(X,z){if(z.insert===1){var R=(0,L.default)(z.attributes);return delete R.image,X.insert({image:z.attributes.image},R)}if(z.attributes!=null&&(z.attributes.list===!0||z.attributes.bullet===!0)&&(z=(0,L.default)(z),z.attributes.list?z.attributes.list="ordered":(z.attributes.list="bullet",delete z.attributes.bullet)),typeof z.insert=="string"){var F=z.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return X.insert(F,z.attributes)}return X.push(z)},new u.default)}r.default=oe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function N(T,k){var E=[],S=!0,I=!1,U=void 0;try{for(var G=T[Symbol.iterator](),oe;!(S=(oe=G.next()).done)&&(E.push(oe.value),!(k&&E.length===k));S=!0);}catch(se){I=!0,U=se}finally{try{!S&&G.return&&G.return()}finally{if(I)throw U}}return E}return function(T,k){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return N(T,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(T,k){for(var E=0;E<k.length;E++){var S=k[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,k,E){return k&&N(T.prototype,k),E&&N(T,E),T}}(),a=i(0),l=p(a),u=i(21),c=p(u),h=i(11),d=p(h),f=i(8),y=p(f),_=i(10),x=p(_);function p(N){return N&&N.__esModule?N:{default:N}}function v(N){if(Array.isArray(N)){for(var T=0,k=Array(N.length);T<N.length;T++)k[T]=N[T];return k}else return Array.from(N)}function A(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}var w=(0,x.default)("quill:selection"),C=function N(T){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;A(this,N),this.index=T,this.length=k},B=function(){function N(T,k){var E=this;A(this,N),this.emitter=k,this.scroll=T,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(S,I){S===y.default.events.TEXT_CHANGE&&I.length()>0&&E.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var S=E.getNativeRange();S!=null&&S.start.node!==E.cursor.textNode&&E.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(S.start.node,S.start.offset,S.end.node,S.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(S,I){if(I.range){var U=I.range,G=U.startNode,oe=U.startOffset,se=U.endNode,te=U.endOffset;E.setNativeRange(G,oe,se,te)}}),this.update(y.default.sources.SILENT)}return s(N,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var E=k.cursor.restore();if(!E)return;setTimeout(function(){k.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var S=this.getNativeRange();if(!(S==null||!S.native.collapsed||l.default.query(k,l.default.Scope.BLOCK))){if(S.start.node!==this.cursor.textNode){var I=l.default.find(S.start.node,!1);if(I==null)return;if(I instanceof l.default.Leaf){var U=I.split(S.start.offset);I.parent.insertBefore(this.cursor,U)}else I.insertBefore(this.cursor,S.start.node);this.cursor.attach()}this.cursor.format(k,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=this.scroll.length();k=Math.min(k,S-1),E=Math.min(k+E,S-1)-k;var I=void 0,U=this.scroll.leaf(k),G=o(U,2),oe=G[0],se=G[1];if(oe==null)return null;var te=oe.position(se,!0),Z=o(te,2);I=Z[0],se=Z[1];var X=document.createRange();if(E>0){X.setStart(I,se);var z=this.scroll.leaf(k+E),R=o(z,2);if(oe=R[0],se=R[1],oe==null)return null;var F=oe.position(se,!0),W=o(F,2);return I=W[0],se=W[1],X.setEnd(I,se),X.getBoundingClientRect()}else{var K="left",q=void 0;return I instanceof Text?(se<I.data.length?(X.setStart(I,se),X.setEnd(I,se+1)):(X.setStart(I,se-1),X.setEnd(I,se),K="right"),q=X.getBoundingClientRect()):(q=oe.domNode.getBoundingClientRect(),se>0&&(K="right")),{bottom:q.top+q.height,height:q.height,left:q[K],right:q[K],top:q.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var E=k.getRangeAt(0);if(E==null)return null;var S=this.normalizeNative(E);return w.info("getNativeRange",S),S}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var E=this.normalizedToRange(k);return[E,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var E=this,S=[[k.start.node,k.start.offset]];k.native.collapsed||S.push([k.end.node,k.end.offset]);var I=S.map(function(oe){var se=o(oe,2),te=se[0],Z=se[1],X=l.default.find(te,!0),z=X.offset(E.scroll);return Z===0?z:X instanceof l.default.Container?z+X.length():z+X.index(te,Z)}),U=Math.min(Math.max.apply(Math,v(I)),this.scroll.length()-1),G=Math.min.apply(Math,[U].concat(v(I)));return new C(G,U-G)}},{key:"normalizeNative",value:function(k){if(!L(this.root,k.startContainer)||!k.collapsed&&!L(this.root,k.endContainer))return null;var E={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[E.start,E.end].forEach(function(S){for(var I=S.node,U=S.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>U)I=I.childNodes[U],U=0;else if(I.childNodes.length===U)I=I.lastChild,U=I instanceof Text?I.data.length:I.childNodes.length+1;else break;S.node=I,S.offset=U}),E}},{key:"rangeToNative",value:function(k){var E=this,S=k.collapsed?[k.index]:[k.index,k.index+k.length],I=[],U=this.scroll.length();return S.forEach(function(G,oe){G=Math.min(U-1,G);var se=void 0,te=E.scroll.leaf(G),Z=o(te,2),X=Z[0],z=Z[1],R=X.position(z,oe!==0),F=o(R,2);se=F[0],z=F[1],I.push(se,z)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(k){var E=this.lastRange;if(E!=null){var S=this.getBounds(E.index,E.length);if(S!=null){var I=this.scroll.length()-1,U=this.scroll.line(Math.min(E.index,I)),G=o(U,1),oe=G[0],se=oe;if(E.length>0){var te=this.scroll.line(Math.min(E.index+E.length,I)),Z=o(te,1);se=Z[0]}if(!(oe==null||se==null)){var X=k.getBoundingClientRect();S.top<X.top?k.scrollTop-=X.top-S.top:S.bottom>X.bottom&&(k.scrollTop+=S.bottom-X.bottom)}}}}},{key:"setNativeRange",value:function(k,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",k,E,S,I),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||S.parentNode==null))){var G=document.getSelection();if(G!=null)if(k!=null){this.hasFocus()||this.root.focus();var oe=(this.getNativeRange()||{}).native;if(oe==null||U||k!==oe.startContainer||E!==oe.startOffset||S!==oe.endContainer||I!==oe.endOffset){k.tagName=="BR"&&(E=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),S.tagName=="BR"&&(I=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode);var se=document.createRange();se.setStart(k,E),se.setEnd(S,I),G.removeAllRanges(),G.addRange(se)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof E=="string"&&(S=E,E=!1),w.info("setRange",k),k!=null){var I=this.rangeToNative(k);this.setNativeRange.apply(this,v(I).concat([E]))}else this.setNativeRange(null);this.update(S)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,E=this.lastRange,S=this.getRange(),I=o(S,2),U=I[0],G=I[1];if(this.lastRange=U,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(E,this.lastRange)){var oe;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var se=[y.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(E),k];if((oe=this.emitter).emit.apply(oe,[y.default.events.EDITOR_CHANGE].concat(se)),k!==y.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,se)}}}}]),N}();function L(N,T){try{T.parentNode}catch{return!1}return T instanceof Text&&(T=T.parentNode),N.contains(T)}r.Range=C,r.default=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(_,x){for(var p=0;p<x.length;p++){var v=x[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,x,p){return x&&y(_.prototype,x),p&&y(_,p),_}}(),s=function y(_,x,p){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,x);if(v===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:y(A,x,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){d(_,y);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"insertInto",value:function(p,v){p.children.length===0?s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertInto",this).call(this,p,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_}(l.default.Embed);f.blotName="break",f.tagName="BR",r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(h){o(d,h);function d(f){var y=h.call(this,f)||this;return y.build(),y}return d.prototype.appendChild=function(f){this.insertBefore(f)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},d.prototype.build=function(){var f=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var _=c(y);f.insertBefore(_,f.children.head||void 0)}catch(x){if(x instanceof l.ParchmentError)return;throw x}})},d.prototype.deleteAt=function(f,y){if(f===0&&y===this.length())return this.remove();this.children.forEachAt(f,y,function(_,x,p){_.deleteAt(x,p)})},d.prototype.descendant=function(f,y){var _=this.children.find(y),x=_[0],p=_[1];return f.blotName==null&&f(x)||f.blotName!=null&&x instanceof f?[x,p]:x instanceof d?x.descendant(f,p):[null,-1]},d.prototype.descendants=function(f,y,_){y===void 0&&(y=0),_===void 0&&(_=Number.MAX_VALUE);var x=[],p=_;return this.children.forEachAt(y,_,function(v,A,w){(f.blotName==null&&f(v)||f.blotName!=null&&v instanceof f)&&x.push(v),v instanceof d&&(x=x.concat(v.descendants(f,A,p))),p-=w}),x},d.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(f,y,_,x){this.children.forEachAt(f,y,function(p,v,A){p.formatAt(v,A,_,x)})},d.prototype.insertAt=function(f,y,_){var x=this.children.find(f),p=x[0],v=x[1];if(p)p.insertAt(v,y,_);else{var A=_==null?l.create("text",y):l.create(y,_);this.appendChild(A)}},d.prototype.insertBefore=function(f,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return f instanceof _}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,y)},d.prototype.length=function(){return this.children.reduce(function(f,y){return f+y.length()},0)},d.prototype.moveChildren=function(f,y){this.children.forEach(function(_){f.insertBefore(_,y)})},d.prototype.optimize=function(f){if(h.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(f)}else this.remove()},d.prototype.path=function(f,y){y===void 0&&(y=!1);var _=this.children.find(f,y),x=_[0],p=_[1],v=[[this,f]];return x instanceof d?v.concat(x.path(p,y)):(x!=null&&v.push([x,p]),v)},d.prototype.removeChild=function(f){this.children.remove(f)},d.prototype.replace=function(f){f instanceof d&&f.moveChildren(this),h.prototype.replace.call(this,f)},d.prototype.split=function(f,y){if(y===void 0&&(y=!1),!y){if(f===0)return this;if(f===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(f,this.length(),function(x,p,v){x=x.split(p,y),_.appendChild(x)}),_},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(f,y){var _=this,x=[],p=[];f.forEach(function(v){v.target===_.domNode&&v.type==="childList"&&(x.push.apply(x,v.addedNodes),p.push.apply(p,v.removedNodes))}),p.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var A=l.find(v);A!=null&&(A.domNode.parentNode==null||A.domNode.parentNode===_.domNode)&&A.detach()}}),x.filter(function(v){return v.parentNode==_.domNode}).sort(function(v,A){return v===A?0:v.compareDocumentPosition(A)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var A=null;v.nextSibling!=null&&(A=l.find(v.nextSibling));var w=c(v);(w.next!=A||w.next==null)&&(w.parent!=null&&w.parent.removeChild(_),_.insertBefore(w,A||void 0))})},d}(a.default);function c(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){d.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(h){o(d,h);function d(f){var y=h.call(this,f)||this;return y.attributes=new a.default(y.domNode),y}return d.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},d.prototype.format=function(f,y){var _=u.query(f);_ instanceof s.default?this.attributes.attribute(_,y):y&&_!=null&&(f!==this.statics.blotName||this.formats()[f]!==y)&&this.replaceWith(f,y)},d.prototype.formats=function(){var f=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(f[this.statics.blotName]=y),f},d.prototype.replaceWith=function(f,y){var _=h.prototype.replaceWith.call(this,f,y);return this.attributes.copy(_),_},d.prototype.update=function(f,y){var _=this;h.prototype.update.call(this,f,y),f.some(function(x){return x.target===_.domNode&&x.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(f,y){var _=h.prototype.wrap.call(this,f,y);return _ instanceof d&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},d}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(h){return!0},c.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(h,d){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(f+=1),[this.parent.domNode,f]},c.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,h){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=s(!0,{},c);h||(d=Object.keys(d).reduce(function(y,_){return d[_]!=null&&(y[_]=d[_]),y},{}));for(var f in u)u[f]!==void 0&&c[f]===void 0&&(d[f]=u[f]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=Object.keys(u).concat(Object.keys(c)).reduce(function(d,f){return o(u[f],c[f])||(d[f]=c[f]===void 0?null:c[f]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(u,c,h){if(typeof u!="object")return c;if(typeof c=="object"){if(!h)return c;var d=Object.keys(c).reduce(function(f,y){return u[y]===void 0&&(f[y]=c[y]),f},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var h=this.offset,d=a.length(c);if(u>=d-h?(u=d-h,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var f={};return c.attributes&&(f.attributes=c.attributes),typeof c.retain=="number"?f.retain=u:typeof c.insert=="string"?f.insert=c.insert.substr(h,u):f.insert=c.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[h].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(_,x){return x!=null&&_ instanceof x}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(_,x,p,v,A){typeof x=="object"&&(p=x.depth,v=x.prototype,A=x.includeNonEnumerable,x=x.circular);var w=[],C=[],B=typeof Buffer<"u";typeof x>"u"&&(x=!0),typeof p>"u"&&(p=1/0);function L(N,T){if(N===null)return null;if(T===0)return N;var k,E;if(typeof N!="object")return N;if(o(N,s))k=new s;else if(o(N,a))k=new a;else if(o(N,l))k=new l(function(X,z){N.then(function(R){X(L(R,T-1))},function(R){z(L(R,T-1))})});else if(u.__isArray(N))k=[];else if(u.__isRegExp(N))k=new RegExp(N.source,y(N)),N.lastIndex&&(k.lastIndex=N.lastIndex);else if(u.__isDate(N))k=new Date(N.getTime());else{if(B&&Buffer.isBuffer(N))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(N.length):k=new Buffer(N.length),N.copy(k),k;o(N,Error)?k=Object.create(N):typeof v>"u"?(E=Object.getPrototypeOf(N),k=Object.create(E)):(k=Object.create(v),E=v)}if(x){var S=w.indexOf(N);if(S!=-1)return C[S];w.push(N),C.push(k)}o(N,s)&&N.forEach(function(X,z){var R=L(z,T-1),F=L(X,T-1);k.set(R,F)}),o(N,a)&&N.forEach(function(X){var z=L(X,T-1);k.add(z)});for(var I in N){var U;E&&(U=Object.getOwnPropertyDescriptor(E,I)),!(U&&U.set==null)&&(k[I]=L(N[I],T-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(N),I=0;I<G.length;I++){var oe=G[I],se=Object.getOwnPropertyDescriptor(N,oe);se&&!se.enumerable&&!A||(k[oe]=L(N[oe],T-1),se.enumerable||Object.defineProperty(k,oe,{enumerable:!1}))}if(A)for(var te=Object.getOwnPropertyNames(N),I=0;I<te.length;I++){var Z=te[I],se=Object.getOwnPropertyDescriptor(N,Z);se&&se.enumerable||(k[Z]=L(N[Z],T-1),Object.defineProperty(k,Z,{enumerable:!1}))}return k}return L(_,p)}u.clonePrototype=function(x){if(x===null)return null;var p=function(){};return p.prototype=x,new p};function c(_){return Object.prototype.toString.call(_)}u.__objToStr=c;function h(_){return typeof _=="object"&&c(_)==="[object Date]"}u.__isDate=h;function d(_){return typeof _=="object"&&c(_)==="[object Array]"}u.__isArray=d;function f(_){return typeof _=="object"&&c(_)==="[object RegExp]"}u.__isRegExp=f;function y(_){var x="";return _.global&&(x+="g"),_.ignoreCase&&(x+="i"),_.multiline&&(x+="m"),x}return u.__getRegExpFlags=y,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function k(E,S){var I=[],U=!0,G=!1,oe=void 0;try{for(var se=E[Symbol.iterator](),te;!(U=(te=se.next()).done)&&(I.push(te.value),!(S&&I.length===S));U=!0);}catch(Z){G=!0,oe=Z}finally{try{!U&&se.return&&se.return()}finally{if(G)throw oe}}return I}return function(E,S){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(E,S){for(var I=0;I<S.length;I++){var U=S[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}return function(E,S,I){return S&&k(E.prototype,S),I&&k(E,I),E}}(),a=function k(E,S,I){E===null&&(E=Function.prototype);var U=Object.getOwnPropertyDescriptor(E,S);if(U===void 0){var G=Object.getPrototypeOf(E);return G===null?void 0:k(G,S,I)}else{if("value"in U)return U.value;var oe=U.get;return oe===void 0?void 0:oe.call(I)}},l=i(0),u=w(l),c=i(8),h=w(c),d=i(4),f=w(d),y=i(16),_=w(y),x=i(13),p=w(x),v=i(25),A=w(v);function w(k){return k&&k.__esModule?k:{default:k}}function C(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function B(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function L(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}function N(k){return k instanceof f.default||k instanceof d.BlockEmbed}var T=function(k){L(E,k);function E(S,I){C(this,E);var U=B(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S));return U.emitter=I.emitter,Array.isArray(I.whitelist)&&(U.whitelist=I.whitelist.reduce(function(G,oe){return G[oe]=!0,G},{})),U.domNode.addEventListener("DOMNodeInserted",function(){}),U.optimize(),U.enable(),U}return s(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,U){var G=this.line(I),oe=o(G,2),se=oe[0],te=oe[1],Z=this.line(I+U),X=o(Z,1),z=X[0];if(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,I,U),z!=null&&se!==z&&te>0){if(se instanceof d.BlockEmbed||z instanceof d.BlockEmbed){this.optimize();return}if(se instanceof p.default){var R=se.newlineIndex(se.length(),!0);if(R>-1&&(se=se.split(R+1),se===z)){this.optimize();return}}else if(z instanceof p.default){var F=z.newlineIndex(0);F>-1&&z.split(F+1)}var W=z.children.head instanceof _.default?null:z.children.head;se.moveChildren(z,W),se.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,U,G,oe){this.whitelist!=null&&!this.whitelist[G]||(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,I,U,G,oe),this.optimize())}},{key:"insertAt",value:function(I,U,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[U])){if(I>=this.length())if(G==null||u.default.query(U,u.default.Scope.BLOCK)==null){var oe=u.default.create(this.statics.defaultChild);this.appendChild(oe),G==null&&U.endsWith(`
`)&&(U=U.slice(0,-1)),oe.insertAt(0,U,G)}else{var se=u.default.create(U,G);this.appendChild(se)}else a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,I,U,G);this.optimize()}}},{key:"insertBefore",value:function(I,U){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var G=u.default.create(this.statics.defaultChild);G.appendChild(I),I=G}a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,I,U)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(N,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function oe(se,te,Z){var X=[],z=Z;return se.children.forEachAt(te,Z,function(R,F,W){N(R)?X.push(R):R instanceof u.default.Container&&(X=X.concat(oe(R,F,z))),z-=W}),X};return G(this,I,U)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,I,U),I.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,I,U))}},{key:"path",value:function(I){return a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var U=h.default.sources.USER;typeof I=="string"&&(U=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,U,I),a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,U,I)}}}]),E}(u.default.Scroll);T.blotName="scroll",T.className="ql-editor",T.tagName="DIV",T.defaultChild="block",T.allowedChildren=[f.default,d.BlockEmbed,A.default],r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(Q,ae){var fe=[],he=!0,be=!1,Le=void 0;try{for(var Oe=Q[Symbol.iterator](),Ue;!(he=(Ue=Oe.next()).done)&&(fe.push(Ue.value),!(ae&&fe.length===ae));he=!0);}catch(re){be=!0,Le=re}finally{try{!he&&Oe.return&&Oe.return()}finally{if(be)throw Le}}return fe}return function(Q,ae){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return q(Q,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(Q,ae){for(var fe=0;fe<ae.length;fe++){var he=ae[fe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Q,he.key,he)}}return function(Q,ae,fe){return ae&&q(Q.prototype,ae),fe&&q(Q,fe),Q}}(),l=i(21),u=k(l),c=i(11),h=k(c),d=i(3),f=k(d),y=i(2),_=k(y),x=i(20),p=k(x),v=i(0),A=k(v),w=i(5),C=k(w),B=i(10),L=k(B),N=i(9),T=k(N);function k(q){return q&&q.__esModule?q:{default:q}}function E(q,Q,ae){return Q in q?Object.defineProperty(q,Q,{value:ae,enumerable:!0,configurable:!0,writable:!0}):q[Q]=ae,q}function S(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}function I(q,Q){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:q}function U(q,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);q.prototype=Object.create(Q&&Q.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Q):q.__proto__=Q)}var G=(0,L.default)("quill:keyboard"),oe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",se=function(q){U(Q,q),a(Q,null,[{key:"match",value:function(fe,he){return he=K(he),["altKey","ctrlKey","metaKey","shiftKey"].some(function(be){return!!he[be]!==fe[be]&&he[be]!==null})?!1:he.key===(fe.which||fe.keyCode)}}]);function Q(ae,fe){S(this,Q);var he=I(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ae,fe));return he.bindings={},Object.keys(he.options.bindings).forEach(function(be){be==="list autofill"&&ae.scroll.whitelist!=null&&!ae.scroll.whitelist.list||he.options.bindings[be]&&he.addBinding(he.options.bindings[be])}),he.addBinding({key:Q.keys.ENTER,shiftKey:null},R),he.addBinding({key:Q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(he.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0},Z),he.addBinding({key:Q.keys.DELETE},{collapsed:!0},X)):(he.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Z),he.addBinding({key:Q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},X)),he.addBinding({key:Q.keys.BACKSPACE},{collapsed:!1},z),he.addBinding({key:Q.keys.DELETE},{collapsed:!1},z),he.addBinding({key:Q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Z),he.listen(),he}return a(Q,[{key:"addBinding",value:function(fe){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Le=K(fe);if(Le==null||Le.key==null)return G.warn("Attempted to add invalid keyboard binding",Le);typeof he=="function"&&(he={handler:he}),typeof be=="function"&&(be={handler:be}),Le=(0,f.default)(Le,he,be),this.bindings[Le.key]=this.bindings[Le.key]||[],this.bindings[Le.key].push(Le)}},{key:"listen",value:function(){var fe=this;this.quill.root.addEventListener("keydown",function(he){if(!he.defaultPrevented){var be=he.which||he.keyCode,Le=(fe.bindings[be]||[]).filter(function(Xe){return Q.match(he,Xe)});if(Le.length!==0){var Oe=fe.quill.getSelection();if(!(Oe==null||!fe.quill.hasFocus())){var Ue=fe.quill.getLine(Oe.index),re=s(Ue,2),qe=re[0],it=re[1],ye=fe.quill.getLeaf(Oe.index),pe=s(ye,2),Te=pe[0],Ne=pe[1],Se=Oe.length===0?[Te,Ne]:fe.quill.getLeaf(Oe.index+Oe.length),Fe=s(Se,2),We=Fe[0],$e=Fe[1],Ge=Te instanceof A.default.Text?Te.value().slice(0,Ne):"",at=We instanceof A.default.Text?We.value().slice($e):"",Ze={collapsed:Oe.length===0,empty:Oe.length===0&&qe.length()<=1,format:fe.quill.getFormat(Oe),offset:it,prefix:Ge,suffix:at},nt=Le.some(function(Xe){if(Xe.collapsed!=null&&Xe.collapsed!==Ze.collapsed||Xe.empty!=null&&Xe.empty!==Ze.empty||Xe.offset!=null&&Xe.offset!==Ze.offset)return!1;if(Array.isArray(Xe.format)){if(Xe.format.every(function(Ke){return Ze.format[Ke]==null}))return!1}else if(o(Xe.format)==="object"&&!Object.keys(Xe.format).every(function(Ke){return Xe.format[Ke]===!0?Ze.format[Ke]!=null:Xe.format[Ke]===!1?Ze.format[Ke]==null:(0,h.default)(Xe.format[Ke],Ze.format[Ke])}))return!1;return Xe.prefix!=null&&!Xe.prefix.test(Ze.prefix)||Xe.suffix!=null&&!Xe.suffix.test(Ze.suffix)?!1:Xe.handler.call(fe,Oe,Ze)!==!0});nt&&he.preventDefault()}}}})}}]),Q}(T.default);se.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},se.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:se.keys.TAB,format:["blockquote","indent","list"],handler:function(Q,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:se.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:se.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,ae){ae.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):ae.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:se.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,C.default.sources.USER)}},tab:{key:se.keys.TAB,handler:function(Q){this.quill.history.cutoff();var ae=new _.default().retain(Q.index).delete(Q.length).insert("	");this.quill.updateContents(ae,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,C.default.sources.SILENT)}},"list empty enter":{key:se.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Q,ae){this.quill.format("list",!1,C.default.sources.USER),ae.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:se.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Q){var ae=this.quill.getLine(Q.index),fe=s(ae,2),he=fe[0],be=fe[1],Le=(0,f.default)({},he.formats(),{list:"checked"}),Oe=new _.default().retain(Q.index).insert(`
`,Le).retain(he.length()-be-1).retain(1,{list:"unchecked"});this.quill.updateContents(Oe,C.default.sources.USER),this.quill.setSelection(Q.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:se.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,ae){var fe=this.quill.getLine(Q.index),he=s(fe,2),be=he[0],Le=he[1],Oe=new _.default().retain(Q.index).insert(`
`,ae.format).retain(be.length()-Le-1).retain(1,{header:null});this.quill.updateContents(Oe,C.default.sources.USER),this.quill.setSelection(Q.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,ae){var fe=ae.prefix.length,he=this.quill.getLine(Q.index),be=s(he,2),Le=be[0],Oe=be[1];if(Oe>fe)return!0;var Ue=void 0;switch(ae.prefix.trim()){case"[]":case"[ ]":Ue="unchecked";break;case"[x]":Ue="checked";break;case"-":case"*":Ue="bullet";break;default:Ue="ordered"}this.quill.insertText(Q.index," ",C.default.sources.USER),this.quill.history.cutoff();var re=new _.default().retain(Q.index-Oe).delete(fe+1).retain(Le.length()-2-Oe).retain(1,{list:Ue});this.quill.updateContents(re,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-fe,C.default.sources.SILENT)}},"code exit":{key:se.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Q){var ae=this.quill.getLine(Q.index),fe=s(ae,2),he=fe[0],be=fe[1],Le=new _.default().retain(Q.index+he.length()-be-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Le,C.default.sources.USER)}},"embed left":te(se.keys.LEFT,!1),"embed left shift":te(se.keys.LEFT,!0),"embed right":te(se.keys.RIGHT,!1),"embed right shift":te(se.keys.RIGHT,!0)}};function te(q,Q){var ae,fe=q===se.keys.LEFT?"prefix":"suffix";return ae={key:q,shiftKey:Q,altKey:null},E(ae,fe,/^$/),E(ae,"handler",function(be){var Le=be.index;q===se.keys.RIGHT&&(Le+=be.length+1);var Oe=this.quill.getLeaf(Le),Ue=s(Oe,1),re=Ue[0];return re instanceof A.default.Embed?(q===se.keys.LEFT?Q?this.quill.setSelection(be.index-1,be.length+1,C.default.sources.USER):this.quill.setSelection(be.index-1,C.default.sources.USER):Q?this.quill.setSelection(be.index,be.length+1,C.default.sources.USER):this.quill.setSelection(be.index+be.length+1,C.default.sources.USER),!1):!0}),ae}function Z(q,Q){if(!(q.index===0||this.quill.getLength()<=1)){var ae=this.quill.getLine(q.index),fe=s(ae,1),he=fe[0],be={};if(Q.offset===0){var Le=this.quill.getLine(q.index-1),Oe=s(Le,1),Ue=Oe[0];if(Ue!=null&&Ue.length()>1){var re=he.formats(),qe=this.quill.getFormat(q.index-1,1);be=p.default.attributes.diff(re,qe)||{}}}var it=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Q.prefix)?2:1;this.quill.deleteText(q.index-it,it,C.default.sources.USER),Object.keys(be).length>0&&this.quill.formatLine(q.index-it,it,be,C.default.sources.USER),this.quill.focus()}}function X(q,Q){var ae=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Q.suffix)?2:1;if(!(q.index>=this.quill.getLength()-ae)){var fe={},he=0,be=this.quill.getLine(q.index),Le=s(be,1),Oe=Le[0];if(Q.offset>=Oe.length()-1){var Ue=this.quill.getLine(q.index+1),re=s(Ue,1),qe=re[0];if(qe){var it=Oe.formats(),ye=this.quill.getFormat(q.index,1);fe=p.default.attributes.diff(it,ye)||{},he=qe.length()}}this.quill.deleteText(q.index,ae,C.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(q.index+he-1,ae,fe,C.default.sources.USER)}}function z(q){var Q=this.quill.getLines(q),ae={};if(Q.length>1){var fe=Q[0].formats(),he=Q[Q.length-1].formats();ae=p.default.attributes.diff(he,fe)||{}}this.quill.deleteText(q,C.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(q.index,1,ae,C.default.sources.USER),this.quill.setSelection(q.index,C.default.sources.SILENT),this.quill.focus()}function R(q,Q){var ae=this;q.length>0&&this.quill.scroll.deleteAt(q.index,q.length);var fe=Object.keys(Q.format).reduce(function(he,be){return A.default.query(be,A.default.Scope.BLOCK)&&!Array.isArray(Q.format[be])&&(he[be]=Q.format[be]),he},{});this.quill.insertText(q.index,`
`,fe,C.default.sources.USER),this.quill.setSelection(q.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(he){fe[he]==null&&(Array.isArray(Q.format[he])||he!=="link"&&ae.quill.format(he,Q.format[he],C.default.sources.USER))})}function F(q){return{key:se.keys.TAB,shiftKey:!q,format:{"code-block":!0},handler:function(ae){var fe=A.default.query("code-block"),he=ae.index,be=ae.length,Le=this.quill.scroll.descendant(fe,he),Oe=s(Le,2),Ue=Oe[0],re=Oe[1];if(Ue!=null){var qe=this.quill.getIndex(Ue),it=Ue.newlineIndex(re,!0)+1,ye=Ue.newlineIndex(qe+re+be),pe=Ue.domNode.textContent.slice(it,ye).split(`
`);re=0,pe.forEach(function(Te,Ne){q?(Ue.insertAt(it+re,fe.TAB),re+=fe.TAB.length,Ne===0?he+=fe.TAB.length:be+=fe.TAB.length):Te.startsWith(fe.TAB)&&(Ue.deleteAt(it+re,fe.TAB.length),re-=fe.TAB.length,Ne===0?he-=fe.TAB.length:be-=fe.TAB.length),re+=Te.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(he,be,C.default.sources.SILENT)}}}}function W(q){return{key:q[0].toUpperCase(),shortKey:!0,handler:function(ae,fe){this.quill.format(q,!fe.format[q],C.default.sources.USER)}}}function K(q){if(typeof q=="string"||typeof q=="number")return K({key:q});if((typeof q>"u"?"undefined":o(q))==="object"&&(q=(0,u.default)(q,!1)),typeof q.key=="string")if(se.keys[q.key.toUpperCase()]!=null)q.key=se.keys[q.key.toUpperCase()];else if(q.key.length===1)q.key=q.key.toUpperCase().charCodeAt(0);else return null;return q.shortKey&&(q[oe]=q.shortKey,delete q.shortKey),q}r.default=se,r.SHORTKEY=oe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,A){var w=[],C=!0,B=!1,L=void 0;try{for(var N=v[Symbol.iterator](),T;!(C=(T=N.next()).done)&&(w.push(T.value),!(A&&w.length===A));C=!0);}catch(k){B=!0,L=k}finally{try{!C&&N.return&&N.return()}finally{if(B)throw L}}return w}return function(v,A){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return p(v,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(v,A,w){v===null&&(v=Function.prototype);var C=Object.getOwnPropertyDescriptor(v,A);if(C===void 0){var B=Object.getPrototypeOf(v);return B===null?void 0:p(B,A,w)}else{if("value"in C)return C.value;var L=C.get;return L===void 0?void 0:L.call(w)}},a=function(){function p(v,A){for(var w=0;w<A.length;w++){var C=A[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,A,w){return A&&p(v.prototype,A),w&&p(v,w),v}}(),l=i(0),u=d(l),c=i(7),h=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function y(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function _(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var x=function(p){_(v,p),a(v,null,[{key:"value",value:function(){}}]);function v(A,w){f(this,v);var C=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,A));return C.selection=w,C.textNode=document.createTextNode(v.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return a(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,C){if(this._length!==0)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,C);for(var B=this,L=0;B!=null&&B.statics.scope!==u.default.Scope.BLOCK_BLOT;)L+=B.offset(B.parent),B=B.parent;B!=null&&(this._length=v.CONTENTS.length,B.optimize(),B.formatAt(L,v.CONTENTS.length,w,C),this._length=0)}},{key:"index",value:function(w,C){return w===this.textNode?0:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,C=this.selection.getNativeRange(),B=void 0,L=void 0,N=void 0;if(C!=null&&C.start.node===w&&C.end.node===w){var T=[w,C.start.offset,C.end.offset];B=T[0],L=T[1],N=T[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var k=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof h.default?(B=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=v.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),L!=null){var E=[L,N].map(function(I){return Math.max(0,Math.min(B.data.length,I-1))}),S=o(E,2);return L=S[0],N=S[1],{startNode:B,startOffset:L,endNode:B,endOffset:N}}}}},{key:"update",value:function(w,C){var B=this;if(w.some(function(N){return N.type==="characterData"&&N.target===B.textNode})){var L=this.restore();L&&(C.range=L)}}},{key:"value",value:function(){return""}}]),v}(u.default.Embed);x.blotName="cursor",x.className="ql-cursor",x.tagName="span",x.CONTENTS="\uFEFF",r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){d(_,y);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(s.default.Container);f.allowedChildren=[l.default,a.BlockEmbed,f],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function x(p,v){for(var A=0;A<v.length;A++){var w=v[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,A){return v&&x(p.prototype,v),A&&x(p,A),p}}(),s=function x(p,v,A){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:x(C,v,A)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(A)}},a=i(0),l=u(a);function u(x){return x&&x.__esModule?x:{default:x}}function c(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function h(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function d(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var f=function(x){d(p,x);function p(){return c(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(A){var w=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,A);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):w}}]),p}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),_=new f("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=f,r.ColorClass=y,r.ColorStyle=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function _(x,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,p,v){return p&&_(x.prototype,p),v&&_(x,v),x}}(),s=function _(x,p,v){x===null&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,p);if(A===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:_(w,p,v)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(v)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function h(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function d(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var f=function(_){d(x,_);function x(){return c(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"format",value:function(v,A){if(v!==this.statics.blotName||!A)return s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,v,A);A=this.constructor.sanitize(A),this.domNode.setAttribute("href",A)}}],[{key:"create",value:function(v){var A=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,v);return v=this.sanitize(v),A.setAttribute("href",v),A.setAttribute("rel","noopener noreferrer"),A.setAttribute("target","_blank"),A}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return y(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),x}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(_,x){var p=document.createElement("a");p.href=_;var v=p.href.slice(0,p.href.indexOf(":"));return x.indexOf(v)>-1}r.default=f,r.sanitize=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x(p,v){for(var A=0;A<v.length;A++){var w=v[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,A){return v&&x(p.prototype,v),A&&x(p,A),p}}(),a=i(23),l=h(a),u=i(107),c=h(u);function h(x){return x&&x.__esModule?x:{default:x}}function d(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}var f=0;function y(x,p){x.setAttribute(p,x.getAttribute(p)!=="true")}var _=function(){function x(p){var v=this;d(this,x),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(A){switch(A.keyCode){case l.default.keys.ENTER:v.togglePicker();break;case l.default.keys.ESCAPE:v.escape(),A.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(x,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var A=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),v.hasAttribute("value")&&w.setAttribute("data-value",v.getAttribute("value")),v.textContent&&w.setAttribute("data-label",v.textContent),w.addEventListener("click",function(){A.selectItem(w,!0)}),w.addEventListener("keydown",function(C){switch(C.keyCode){case l.default.keys.ENTER:A.selectItem(w,!0),C.preventDefault();break;case l.default.keys.ESCAPE:A.escape(),C.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=c.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,A=document.createElement("span");A.classList.add("ql-picker-options"),A.setAttribute("aria-hidden","true"),A.tabIndex="-1",A.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",A.id),this.options=A,[].slice.call(this.select.options).forEach(function(w){var C=v.buildItem(w);A.appendChild(C),w.selected===!0&&v.selectItem(C)}),this.container.appendChild(A)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(A){v.container.setAttribute(A.name,A.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(v!==w&&(w!=null&&w.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),A))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var A=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(A)}else this.selectItem(null);var w=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),x}();r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=G(o),a=i(5),l=G(a),u=i(4),c=G(u),h=i(16),d=G(h),f=i(25),y=G(f),_=i(24),x=G(_),p=i(35),v=G(p),A=i(6),w=G(A),C=i(22),B=G(C),L=i(7),N=G(L),T=i(55),k=G(T),E=i(42),S=G(E),I=i(23),U=G(I);function G(oe){return oe&&oe.__esModule?oe:{default:oe}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":y.default,"blots/cursor":x.default,"blots/embed":v.default,"blots/inline":w.default,"blots/scroll":B.default,"blots/text":N.default,"modules/clipboard":k.default,"modules/history":S.default,"modules/keyboard":U.default}),s.default.register(c.default,d.default,x.default,w.default,B.default,N.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,h){var d=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&h)d.wrap(c,h);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var f=o.create(this.statics.scope);d.wrap(f),f.format(c,h)}},a.prototype.insertAt=function(l,u,c){var h=c==null?o.create("text",u):o.create(u,c),d=this.split(l);this.parent.insertBefore(h,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(h){this.attributes={},this.domNode=h,this.build()}return c.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},c.prototype.build=function(){var h=this;this.attributes={};var d=o.default.keys(this.domNode),f=s.default.keys(this.domNode),y=a.default.keys(this.domNode);d.concat(f).concat(y).forEach(function(_){var x=l.query(_,l.Scope.ATTRIBUTE);x instanceof o.default&&(h.attributes[x.attrName]=x)})},c.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(f){var y=d.attributes[f].value(d.domNode);h.format(f,y)})},c.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(f){d.attributes[f].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,f){return d[f]=h.attributes[f].value(h.domNode),d},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(h){var d=a(h,this.keyName);d.forEach(function(f){h.classList.remove(f)}),h.classList.length===0&&h.removeAttribute("class")},c.prototype.value=function(h){var d=a(h,this.keyName)[0]||"",f=d.slice(this.keyName.length+1);return this.canAdd(h,f)?f:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),h=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+h}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var f=d.split(":");return f[0].trim()})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[a(this.keyName)]=d,!0):!1},c.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},c.prototype.value=function(h){var d=h.style[a(this.keyName)];return this.canAdd(h,d)?d:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(h){c.modules[h]==null&&c.addModule(h)})}},{key:"addModule",value:function(c){var h=this.quill.constructor.import("modules/"+c);return this.modules[c]=new h(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,A){for(var w=0;w<A.length;w++){var C=A[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,A,w){return A&&p(v.prototype,A),w&&p(v,w),v}}(),s=function p(v,A,w){v===null&&(v=Function.prototype);var C=Object.getOwnPropertyDescriptor(v,A);if(C===void 0){var B=Object.getPrototypeOf(v);return B===null?void 0:p(B,A,w)}else{if("value"in C)return C.value;var L=C.get;return L===void 0?void 0:L.call(w)}},a=i(0),l=h(a),u=i(7),c=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function d(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var _="\uFEFF",x=function(p){y(v,p);function v(A){d(this,v);var w=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,A));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(C){w.contentNode.appendChild(C)}),w.leftGuard=document.createTextNode(_),w.rightGuard=document.createTextNode(_),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return o(v,[{key:"index",value:function(w,C){return w===this.leftGuard?0:w===this.rightGuard?1:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,C)}},{key:"restore",value:function(w){var C=void 0,B=void 0,L=w.data.split(_).join("");if(w===this.leftGuard)if(this.prev instanceof c.default){var N=this.prev.length();this.prev.insertAt(N,L),C={startNode:this.prev.domNode,startOffset:N+L.length}}else B=document.createTextNode(L),this.parent.insertBefore(l.default.create(B),this),C={startNode:B,startOffset:L.length};else w===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,L),C={startNode:this.next.domNode,startOffset:L.length}):(B=document.createTextNode(L),this.parent.insertBefore(l.default.create(B),this.next),C={startNode:B,startOffset:L.length}));return w.data=_,C}},{key:"update",value:function(w,C){var B=this;w.forEach(function(L){if(L.type==="characterData"&&(L.target===B.leftGuard||L.target===B.rightGuard)){var N=B.restore(L.target);N&&(C.range=N)}})}}]),v}(l.default.Embed);r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function p(v,A){for(var w=0;w<A.length;w++){var C=A[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,A,w){return A&&p(v.prototype,A),w&&p(v,w),v}}(),s=function p(v,A,w){v===null&&(v=Function.prototype);var C=Object.getOwnPropertyDescriptor(v,A);if(C===void 0){var B=Object.getPrototypeOf(v);return B===null?void 0:p(B,A,w)}else{if("value"in C)return C.value;var L=C.get;return L===void 0?void 0:L.call(w)}},a=i(0),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function d(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",f),_=function(p){d(v,p);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(w){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),v}(l.default.Attributor.Style),x=new _("font","font-family",f);r.FontStyle=x,r.FontClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function A(w,C){for(var B=0;B<C.length;B++){var L=C[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}return function(w,C,B){return C&&A(w.prototype,C),B&&A(w,B),w}}(),s=i(0),a=d(s),l=i(5),u=d(l),c=i(9),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function f(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function y(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function _(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var x=function(A){_(w,A);function w(C,B){f(this,w);var L=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,C,B));return L.lastRecorded=0,L.ignoreChange=!1,L.clear(),L.quill.on(u.default.events.EDITOR_CHANGE,function(N,T,k,E){N!==u.default.events.TEXT_CHANGE||L.ignoreChange||(!L.options.userOnly||E===u.default.sources.USER?L.record(T,k):L.transform(T))}),L.quill.keyboard.addBinding({key:"Z",shortKey:!0},L.undo.bind(L)),L.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},L.redo.bind(L)),/Win/i.test(navigator.platform)&&L.quill.keyboard.addBinding({key:"Y",shortKey:!0},L.redo.bind(L)),L}return o(w,[{key:"change",value:function(B,L){if(this.stack[B].length!==0){var N=this.stack[B].pop();this.stack[L].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[B],u.default.sources.USER),this.ignoreChange=!1;var T=v(N[B]);this.quill.setSelection(T)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(B,L){if(B.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(L),T=Date.now();if(this.lastRecorded+this.options.delay>T&&this.stack.undo.length>0){var k=this.stack.undo.pop();N=N.compose(k.undo),B=k.redo.compose(B)}else this.lastRecorded=T;this.stack.undo.push({redo:B,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(B){this.stack.undo.forEach(function(L){L.undo=B.transform(L.undo,!0),L.redo=B.transform(L.redo,!0)}),this.stack.redo.forEach(function(L){L.undo=B.transform(L.undo,!0),L.redo=B.transform(L.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(h.default);x.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(A){var w=A.ops[A.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(C){return a.default.query(C,a.default.Scope.BLOCK)!=null}):!1}function v(A){var w=A.reduce(function(B,L){return B+=L.delete||0,B},0),C=A.length()-w;return p(A)&&(C-=1),C}r.default=x,r.getLastChangeIndex=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function R(F,W){for(var K=0;K<W.length;K++){var q=W[K];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(F,q.key,q)}}return function(F,W,K){return W&&R(F.prototype,W),K&&R(F,K),F}}(),s=function R(F,W,K){F===null&&(F=Function.prototype);var q=Object.getOwnPropertyDescriptor(F,W);if(q===void 0){var Q=Object.getPrototypeOf(F);return Q===null?void 0:R(Q,W,K)}else{if("value"in q)return q.value;var ae=q.get;return ae===void 0?void 0:ae.call(K)}},a=i(3),l=T(a),u=i(2),c=T(u),h=i(8),d=T(h),f=i(23),y=T(f),_=i(34),x=T(_),p=i(59),v=T(p),A=i(60),w=T(A),C=i(28),B=T(C),L=i(61),N=T(L);function T(R){return R&&R.__esModule?R:{default:R}}function k(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")}function E(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:R}function S(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);R.prototype=Object.create(F&&F.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(R,F):R.__proto__=F)}var I=[!1,"center","right","justify"],U=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],oe=["1","2","3",!1],se=["small",!1,"large","huge"],te=function(R){S(F,R);function F(W,K){k(this,F);var q=E(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,W,K)),Q=function ae(fe){if(!document.body.contains(W.root))return document.body.removeEventListener("click",ae);q.tooltip!=null&&!q.tooltip.root.contains(fe.target)&&document.activeElement!==q.tooltip.textbox&&!q.quill.hasFocus()&&q.tooltip.hide(),q.pickers!=null&&q.pickers.forEach(function(he){he.container.contains(fe.target)||he.close()})};return W.emitter.listenDOM("click",document.body,Q),q}return o(F,[{key:"addModule",value:function(K){var q=s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(q),q}},{key:"buildButtons",value:function(K,q){K.forEach(function(Q){var ae=Q.getAttribute("class")||"";ae.split(/\s+/).forEach(function(fe){if(fe.startsWith("ql-")&&(fe=fe.slice(3),q[fe]!=null))if(fe==="direction")Q.innerHTML=q[fe][""]+q[fe].rtl;else if(typeof q[fe]=="string")Q.innerHTML=q[fe];else{var he=Q.value||"";he!=null&&q[fe][he]&&(Q.innerHTML=q[fe][he])}})})}},{key:"buildPickers",value:function(K,q){var Q=this;this.pickers=K.map(function(fe){if(fe.classList.contains("ql-align"))return fe.querySelector("option")==null&&z(fe,I),new w.default(fe,q.align);if(fe.classList.contains("ql-background")||fe.classList.contains("ql-color")){var he=fe.classList.contains("ql-background")?"background":"color";return fe.querySelector("option")==null&&z(fe,U,he==="background"?"#ffffff":"#000000"),new v.default(fe,q[he])}else return fe.querySelector("option")==null&&(fe.classList.contains("ql-font")?z(fe,G):fe.classList.contains("ql-header")?z(fe,oe):fe.classList.contains("ql-size")&&z(fe,se)),new B.default(fe)});var ae=function(){Q.pickers.forEach(function(he){he.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,ae)}}]),F}(x.default);te.DEFAULTS=(0,l.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var K=new FileReader;K.onload=function(q){var Q=F.quill.getSelection(!0);F.quill.updateContents(new c.default().retain(Q.index).delete(Q.length).insert({image:q.target.result}),d.default.sources.USER),F.quill.setSelection(Q.index+1,d.default.sources.SILENT),W.value=""},K.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Z=function(R){S(F,R);function F(W,K){k(this,F);var q=E(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,W,K));return q.textbox=q.root.querySelector('input[type="text"]'),q.listen(),q}return o(F,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(q){y.default.match(q,"enter")?(K.save(),q.preventDefault()):y.default.match(q,"escape")&&(K.cancel(),q.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),q!=null?this.textbox.value=q:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,d.default.sources.USER)),this.quill.root.scrollTop=q;break}case"video":K=X(K);case"formula":{if(!K)break;var Q=this.quill.getSelection(!0);if(Q!=null){var ae=Q.index+Q.length;this.quill.insertEmbed(ae,this.root.getAttribute("data-mode"),K,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ae+1," ",d.default.sources.USER),this.quill.setSelection(ae+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(N.default);function X(R){var F=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":R}function z(R,F){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(K){var q=document.createElement("option");K===W?q.setAttribute("selected","selected"):q.setAttribute("value",K),R.appendChild(q)})}r.BaseTooltip=Z,r.default=te},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),h=c[0],d=c[1],f,y=a-d,_=this.iterator(h);(f=_())&&y<a+l;){var x=f.length();a>y?u(f,a-y,Math.min(l,y+x-a)):u(f,0,Math.min(x,a+l-y)),y+=x}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(h){o(d,h);function d(f){var y=h.call(this,f)||this;return y.scroll=y,y.observer=new MutationObserver(function(_){y.update(_)}),y.observer.observe(y.domNode,l),y.attach(),y}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(f,y){this.update(),f===0&&y===this.length()?this.children.forEach(function(_){_.remove()}):h.prototype.deleteAt.call(this,f,y)},d.prototype.formatAt=function(f,y,_,x){this.update(),h.prototype.formatAt.call(this,f,y,_,x)},d.prototype.insertAt=function(f,y,_){this.update(),h.prototype.insertAt.call(this,f,y,_)},d.prototype.optimize=function(f,y){var _=this;f===void 0&&(f=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)f.push(x.pop());for(var p=function(C,B){B===void 0&&(B=!0),!(C==null||C===_)&&C.domNode.parentNode!=null&&(C.domNode[a.DATA_KEY].mutations==null&&(C.domNode[a.DATA_KEY].mutations=[]),B&&p(C.parent))},v=function(C){C.domNode[a.DATA_KEY]==null||C.domNode[a.DATA_KEY].mutations==null||(C instanceof s.default&&C.children.forEach(v),C.optimize(y))},A=f,w=0;A.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(A.forEach(function(C){var B=a.find(C.target,!0);B!=null&&(B.domNode===C.target&&(C.type==="childList"?(p(a.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(L){var N=a.find(L,!1);p(N,!1),N instanceof s.default&&N.children.forEach(function(T){p(T,!1)})})):C.type==="attributes"&&p(B.prev)),p(B))}),this.children.forEach(v),A=[].slice.call(this.observer.takeRecords()),x=A.slice();x.length>0;)f.push(x.pop())}},d.prototype.update=function(f,y){var _=this;y===void 0&&(y={}),f=f||this.observer.takeRecords(),f.map(function(x){var p=a.find(x.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[x],p):(p.domNode[a.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x==null||x===_||x.domNode[a.DATA_KEY]==null||x.update(x.domNode[a.DATA_KEY].mutations||[],y)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,y),this.optimize(f,y)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){c(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,h){if(Object.keys(c).length!==Object.keys(h).length)return!1;for(var d in c)if(c[d]!==h[d])return!1;return!0}var u=function(c){o(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return c.formats.call(this,d)},h.prototype.format=function(d,f){var y=this;d===this.statics.blotName&&!f?(this.children.forEach(function(_){_ instanceof s.default||(_=_.wrap(h.blotName,!0)),y.attributes.copy(_)}),this.unwrap()):c.prototype.format.call(this,d,f)},h.prototype.formatAt=function(d,f,y,_){if(this.formats()[y]!=null||a.query(y,a.Scope.ATTRIBUTE)){var x=this.isolate(d,f);x.format(y,_)}else c.prototype.formatAt.call(this,d,f,y,_)},h.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&l(f,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(h){var d=a.query(c.blotName).tagName;if(h.tagName!==d)return u.formats.call(this,h)},c.prototype.format=function(h,d){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,h,d))},c.prototype.formatAt=function(h,d,f,y){a.query(f,a.Scope.BLOCK)!=null?this.format(f,y):u.prototype.formatAt.call(this,h,d,f,y)},c.prototype.insertAt=function(h,d,f){if(f==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,d,f);else{var y=this.split(h),_=a.create(d,f);y.parent.insertBefore(_,y)}},c.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,d)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)c.hasOwnProperty(h)&&(u[h]=c[h])};return function(u,c){l(u,c);function h(){this.constructor=u}u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,h){l.prototype.formatAt.call(this,0,this.length(),c,h)},u.prototype.formatAt=function(c,h,d,f){c===0&&h===this.length()?this.format(d,f):l.prototype.formatAt.call(this,c,h,d,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(h){var d=u.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(h){return document.createTextNode(h)},c.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},c.prototype.index=function(h,d){return this.domNode===h?d:-1},c.prototype.insertAt=function(h,d,f){f==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,d,f)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(h,d){return[this.domNode,h]},c.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var f=a.create(this.domNode.splitText(h));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},c.prototype.update=function(h,d){var f=this;h.some(function(y){return y.type==="characterData"&&y.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,h=arguments[1],d,f=0;f<c;f++)if(d=u[f],l.call(h,d,f,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(w,C,B){if(w==C)return w?[[s,w]]:[];(B<0||w.length<B)&&(B=null);var L=h(w,C),N=w.substring(0,L);w=w.substring(L),C=C.substring(L),L=d(w,C);var T=w.substring(w.length-L);w=w.substring(0,w.length-L),C=C.substring(0,C.length-L);var k=l(w,C);return N&&k.unshift([s,N]),T&&k.push([s,T]),y(k),B!=null&&(k=p(k,B)),k=v(k),k}function l(w,C){var B;if(!w)return[[o,C]];if(!C)return[[i,w]];var L=w.length>C.length?w:C,N=w.length>C.length?C:w,T=L.indexOf(N);if(T!=-1)return B=[[o,L.substring(0,T)],[s,N],[o,L.substring(T+N.length)]],w.length>C.length&&(B[0][0]=B[2][0]=i),B;if(N.length==1)return[[i,w],[o,C]];var k=f(w,C);if(k){var E=k[0],S=k[1],I=k[2],U=k[3],G=k[4],oe=a(E,I),se=a(S,U);return oe.concat([[s,G]],se)}return u(w,C)}function u(w,C){for(var B=w.length,L=C.length,N=Math.ceil((B+L)/2),T=N,k=2*N,E=new Array(k),S=new Array(k),I=0;I<k;I++)E[I]=-1,S[I]=-1;E[T+1]=0,S[T+1]=0;for(var U=B-L,G=U%2!=0,oe=0,se=0,te=0,Z=0,X=0;X<N;X++){for(var z=-X+oe;z<=X-se;z+=2){var R=T+z,F;z==-X||z!=X&&E[R-1]<E[R+1]?F=E[R+1]:F=E[R-1]+1;for(var W=F-z;F<B&&W<L&&w.charAt(F)==C.charAt(W);)F++,W++;if(E[R]=F,F>B)se+=2;else if(W>L)oe+=2;else if(G){var K=T+U-z;if(K>=0&&K<k&&S[K]!=-1){var q=B-S[K];if(F>=q)return c(w,C,F,W)}}}for(var Q=-X+te;Q<=X-Z;Q+=2){var K=T+Q,q;Q==-X||Q!=X&&S[K-1]<S[K+1]?q=S[K+1]:q=S[K-1]+1;for(var ae=q-Q;q<B&&ae<L&&w.charAt(B-q-1)==C.charAt(L-ae-1);)q++,ae++;if(S[K]=q,q>B)Z+=2;else if(ae>L)te+=2;else if(!G){var R=T+U-Q;if(R>=0&&R<k&&E[R]!=-1){var F=E[R],W=T+F-R;if(q=B-q,F>=q)return c(w,C,F,W)}}}}return[[i,w],[o,C]]}function c(w,C,B,L){var N=w.substring(0,B),T=C.substring(0,L),k=w.substring(B),E=C.substring(L),S=a(N,T),I=a(k,E);return S.concat(I)}function h(w,C){if(!w||!C||w.charAt(0)!=C.charAt(0))return 0;for(var B=0,L=Math.min(w.length,C.length),N=L,T=0;B<N;)w.substring(T,N)==C.substring(T,N)?(B=N,T=B):L=N,N=Math.floor((L-B)/2+B);return N}function d(w,C){if(!w||!C||w.charAt(w.length-1)!=C.charAt(C.length-1))return 0;for(var B=0,L=Math.min(w.length,C.length),N=L,T=0;B<N;)w.substring(w.length-N,w.length-T)==C.substring(C.length-N,C.length-T)?(B=N,T=B):L=N,N=Math.floor((L-B)/2+B);return N}function f(w,C){var B=w.length>C.length?w:C,L=w.length>C.length?C:w;if(B.length<4||L.length*2<B.length)return null;function N(se,te,Z){for(var X=se.substring(Z,Z+Math.floor(se.length/4)),z=-1,R="",F,W,K,q;(z=te.indexOf(X,z+1))!=-1;){var Q=h(se.substring(Z),te.substring(z)),ae=d(se.substring(0,Z),te.substring(0,z));R.length<ae+Q&&(R=te.substring(z-ae,z)+te.substring(z,z+Q),F=se.substring(0,Z-ae),W=se.substring(Z+Q),K=te.substring(0,z-ae),q=te.substring(z+Q))}return R.length*2>=se.length?[F,W,K,q,R]:null}var T=N(B,L,Math.ceil(B.length/4)),k=N(B,L,Math.ceil(B.length/2)),E;if(!T&&!k)return null;k?T?E=T[4].length>k[4].length?T:k:E=k:E=T;var S,I,U,G;w.length>C.length?(S=E[0],I=E[1],U=E[2],G=E[3]):(U=E[0],G=E[1],S=E[2],I=E[3]);var oe=E[4];return[S,I,U,G,oe]}function y(w){w.push([s,""]);for(var C=0,B=0,L=0,N="",T="",k;C<w.length;)switch(w[C][0]){case o:L++,T+=w[C][1],C++;break;case i:B++,N+=w[C][1],C++;break;case s:B+L>1?(B!==0&&L!==0&&(k=h(T,N),k!==0&&(C-B-L>0&&w[C-B-L-1][0]==s?w[C-B-L-1][1]+=T.substring(0,k):(w.splice(0,0,[s,T.substring(0,k)]),C++),T=T.substring(k),N=N.substring(k)),k=d(T,N),k!==0&&(w[C][1]=T.substring(T.length-k)+w[C][1],T=T.substring(0,T.length-k),N=N.substring(0,N.length-k))),B===0?w.splice(C-L,B+L,[o,T]):L===0?w.splice(C-B,B+L,[i,N]):w.splice(C-B-L,B+L,[i,N],[o,T]),C=C-B-L+(B?1:0)+(L?1:0)+1):C!==0&&w[C-1][0]==s?(w[C-1][1]+=w[C][1],w.splice(C,1)):C++,L=0,B=0,N="",T="";break}w[w.length-1][1]===""&&w.pop();var E=!1;for(C=1;C<w.length-1;)w[C-1][0]==s&&w[C+1][0]==s&&(w[C][1].substring(w[C][1].length-w[C-1][1].length)==w[C-1][1]?(w[C][1]=w[C-1][1]+w[C][1].substring(0,w[C][1].length-w[C-1][1].length),w[C+1][1]=w[C-1][1]+w[C+1][1],w.splice(C-1,1),E=!0):w[C][1].substring(0,w[C+1][1].length)==w[C+1][1]&&(w[C-1][1]+=w[C+1][1],w[C][1]=w[C][1].substring(w[C+1][1].length)+w[C+1][1],w.splice(C+1,1),E=!0)),C++;E&&y(w)}var _=a;_.INSERT=o,_.DELETE=i,_.EQUAL=s,n.exports=_;function x(w,C){if(C===0)return[s,w];for(var B=0,L=0;L<w.length;L++){var N=w[L];if(N[0]===i||N[0]===s){var T=B+N[1].length;if(C===T)return[L+1,w];if(C<T){w=w.slice();var k=C-B,E=[N[0],N[1].slice(0,k)],S=[N[0],N[1].slice(k)];return w.splice(L,1,E,S),[L+1,w]}else B=T}}throw new Error("cursor_pos is out of bounds!")}function p(w,C){var B=x(w,C),L=B[1],N=B[0],T=L[N],k=L[N+1];if(T==null)return w;if(T[0]!==s)return w;if(k!=null&&T[1]+k[1]===k[1]+T[1])return L.splice(N,2,k,T),A(L,N,2);if(k!=null&&k[1].indexOf(T[1])===0){L.splice(N,2,[k[0],T[1]],[0,T[1]]);var E=k[1].slice(T[1].length);return E.length>0&&L.splice(N+2,0,[k[0],E]),A(L,N,3)}else return w}function v(w){for(var C=!1,B=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},L=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},N=2;N<w.length;N+=1)w[N-2][0]===s&&L(w[N-2][1])&&w[N-1][0]===i&&B(w[N-1][1])&&w[N][0]===o&&B(w[N][1])&&(C=!0,w[N-1][1]=w[N-2][1].slice(-1)+w[N-1][1],w[N][1]=w[N-2][1].slice(-1)+w[N][1],w[N-2][1]=w[N-2][1].slice(0,-1));if(!C)return w;for(var T=[],N=0;N<w.length;N+=1)w[N][1].length>0&&T.push(w[N]);return T}function A(w,C,B){for(var L=C+B-1;L>=0&&L>=C-1;L--)if(L+1<w.length){var N=w[L],T=w[L+1];N[0]===T[1]&&w.splice(L,2,[N[0],N[1]+T[1]])}return w}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)i.call(h,d)&&c.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c,h){var d=o?o+c:c,f=this._events[d];if(h)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var y=0,_=f.length,x=new Array(_);y<_;y++)x[y]=f[y].fn;return x},l.prototype.emit=function(c,h,d,f,y,_){var x=o?o+c:c;if(!this._events[x])return!1;var p=this._events[x],v=arguments.length,A,w;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,d),!0;case 4:return p.fn.call(p.context,h,d,f),!0;case 5:return p.fn.call(p.context,h,d,f,y),!0;case 6:return p.fn.call(p.context,h,d,f,y,_),!0}for(w=1,A=new Array(v-1);w<v;w++)A[w-1]=arguments[w];p.fn.apply(p.context,A)}else{var C=p.length,B;for(w=0;w<C;w++)switch(p[w].once&&this.removeListener(c,p[w].fn,void 0,!0),v){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,h);break;case 3:p[w].fn.call(p[w].context,h,d);break;case 4:p[w].fn.call(p[w].context,h,d,f);break;default:if(!A)for(B=1,A=new Array(v-1);B<v;B++)A[B-1]=arguments[B];p[w].fn.apply(p[w].context,A)}}return!0},l.prototype.on=function(c,h,d){var f=new a(h,d||this),y=o?o+c:c;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],f]:this._events[y].push(f):(this._events[y]=f,this._eventsCount++),this},l.prototype.once=function(c,h,d){var f=new a(h,d||this,!0),y=o?o+c:c;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],f]:this._events[y].push(f):(this._events[y]=f,this._eventsCount++),this},l.prototype.removeListener=function(c,h,d,f){var y=o?o+c:c;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[y],this;var _=this._events[y];if(_.fn)_.fn===h&&(!f||_.once)&&(!d||_.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[y]);else{for(var x=0,p=[],v=_.length;x<v;x++)(_[x].fn!==h||f&&!_[x].once||d&&_[x].context!==d)&&p.push(_[x]);p.length?this._events[y]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[y]}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=o?o+c:c,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},s=function(){function ye(pe,Te){var Ne=[],Se=!0,Fe=!1,We=void 0;try{for(var $e=pe[Symbol.iterator](),Ge;!(Se=(Ge=$e.next()).done)&&(Ne.push(Ge.value),!(Te&&Ne.length===Te));Se=!0);}catch(at){Fe=!0,We=at}finally{try{!Se&&$e.return&&$e.return()}finally{if(Fe)throw We}}return Ne}return function(pe,Te){if(Array.isArray(pe))return pe;if(Symbol.iterator in Object(pe))return ye(pe,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ye(pe,Te){for(var Ne=0;Ne<Te.length;Ne++){var Se=Te[Ne];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(pe,Se.key,Se)}}return function(pe,Te,Ne){return Te&&ye(pe.prototype,Te),Ne&&ye(pe,Ne),pe}}(),l=i(3),u=S(l),c=i(2),h=S(c),d=i(0),f=S(d),y=i(5),_=S(y),x=i(10),p=S(x),v=i(9),A=S(v),w=i(36),C=i(37),B=i(13),L=S(B),N=i(26),T=i(38),k=i(39),E=i(40);function S(ye){return ye&&ye.__esModule?ye:{default:ye}}function I(ye,pe,Te){return pe in ye?Object.defineProperty(ye,pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}):ye[pe]=Te,ye}function U(ye,pe){if(!(ye instanceof pe))throw new TypeError("Cannot call a class as a function")}function G(ye,pe){if(!ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:ye}function oe(ye,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);ye.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(ye,pe):ye.__proto__=pe)}var se=(0,p.default)("quill:clipboard"),te="__ql-matcher",Z=[[Node.TEXT_NODE,it],[Node.TEXT_NODE,Ue],["br",be],[Node.ELEMENT_NODE,Ue],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,qe],["li",Oe],["b",ae.bind(ae,"bold")],["i",ae.bind(ae,"italic")],["style",Le]],X=[w.AlignAttribute,T.DirectionAttribute].reduce(function(ye,pe){return ye[pe.keyName]=pe,ye},{}),z=[w.AlignStyle,C.BackgroundStyle,N.ColorStyle,T.DirectionStyle,k.FontStyle,E.SizeStyle].reduce(function(ye,pe){return ye[pe.keyName]=pe,ye},{}),R=function(ye){oe(pe,ye);function pe(Te,Ne){U(this,pe);var Se=G(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,Te,Ne));return Se.quill.root.addEventListener("paste",Se.onPaste.bind(Se)),Se.container=Se.quill.addContainer("ql-clipboard"),Se.container.setAttribute("contenteditable",!0),Se.container.setAttribute("tabindex",-1),Se.matchers=[],Z.concat(Se.options.matchers).forEach(function(Fe){var We=s(Fe,2),$e=We[0],Ge=We[1];!Ne.matchVisual&&Ge===re||Se.addMatcher($e,Ge)}),Se}return a(pe,[{key:"addMatcher",value:function(Ne,Se){this.matchers.push([Ne,Se])}},{key:"convert",value:function(Ne){if(typeof Ne=="string")return this.container.innerHTML=Ne.replace(/\>\r?\n +\</g,"><"),this.convert();var Se=this.quill.getFormat(this.quill.selection.savedRange.index);if(Se[L.default.blotName]){var Fe=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Fe,I({},L.default.blotName,Se[L.default.blotName]))}var We=this.prepareMatching(),$e=s(We,2),Ge=$e[0],at=$e[1],Ze=Q(this.container,Ge,at);return K(Ze,`
`)&&Ze.ops[Ze.ops.length-1].attributes==null&&(Ze=Ze.compose(new h.default().retain(Ze.length()-1).delete(1))),se.log("convert",this.container.innerHTML,Ze),this.container.innerHTML="",Ze}},{key:"dangerouslyPasteHTML",value:function(Ne,Se){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof Ne=="string")this.quill.setContents(this.convert(Ne),Se),this.quill.setSelection(0,_.default.sources.SILENT);else{var We=this.convert(Se);this.quill.updateContents(new h.default().retain(Ne).concat(We),Fe),this.quill.setSelection(Ne+We.length(),_.default.sources.SILENT)}}},{key:"onPaste",value:function(Ne){var Se=this;if(!(Ne.defaultPrevented||!this.quill.isEnabled())){var Fe=this.quill.getSelection(),We=new h.default().retain(Fe.index),$e=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_.default.sources.SILENT),setTimeout(function(){We=We.concat(Se.convert()).delete(Fe.length),Se.quill.updateContents(We,_.default.sources.USER),Se.quill.setSelection(We.length()-Fe.length,_.default.sources.SILENT),Se.quill.scrollingContainer.scrollTop=$e,Se.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ne=this,Se=[],Fe=[];return this.matchers.forEach(function(We){var $e=s(We,2),Ge=$e[0],at=$e[1];switch(Ge){case Node.TEXT_NODE:Fe.push(at);break;case Node.ELEMENT_NODE:Se.push(at);break;default:[].forEach.call(Ne.container.querySelectorAll(Ge),function(Ze){Ze[te]=Ze[te]||[],Ze[te].push(at)});break}}),[Se,Fe]}}]),pe}(A.default);R.DEFAULTS={matchers:[],matchVisual:!0};function F(ye,pe,Te){return(typeof pe>"u"?"undefined":o(pe))==="object"?Object.keys(pe).reduce(function(Ne,Se){return F(Ne,Se,pe[Se])},ye):ye.reduce(function(Ne,Se){return Se.attributes&&Se.attributes[pe]?Ne.push(Se):Ne.insert(Se.insert,(0,u.default)({},I({},pe,Te),Se.attributes))},new h.default)}function W(ye){if(ye.nodeType!==Node.ELEMENT_NODE)return{};var pe="__ql-computed-style";return ye[pe]||(ye[pe]=window.getComputedStyle(ye))}function K(ye,pe){for(var Te="",Ne=ye.ops.length-1;Ne>=0&&Te.length<pe.length;--Ne){var Se=ye.ops[Ne];if(typeof Se.insert!="string")break;Te=Se.insert+Te}return Te.slice(-1*pe.length)===pe}function q(ye){if(ye.childNodes.length===0)return!1;var pe=W(ye);return["block","list-item"].indexOf(pe.display)>-1}function Q(ye,pe,Te){return ye.nodeType===ye.TEXT_NODE?Te.reduce(function(Ne,Se){return Se(ye,Ne)},new h.default):ye.nodeType===ye.ELEMENT_NODE?[].reduce.call(ye.childNodes||[],function(Ne,Se){var Fe=Q(Se,pe,Te);return Se.nodeType===ye.ELEMENT_NODE&&(Fe=pe.reduce(function(We,$e){return $e(Se,We)},Fe),Fe=(Se[te]||[]).reduce(function(We,$e){return $e(Se,We)},Fe)),Ne.concat(Fe)},new h.default):new h.default}function ae(ye,pe,Te){return F(Te,ye,!0)}function fe(ye,pe){var Te=f.default.Attributor.Attribute.keys(ye),Ne=f.default.Attributor.Class.keys(ye),Se=f.default.Attributor.Style.keys(ye),Fe={};return Te.concat(Ne).concat(Se).forEach(function(We){var $e=f.default.query(We,f.default.Scope.ATTRIBUTE);$e!=null&&(Fe[$e.attrName]=$e.value(ye),Fe[$e.attrName])||($e=X[We],$e!=null&&($e.attrName===We||$e.keyName===We)&&(Fe[$e.attrName]=$e.value(ye)||void 0),$e=z[We],$e!=null&&($e.attrName===We||$e.keyName===We)&&($e=z[We],Fe[$e.attrName]=$e.value(ye)||void 0))}),Object.keys(Fe).length>0&&(pe=F(pe,Fe)),pe}function he(ye,pe){var Te=f.default.query(ye);if(Te==null)return pe;if(Te.prototype instanceof f.default.Embed){var Ne={},Se=Te.value(ye);Se!=null&&(Ne[Te.blotName]=Se,pe=new h.default().insert(Ne,Te.formats(ye)))}else typeof Te.formats=="function"&&(pe=F(pe,Te.blotName,Te.formats(ye)));return pe}function be(ye,pe){return K(pe,`
`)||pe.insert(`
`),pe}function Le(){return new h.default}function Oe(ye,pe){var Te=f.default.query(ye);if(Te==null||Te.blotName!=="list-item"||!K(pe,`
`))return pe;for(var Ne=-1,Se=ye.parentNode;!Se.classList.contains("ql-clipboard");)(f.default.query(Se)||{}).blotName==="list"&&(Ne+=1),Se=Se.parentNode;return Ne<=0?pe:pe.compose(new h.default().retain(pe.length()-1).retain(1,{indent:Ne}))}function Ue(ye,pe){return K(pe,`
`)||(q(ye)||pe.length()>0&&ye.nextSibling&&q(ye.nextSibling))&&pe.insert(`
`),pe}function re(ye,pe){if(q(ye)&&ye.nextElementSibling!=null&&!K(pe,`

`)){var Te=ye.offsetHeight+parseFloat(W(ye).marginTop)+parseFloat(W(ye).marginBottom);ye.nextElementSibling.offsetTop>ye.offsetTop+Te*1.5&&pe.insert(`
`)}return pe}function qe(ye,pe){var Te={},Ne=ye.style||{};return Ne.fontStyle&&W(ye).fontStyle==="italic"&&(Te.italic=!0),Ne.fontWeight&&(W(ye).fontWeight.startsWith("bold")||parseInt(W(ye).fontWeight)>=700)&&(Te.bold=!0),Object.keys(Te).length>0&&(pe=F(pe,Te)),parseFloat(Ne.textIndent||0)>0&&(pe=new h.default().insert("	").concat(pe)),pe}function it(ye,pe){var Te=ye.data;if(ye.parentNode.tagName==="O:P")return pe.insert(Te.trim());if(Te.trim().length===0&&ye.parentNode.classList.contains("ql-clipboard"))return pe;if(!W(ye.parentNode).whiteSpace.startsWith("pre")){var Ne=function(Fe,We){return We=We.replace(/[^\u00a0]/g,""),We.length<1&&Fe?" ":We};Te=Te.replace(/\r\n/g," ").replace(/\n/g," "),Te=Te.replace(/\s\s+/g,Ne.bind(Ne,!0)),(ye.previousSibling==null&&q(ye.parentNode)||ye.previousSibling!=null&&q(ye.previousSibling))&&(Te=Te.replace(/^\s+/,Ne.bind(Ne,!1))),(ye.nextSibling==null&&q(ye.parentNode)||ye.nextSibling!=null&&q(ye.nextSibling))&&(Te=Te.replace(/\s+$/,Ne.bind(Ne,!1)))}return pe.insert(Te)}r.default=R,r.matchAttributor=fe,r.matchBlot=he,r.matchNewline=Ue,r.matchSpacing=re,r.matchText=it},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(_,x){for(var p=0;p<x.length;p++){var v=x[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,x,p){return x&&y(_.prototype,x),p&&y(_,p),_}}(),s=function y(_,x,p){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,x);if(v===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:y(A,x,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){d(_,y);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"optimize",value:function(p){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function E(S,I){var U=[],G=!0,oe=!1,se=void 0;try{for(var te=S[Symbol.iterator](),Z;!(G=(Z=te.next()).done)&&(U.push(Z.value),!(I&&U.length===I));G=!0);}catch(X){oe=!0,se=X}finally{try{!G&&te.return&&te.return()}finally{if(oe)throw se}}return U}return function(S,I){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(S,I){for(var U=0;U<I.length;U++){var G=I[U];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(S,G.key,G)}}return function(S,I,U){return I&&E(S.prototype,I),U&&E(S,U),S}}(),a=i(2),l=p(a),u=i(0),c=p(u),h=i(5),d=p(h),f=i(10),y=p(f),_=i(9),x=p(_);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,S,I){return S in E?Object.defineProperty(E,S,{value:I,enumerable:!0,configurable:!0,writable:!0}):E[S]=I,E}function A(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function w(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function C(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var B=(0,y.default)("quill:toolbar"),L=function(E){C(S,E);function S(I,U){A(this,S);var G=w(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I,U));if(Array.isArray(G.options.container)){var oe=document.createElement("div");T(oe,G.options.container),I.container.parentNode.insertBefore(oe,I.container),G.container=oe}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var se;return se=B.error("Container required for toolbar",G.options),w(G,se)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(te){G.addHandler(te,G.options.handlers[te])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(te){G.attach(te)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(te,Z){te===d.default.events.SELECTION_CHANGE&&G.update(Z)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var te=G.quill.selection.getRange(),Z=o(te,1),X=Z[0];G.update(X)}),G}return s(S,[{key:"addHandler",value:function(U,G){this.handlers[U]=G}},{key:"attach",value:function(U){var G=this,oe=[].find.call(U.classList,function(te){return te.indexOf("ql-")===0});if(oe){if(oe=oe.slice(3),U.tagName==="BUTTON"&&U.setAttribute("type","button"),this.handlers[oe]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[oe]==null){B.warn("ignoring attaching to disabled format",oe,U);return}if(c.default.query(oe)==null){B.warn("ignoring attaching to nonexistent format",oe,U);return}}var se=U.tagName==="SELECT"?"change":"click";U.addEventListener(se,function(te){var Z=void 0;if(U.tagName==="SELECT"){if(U.selectedIndex<0)return;var X=U.options[U.selectedIndex];X.hasAttribute("selected")?Z=!1:Z=X.value||!1}else U.classList.contains("ql-active")?Z=!1:Z=U.value||!U.hasAttribute("value"),te.preventDefault();G.quill.focus();var z=G.quill.selection.getRange(),R=o(z,1),F=R[0];if(G.handlers[oe]!=null)G.handlers[oe].call(G,Z);else if(c.default.query(oe).prototype instanceof c.default.Embed){if(Z=prompt("Enter "+oe),!Z)return;G.quill.updateContents(new l.default().retain(F.index).delete(F.length).insert(v({},oe,Z)),d.default.sources.USER)}else G.quill.format(oe,Z,d.default.sources.USER);G.update(F)}),this.controls.push([oe,U])}}},{key:"update",value:function(U){var G=U==null?{}:this.quill.getFormat(U);this.controls.forEach(function(oe){var se=o(oe,2),te=se[0],Z=se[1];if(Z.tagName==="SELECT"){var X=void 0;if(U==null)X=null;else if(G[te]==null)X=Z.querySelector("option[selected]");else if(!Array.isArray(G[te])){var z=G[te];typeof z=="string"&&(z=z.replace(/\"/g,'\\"')),X=Z.querySelector('option[value="'+z+'"]')}X==null?(Z.value="",Z.selectedIndex=-1):X.selected=!0}else if(U==null)Z.classList.remove("ql-active");else if(Z.hasAttribute("value")){var R=G[te]===Z.getAttribute("value")||G[te]!=null&&G[te].toString()===Z.getAttribute("value")||G[te]==null&&!Z.getAttribute("value");Z.classList.toggle("ql-active",R)}else Z.classList.toggle("ql-active",G[te]!=null)})}}]),S}(x.default);L.DEFAULTS={};function N(E,S,I){var U=document.createElement("button");U.setAttribute("type","button"),U.classList.add("ql-"+S),I!=null&&(U.value=I),E.appendChild(U)}function T(E,S){Array.isArray(S[0])||(S=[S]),S.forEach(function(I){var U=document.createElement("span");U.classList.add("ql-formats"),I.forEach(function(G){if(typeof G=="string")N(U,G);else{var oe=Object.keys(G)[0],se=G[oe];Array.isArray(se)?k(U,oe,se):N(U,oe,se)}}),E.appendChild(U)})}function k(E,S,I){var U=document.createElement("select");U.classList.add("ql-"+S),I.forEach(function(G){var oe=document.createElement("option");G!==!1?oe.setAttribute("value",G):oe.setAttribute("selected","selected"),U.appendChild(oe)}),E.appendChild(U)}L.DEFAULTS={container:null,handlers:{clean:function(){var S=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var U=this.quill.getFormat();Object.keys(U).forEach(function(G){c.default.query(G,c.default.Scope.INLINE)!=null&&S.quill.format(G,!1)})}else this.quill.removeFormat(I,d.default.sources.USER)},direction:function(S){var I=this.quill.getFormat().align;S==="rtl"&&I==null?this.quill.format("align","right",d.default.sources.USER):!S&&I==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",S,d.default.sources.USER)},indent:function(S){var I=this.quill.getSelection(),U=this.quill.getFormat(I),G=parseInt(U.indent||0);if(S==="+1"||S==="-1"){var oe=S==="+1"?1:-1;U.direction==="rtl"&&(oe*=-1),this.quill.format("indent",G+oe,d.default.sources.USER)}},link:function(S){S===!0&&(S=prompt("Enter link URL:")),this.quill.format("link",S,d.default.sources.USER)},list:function(S){var I=this.quill.getSelection(),U=this.quill.getFormat(I);S==="check"?U.list==="checked"||U.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",S,d.default.sources.USER)}}},r.default=L,r.addControls=T},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(_,x){for(var p=0;p<x.length;p++){var v=x[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,x,p){return x&&y(_.prototype,x),p&&y(_,p),_}}(),s=function y(_,x,p){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,x);if(v===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:y(A,x,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){d(_,y);function _(x,p){c(this,_);var v=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,x));return v.label.innerHTML=p,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(A){A.classList.add("ql-primary")}),v}return o(_,[{key:"buildItem",value:function(p){var v=s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"buildItem",this).call(this,p);return v.style.backgroundColor=p.getAttribute("value")||"",v}},{key:"selectItem",value:function(p,v){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,p,v);var A=this.label.querySelector(".ql-color-label"),w=p&&p.getAttribute("data-value")||"";A&&(A.tagName==="line"?A.style.stroke=w:A.style.fill=w)}}]),_}(l.default);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(_,x){for(var p=0;p<x.length;p++){var v=x[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,x,p){return x&&y(_.prototype,x),p&&y(_,p),_}}(),s=function y(_,x,p){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,x);if(v===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:y(A,x,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){d(_,y);function _(x,p){c(this,_);var v=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,x));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(A){A.innerHTML=p[A.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return o(_,[{key:"selectItem",value:function(p,v){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,p,v),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),_}(l.default);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var h=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var h=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),_=0;if(y.right>f.right&&(_=f.right-y.right,this.root.style.left=h+_+"px"),y.left<f.left&&(_=f.left-y.left,this.root.style.left=h+_+"px"),y.bottom>f.bottom){var x=y.bottom-y.top,p=c.bottom-c.top+x;this.root.style.top=d-p+"px",this.root.classList.add("ql-flip")}return _}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function k(E,S){var I=[],U=!0,G=!1,oe=void 0;try{for(var se=E[Symbol.iterator](),te;!(U=(te=se.next()).done)&&(I.push(te.value),!(S&&I.length===S));U=!0);}catch(Z){G=!0,oe=Z}finally{try{!U&&se.return&&se.return()}finally{if(G)throw oe}}return I}return function(E,S){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function k(E,S,I){E===null&&(E=Function.prototype);var U=Object.getOwnPropertyDescriptor(E,S);if(U===void 0){var G=Object.getPrototypeOf(E);return G===null?void 0:k(G,S,I)}else{if("value"in U)return U.value;var oe=U.get;return oe===void 0?void 0:oe.call(I)}},a=function(){function k(E,S){for(var I=0;I<S.length;I++){var U=S[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}return function(E,S,I){return S&&k(E.prototype,S),I&&k(E,I),E}}(),l=i(3),u=A(l),c=i(8),h=A(c),d=i(43),f=A(d),y=i(27),_=A(y),x=i(15),p=i(41),v=A(p);function A(k){return k&&k.__esModule?k:{default:k}}function w(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function C(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function B(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var L=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(k){B(E,k);function E(S,I){w(this,E),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=L);var U=C(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,I));return U.quill.container.classList.add("ql-snow"),U}return a(E,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),v.default),this.tooltip=new T(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(U,G){I.handlers.link.call(I,!G.format.link)})}}]),E}(f.default);N.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var S=this.quill.getSelection();if(S==null||S.length==0)return;var I=this.quill.getText(S);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var U=this.quill.theme.tooltip;U.edit("link",I)}else this.quill.format("link",!1)}}}}});var T=function(k){B(E,k);function E(S,I){w(this,E);var U=C(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,I));return U.preview=U.root.querySelector("a.ql-preview"),U}return a(E,[{key:"listen",value:function(){var I=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(U){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),U.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(U){if(I.linkRange!=null){var G=I.linkRange;I.restoreFocus(),I.quill.formatText(G,"link",!1,h.default.sources.USER),delete I.linkRange}U.preventDefault(),I.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(U,G,oe){if(U!=null){if(U.length===0&&oe===h.default.sources.USER){var se=I.quill.scroll.descendant(_.default,U.index),te=o(se,2),Z=te[0],X=te[1];if(Z!=null){I.linkRange=new x.Range(U.index-X,Z.length());var z=_.default.formats(Z.domNode);I.preview.textContent=z,I.preview.setAttribute("href",z),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(d.BaseTooltip);T.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=Se(o),a=i(36),l=i(38),u=i(64),c=i(65),h=Se(c),d=i(66),f=Se(d),y=i(67),_=Se(y),x=i(37),p=i(26),v=i(39),A=i(40),w=i(56),C=Se(w),B=i(68),L=Se(B),N=i(27),T=Se(N),k=i(69),E=Se(k),S=i(70),I=Se(S),U=i(71),G=Se(U),oe=i(72),se=Se(oe),te=i(73),Z=Se(te),X=i(13),z=Se(X),R=i(74),F=Se(R),W=i(75),K=Se(W),q=i(57),Q=Se(q),ae=i(41),fe=Se(ae),he=i(28),be=Se(he),Le=i(59),Oe=Se(Le),Ue=i(60),re=Se(Ue),qe=i(61),it=Se(qe),ye=i(108),pe=Se(ye),Te=i(62),Ne=Se(Te);function Se(Fe){return Fe&&Fe.__esModule?Fe:{default:Fe}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":x.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":A.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":x.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":A.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":x.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":v.FontClass,"formats/size":A.SizeClass,"formats/blockquote":h.default,"formats/code-block":z.default,"formats/header":f.default,"formats/list":_.default,"formats/bold":C.default,"formats/code":X.Code,"formats/italic":L.default,"formats/link":T.default,"formats/script":E.default,"formats/strike":I.default,"formats/underline":G.default,"formats/image":se.default,"formats/video":Z.default,"formats/list/item":y.ListItem,"modules/formula":F.default,"modules/syntax":K.default,"modules/toolbar":Q.default,"themes/bubble":pe.default,"themes/snow":Ne.default,"ui/icons":fe.default,"ui/picker":be.default,"ui/icon-picker":re.default,"ui/color-picker":Oe.default,"ui/tooltip":it.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function _(x,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,p,v){return p&&_(x.prototype,p),v&&_(x,v),x}}(),s=function _(x,p,v){x===null&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,p);if(A===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:_(w,p,v)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(v)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function h(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function d(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var f=function(_){d(x,_);function x(){return c(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"add",value:function(v,A){if(A==="+1"||A==="-1"){var w=this.value(v)||0;A=A==="+1"?w+1:w-1}return A===0?(this.remove(v),!0):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"add",this).call(this,v,A)}},{key:"canAdd",value:function(v,A){return s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,v,A)||s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,v,parseInt(A))}},{key:"value",value:function(v){return parseInt(s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,v))||void 0}}]),x}(l.default.Attributor.Class),y=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(y,_){for(var x=0;x<_.length;x++){var p=_[x];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,x){return _&&f(y.prototype,_),x&&f(y,x),y}}(),s=i(4),a=l(s);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function c(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function h(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var d=function(f){h(y,f);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"formats",value:function(x){return this.tagName.indexOf(x.tagName)+1}}]),y}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function w(C,B){for(var L=0;L<B.length;L++){var N=B[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(C,N.key,N)}}return function(C,B,L){return B&&w(C.prototype,B),L&&w(C,L),C}}(),s=function w(C,B,L){C===null&&(C=Function.prototype);var N=Object.getOwnPropertyDescriptor(C,B);if(N===void 0){var T=Object.getPrototypeOf(C);return T===null?void 0:w(T,B,L)}else{if("value"in N)return N.value;var k=N.get;return k===void 0?void 0:k.call(L)}},a=i(0),l=f(a),u=i(4),c=f(u),h=i(25),d=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function y(w,C,B){return C in w?Object.defineProperty(w,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):w[C]=B,w}function _(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function x(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function p(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var v=function(w){p(C,w);function C(){return _(this,C),x(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"format",value:function(L,N){L===A.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,L,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(L,N){return this.parent.isolate(this.offset(this.parent),this.length()),L===this.parent.statics.blotName?(this.parent.replaceWith(L,N),this):(this.parent.unwrap(),s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,L,N))}}],[{key:"formats",value:function(L){return L.tagName===this.tagName?void 0:s(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,L)}}]),C}(c.default);v.blotName="list-item",v.tagName="LI";var A=function(w){p(C,w),o(C,null,[{key:"create",value:function(L){var N=L==="ordered"?"OL":"UL",T=s(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,N);return(L==="checked"||L==="unchecked")&&T.setAttribute("data-checked",L==="checked"),T}},{key:"formats",value:function(L){if(L.tagName==="OL")return"ordered";if(L.tagName==="UL")return L.hasAttribute("data-checked")?L.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(B){_(this,C);var L=x(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,B)),N=function(k){if(k.target.parentNode===B){var E=L.statics.formats(B),S=l.default.find(k.target);E==="checked"?S.format("list","unchecked"):E==="unchecked"&&S.format("list","checked")}};return B.addEventListener("touchstart",N),B.addEventListener("mousedown",N),L}return o(C,[{key:"format",value:function(L,N){this.children.length>0&&this.children.tail.format(L,N)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(L,N){if(L instanceof v)s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,L,N);else{var T=N==null?this.length():N.offset(this),k=this.split(T);k.parent.insertBefore(L,k)}}},{key:"optimize",value:function(L){s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,L);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(L){if(L.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);L.moveChildren(N),this.appendChild(N)}s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,L)}}]),C}(d.default);A.blotName="list",A.scope=l.default.Scope.BLOCK_BLOT,A.tagName=["OL","UL"],A.defaultChild="list-item",A.allowedChildren=[v],r.ListItem=v,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(_,x){for(var p=0;p<x.length;p++){var v=x[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,x,p){return x&&y(_.prototype,x),p&&y(_,p),_}}(),s=function y(_,x,p){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,x);if(v===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:y(A,x,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var f=function(y){d(_,y);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),_}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function x(p,v){for(var A=0;A<v.length;A++){var w=v[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,A){return v&&x(p.prototype,v),A&&x(p,A),p}}(),s=function x(p,v,A){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:x(C,v,A)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(A)}},a=i(0),l=c(a),u=i(27);function c(x){return x&&x.__esModule?x:{default:x}}function h(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function d(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function f(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var y=["alt","height","width"],_=function(x){f(p,x);function p(){return h(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(A,w){y.indexOf(A)>-1?w?this.domNode.setAttribute(A,w):this.domNode.removeAttribute(A):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,A,w)}}],[{key:"create",value:function(A){var w=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,A);return typeof A=="string"&&w.setAttribute("src",this.sanitize(A)),w}},{key:"formats",value:function(A){return y.reduce(function(w,C){return A.hasAttribute(C)&&(w[C]=A.getAttribute(C)),w},{})}},{key:"match",value:function(A){return/\.(jpe?g|gif|png)$/.test(A)||/^data:image\/.+;base64/.test(A)}},{key:"sanitize",value:function(A){return(0,u.sanitize)(A,["http","https","data"])?A:"//:0"}},{key:"value",value:function(A){return A.getAttribute("src")}}]),p}(l.default.Embed);_.blotName="image",_.tagName="IMG",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function x(p,v){for(var A=0;A<v.length;A++){var w=v[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,A){return v&&x(p.prototype,v),A&&x(p,A),p}}(),s=function x(p,v,A){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:x(C,v,A)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(A)}},a=i(4),l=i(27),u=c(l);function c(x){return x&&x.__esModule?x:{default:x}}function h(x,p){if(!(x instanceof p))throw new TypeError("Cannot call a class as a function")}function d(x,p){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:x}function f(x,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);x.prototype=Object.create(p&&p.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(x,p):x.__proto__=p)}var y=["height","width"],_=function(x){f(p,x);function p(){return h(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(A,w){y.indexOf(A)>-1?w?this.domNode.setAttribute(A,w):this.domNode.removeAttribute(A):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,A,w)}}],[{key:"create",value:function(A){var w=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,A);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(A)),w}},{key:"formats",value:function(A){return y.reduce(function(w,C){return A.hasAttribute(C)&&(w[C]=A.getAttribute(C)),w},{})}},{key:"sanitize",value:function(A){return u.default.sanitize(A)}},{key:"value",value:function(A){return A.getAttribute("src")}}]),p}(a.BlockEmbed);_.blotName="video",_.className="ql-video",_.tagName="IFRAME",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function A(w,C){for(var B=0;B<C.length;B++){var L=C[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}return function(w,C,B){return C&&A(w.prototype,C),B&&A(w,B),w}}(),s=function A(w,C,B){w===null&&(w=Function.prototype);var L=Object.getOwnPropertyDescriptor(w,C);if(L===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:A(N,C,B)}else{if("value"in L)return L.value;var T=L.get;return T===void 0?void 0:T.call(B)}},a=i(35),l=f(a),u=i(5),c=f(u),h=i(9),d=f(h);function f(A){return A&&A.__esModule?A:{default:A}}function y(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function _(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function x(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var p=function(A){x(w,A);function w(){return y(this,w),_(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"create",value:function(B){var L=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,B);return typeof B=="string"&&(window.katex.render(B,L,{throwOnError:!1,errorColor:"#f00"}),L.setAttribute("data-value",B)),L}},{key:"value",value:function(B){return B.getAttribute("data-value")}}]),w}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var v=function(A){x(w,A),o(w,null,[{key:"register",value:function(){c.default.register(p,!0)}}]);function w(){y(this,w);var C=_(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return w}(d.default);r.FormulaBlot=p,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function B(L,N){for(var T=0;T<N.length;T++){var k=N[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(L,k.key,k)}}return function(L,N,T){return N&&B(L.prototype,N),T&&B(L,T),L}}(),s=function B(L,N,T){L===null&&(L=Function.prototype);var k=Object.getOwnPropertyDescriptor(L,N);if(k===void 0){var E=Object.getPrototypeOf(L);return E===null?void 0:B(E,N,T)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(T)}},a=i(0),l=_(a),u=i(5),c=_(u),h=i(9),d=_(h),f=i(13),y=_(f);function _(B){return B&&B.__esModule?B:{default:B}}function x(B,L){if(!(B instanceof L))throw new TypeError("Cannot call a class as a function")}function p(B,L){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:B}function v(B,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);B.prototype=Object.create(L&&L.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(B,L):B.__proto__=L)}var A=function(B){v(L,B);function L(){return x(this,L),p(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return o(L,[{key:"replaceWith",value:function(T){this.domNode.textContent=this.domNode.textContent,this.attach(),s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replaceWith",this).call(this,T)}},{key:"highlight",value:function(T){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=T(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),L}(y.default);A.className="ql-syntax";var w=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),C=function(B){v(L,B),o(L,null,[{key:"register",value:function(){c.default.register(w,!0),c.default.register(A,!0)}}]);function L(N,T){x(this,L);var k=p(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N,T));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return k.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){k.highlight(),E=null},k.options.interval)}),k.highlight(),k}return o(L,[{key:"highlight",value:function(){var T=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(A).forEach(function(E){E.highlight(T.options.highlight)}),this.quill.update(c.default.sources.SILENT),k!=null&&this.quill.setSelection(k,c.default.sources.SILENT)}}}]),L}(d.default);C.DEFAULTS={highlight:function(){return window.hljs==null?null:function(B){var L=window.hljs.highlightAuto(B);return L.value}}(),interval:1e3},r.CodeBlock=A,r.CodeToken=w,r.default=C},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function L(N,T,k){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,T);if(E===void 0){var S=Object.getPrototypeOf(N);return S===null?void 0:L(S,T,k)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(k)}},s=function(){function L(N,T){for(var k=0;k<T.length;k++){var E=T[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,T,k){return T&&L(N.prototype,T),k&&L(N,k),N}}(),a=i(3),l=x(a),u=i(8),c=x(u),h=i(43),d=x(h),f=i(15),y=i(41),_=x(y);function x(L){return L&&L.__esModule?L:{default:L}}function p(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")}function v(L,N){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:L}function A(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=function(L){A(N,L);function N(T,k){p(this,N),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=w);var E=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T,k));return E.quill.container.classList.add("ql-bubble"),E}return s(N,[{key:"extendToolbar",value:function(k){this.tooltip=new B(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),_.default)}}]),N}(d.default);C.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var B=function(L){A(N,L);function N(T,k){p(this,N);var E=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T,k));return E.quill.on(c.default.events.EDITOR_CHANGE,function(S,I,U,G){if(S===c.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&G===c.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var oe=E.quill.getLines(I.index,I.length);if(oe.length===1)E.position(E.quill.getBounds(I));else{var se=oe[oe.length-1],te=E.quill.getIndex(se),Z=Math.min(se.length()-1,I.index+I.length-te),X=E.quill.getBounds(new f.Range(te,Z));E.position(X)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return s(N,[{key:"listen",value:function(){var k=this;o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var E=k.quill.getSelection();E!=null&&k.position(k.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var E=o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,k),S=this.root.querySelector(".ql-tooltip-arrow");if(S.style.marginLeft="",E===0)return E;S.style.marginLeft=-1*E-S.offsetWidth/2+"px"}}]),N}(h.BaseTooltip);B.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=B,r.default=C},function(n,r,i){n.exports=i(63)}]).default})})(lA);var AR=lA.exports,SR=Vi&&Vi.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zp=Vi&&Vi.__assign||function(){return zp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zp.apply(this,arguments)},NR=Vi&&Vi.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Mg=Vi&&Vi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ns=Mg(tt),TR=Mg(GE),_f=Mg(ER),$_=Mg(AR),kR=function(t){SR(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,c,h,d;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((d=(h=r).onEditorChangeSelection)===null||d===void 0||d.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(ns.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ns.default.Children.count(n.children)){var i=ns.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),NR(this.cleanProps,this.dirtyProps).some(function(l){return!_f.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!_f.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),W_(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new $_.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?_f.default(n.ops,r.ops):_f.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),W_(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=TR.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return ns.default.Children.count(i)?ns.default.cloneElement(ns.default.Children.only(i),a):o?ns.default.createElement("pre",zp({},a)):ns.default.createElement("div",zp({},a))},e.prototype.render=function(){var n;return ns.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,c;if(this.editor){var h=this.getEditorSelection(),d=!h&&n,f=h&&!n;_f.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):f&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=$_.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(ns.default.Component);function W_(t){Promise.resolve().then(t)}var IR=kR;const PR=Rx(IR);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Kt=(t,e)=>{const n=tt.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>tt.createElement("svg",{ref:c,...LR,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${CR(t)}`,a].join(" "),...u},[...e.map(([h,d])=>tt.createElement(h,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Kt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Kt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Kt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Kt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Kt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Kt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Kt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Kt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Kt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Kt("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Kt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Kt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Kt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Kt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Kt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Kt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Kt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Kt("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Kt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Kt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Kt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Kt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Kt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Kt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Kt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Kt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new zR;const d=o<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HR=function(t){const e=yA(t);return _A.encodeByteArray(e,!0)},Gp=function(t){return HR(t).replace(/\./g,"")},wA=function(t){try{return _A.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=()=>$R().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof K_>"u")return;const t=K_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wA(t[1]);return e&&JSON.parse(e)},Bg=()=>{try{return WR()||GR()||KR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bA=t=>{var e,n;return(n=(e=Bg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YR=t=>{const e=bA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xA=()=>{var t;return(t=Bg())===null||t===void 0?void 0:t.config},EA=t=>{var e;return(e=Bg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gp(JSON.stringify(n)),Gp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function ZR(){var t;const e=(t=Bg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r7(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i7(){return!ZR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o7(){try{return typeof indexedDB=="object"}catch{return!1}}function s7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="FirebaseError";class ia extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a7,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rh.prototype.create)}}class Rh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?l7(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ia(i,a,r)}}function l7(t,e){return t.replace(u7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u7=/\{\$([^}]+)}/g;function c7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Y_(o)&&Y_(s)){if(!Kp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function kf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function f7(t,e){const n=new h7(t,e);return n.subscribe.bind(n)}class h7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=n0),i.error===void 0&&(i.error=n0),i.complete===void 0&&(i.complete=n0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function n0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return t&&t._delegate?t._delegate:t}class Xl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m7(e))try{this.getOrInitializeService({instanceIdentifier:Cl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cl){return this.instances.has(e)}getOptions(e=Cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cl){return this.component?this.component.multipleInstances?e:Cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g7(t){return t===Cl?void 0:t}function m7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(zt||(zt={}));const y7={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},_7=zt.INFO,w7={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},b7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=w7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=_7,this._logHandler=b7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const x7=(t,e)=>e.some(n=>t instanceof n);let Q_,X_;function E7(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A7(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AA=new WeakMap,F1=new WeakMap,SA=new WeakMap,r0=new WeakMap,Sy=new WeakMap;function S7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&AA.set(n,t)}).catch(()=>{}),Sy.set(e,t),e}function N7(t){if(F1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});F1.set(t,e)}let B1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return F1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T7(t){B1=t(B1)}function k7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(i0(this),e,...n);return SA.set(r,e.sort?e.sort():[e]),Xa(r)}:A7().includes(t)?function(...e){return t.apply(i0(this),e),Xa(AA.get(this))}:function(...e){return Xa(t.apply(i0(this),e))}}function I7(t){return typeof t=="function"?k7(t):(t instanceof IDBTransaction&&N7(t),x7(t,E7())?new Proxy(t,B1):t)}function Xa(t){if(t instanceof IDBRequest)return S7(t);if(r0.has(t))return r0.get(t);const e=I7(t);return e!==t&&(r0.set(t,e),Sy.set(e,t)),e}const i0=t=>Sy.get(t);function P7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Xa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Xa(s.result),l.oldVersion,l.newVersion,Xa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const L7=["get","getKey","getAll","getAllKeys","count"],C7=["put","add","delete","clear"],o0=new Map;function J_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o0.get(e))return o0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=C7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L7.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return o0.set(e,o),o}T7(t=>({...t,get:(e,n,r)=>J_(e,n)||t.get(e,n,r),has:(e,n)=>!!J_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U1="@firebase/app",Z_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Ay("@firebase/app"),D7="@firebase/app-compat",j7="@firebase/analytics-compat",M7="@firebase/analytics",F7="@firebase/app-check-compat",B7="@firebase/app-check",U7="@firebase/auth",V7="@firebase/auth-compat",q7="@firebase/database",z7="@firebase/data-connect",H7="@firebase/database-compat",$7="@firebase/functions",W7="@firebase/functions-compat",G7="@firebase/installations",K7="@firebase/installations-compat",Y7="@firebase/messaging",Q7="@firebase/messaging-compat",X7="@firebase/performance",J7="@firebase/performance-compat",Z7="@firebase/remote-config",eD="@firebase/remote-config-compat",tD="@firebase/storage",nD="@firebase/storage-compat",rD="@firebase/firestore",iD="@firebase/vertexai-preview",oD="@firebase/firestore-compat",sD="firebase",aD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="[DEFAULT]",lD={[U1]:"fire-core",[D7]:"fire-core-compat",[M7]:"fire-analytics",[j7]:"fire-analytics-compat",[B7]:"fire-app-check",[F7]:"fire-app-check-compat",[U7]:"fire-auth",[V7]:"fire-auth-compat",[q7]:"fire-rtdb",[z7]:"fire-data-connect",[H7]:"fire-rtdb-compat",[$7]:"fire-fn",[W7]:"fire-fn-compat",[G7]:"fire-iid",[K7]:"fire-iid-compat",[Y7]:"fire-fcm",[Q7]:"fire-fcm-compat",[X7]:"fire-perf",[J7]:"fire-perf-compat",[Z7]:"fire-rc",[eD]:"fire-rc-compat",[tD]:"fire-gcs",[nD]:"fire-gcs-compat",[rD]:"fire-fst",[oD]:"fire-fst-compat",[iD]:"fire-vertex","fire-js":"fire-js",[sD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new Map,uD=new Map,q1=new Map;function ew(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gc(t){const e=t.name;if(q1.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;q1.set(e,t);for(const n of Yp.values())ew(n,t);for(const n of uD.values())ew(n,t);return!0}function Ny(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function as(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new Rh("app","Firebase",cD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=aD;function NA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:V1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=xA()),!n)throw Ja.create("no-options");const o=Yp.get(i);if(o){if(Kp(n,o.options)&&Kp(r,o.config))return o;throw Ja.create("duplicate-app",{appName:i})}const s=new v7(i);for(const l of q1.values())s.addComponent(l);const a=new fD(n,r,s);return Yp.set(i,a),a}function TA(t=V1){const e=Yp.get(t);if(!e&&t===V1&&xA())return NA();if(!e)throw Ja.create("no-app",{appName:t});return e}function Za(t,e,n){var r;let i=(r=lD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(a.join(" "));return}gc(new Xl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="firebase-heartbeat-database",dD=1,gh="firebase-heartbeat-store";let s0=null;function kA(){return s0||(s0=P7(hD,dD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),s0}async function pD(t){try{const n=(await kA()).transaction(gh),r=await n.objectStore(gh).get(IA(t));return await n.done,r}catch(e){if(e instanceof ia)Ks.warn(e.message);else{const n=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(n.message)}}}async function tw(t,e){try{const r=(await kA()).transaction(gh,"readwrite");await r.objectStore(gh).put(e,IA(t)),await r.done}catch(n){if(n instanceof ia)Ks.warn(n.message);else{const r=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(r.message)}}}function IA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1024,mD=30*24*60*60*1e3;class vD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _D(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=mD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nw(),{heartbeatsToSend:r,unsentEntries:i}=yD(this._heartbeatsCache.heartbeats),o=Gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ks.warn(n),""}}}function nw(){return new Date().toISOString().substring(0,10)}function yD(t,e=gD){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _D{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o7()?s7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rw(t){return Gp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){gc(new Xl("platform-logger",e=>new O7(e),"PRIVATE")),gc(new Xl("heartbeat",e=>new vD(e),"PRIVATE")),Za(U1,Z_,t),Za(U1,Z_,"esm2017"),Za("fire-js","")}wD("");var bD="firebase",xD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(bD,xD,"app");function Ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=PA,LA=new Rh("auth","Firebase",PA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new Ay("@firebase/auth");function AD(t,...e){Qp.logLevel<=zt.WARN&&Qp.warn(`Auth (${Dc}): ${t}`,...e)}function tp(t,...e){Qp.logLevel<=zt.ERROR&&Qp.error(`Auth (${Dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t,...e){throw Iy(t,...e)}function Do(t,...e){return Iy(t,...e)}function ky(t,e,n){const r=Object.assign(Object.assign({},ED()),{[e]:n});return new Rh("auth","Firebase",r).create(e,{appName:t.name})}function el(t){return ky(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yo(t,"argument-error"),ky(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LA.create(t,...e)}function _t(t,e,...n){if(!t)throw Iy(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tp(e),new Error(e)}function Ys(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ND(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ND()||t7()||"connection"in navigator)?navigator.onLine:!0}function kD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=JR()||n7()}get(){return TD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new jh(3e4,6e4);function lu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oa(t,e,n,r,i={}){return OA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Dh(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return e7()||(u.referrerPolicy="no-referrer"),CA.fetch()(RA(t,t.config.apiHost,n,a),u)})}async function OA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ID),e);try{const i=new CD(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Id(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Id(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ky(t,c,u);yo(t,c)}}catch(i){if(i instanceof ia)throw i;yo(t,"network-request-failed",{message:String(i)})}}async function Ug(t,e,n,r,i={}){const o=await oa(t,e,n,r,i);return"mfaPendingCredential"in o&&yo(t,"multi-factor-auth-required",{_serverResponse:o}),o}function RA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Py(t.config,i):`${t.config.apiScheme}://${i}`}function LD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Do(this.auth,"network-request-failed")),PD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Do(t,e,r);return i.customData._tokenResponse=n,i}function ow(t){return t!==void 0&&t.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function RD(t,e){return oa(t,"GET","/v2/recaptchaConfig",lu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return oa(t,"POST","/v1/accounts:delete",e)}async function DA(t,e){return oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jD(t,e=!1){const n=ar(t),r=await n.getIdToken(e),i=Ly(r);_t(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:zf(a0(i.auth_time)),issuedAtTime:zf(a0(i.iat)),expirationTime:zf(a0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function a0(t){return Number(t)*1e3}function Ly(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=wA(n);return i?JSON.parse(i):(tp("Failed to decode base64 JWT payload"),null)}catch(i){return tp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sw(t){const e=Ly(t);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ia&&MD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zf(this.lastLoginAt),this.creationTime=zf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await mc(t,DA(n,{idToken:r}));_t(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jA(o.providerUserInfo):[],a=UD(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new H1(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function BD(t){const e=ar(t);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jA(t){return t.map(e=>{var{providerId:n}=e,r=Ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){const n=await OA(t,{},async()=>{const r=Dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=RA(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CA.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qD(t,e){return oa(t,"POST","/v2/accounts:revokeToken",lu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const n=sw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await VD(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Zu;return r&&(_t(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_t(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_t(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zu,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){_t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new H1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jD(this,e)}reload(){return BD(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(el(this.auth));const e=await this.getIdToken();return await mc(this,DD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:w,isAnonymous:C,providerData:B,stsTokenManager:L}=n;_t(A&&L,e,"internal-error");const N=Zu.fromJSON(this.name,L);_t(typeof A=="string",e,"internal-error"),Ia(h,e.name),Ia(d,e.name),_t(typeof w=="boolean",e,"internal-error"),_t(typeof C=="boolean",e,"internal-error"),Ia(f,e.name),Ia(y,e.name),Ia(_,e.name),Ia(x,e.name),Ia(p,e.name),Ia(v,e.name);const T=new Bs({uid:A,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:C,photoURL:y,phoneNumber:f,tenantId:_,stsTokenManager:N,createdAt:p,lastLoginAt:v});return B&&Array.isArray(B)&&(T.providerData=B.map(k=>Object.assign({},k))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zu;i.updateFromServerResponse(n);const o=new Bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_t(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Zu;a.updateFromIdToken(r);const l=new Bs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new H1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map;function Us(t){Ys(t instanceof Function,"Expected a class definition");let e=aw.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MA.type="NONE";const lw=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=np(this.userKey,i.apiKey,o),this.fullPersistenceKey=np("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(Us(lw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Us(lw);const s=np(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const h=Bs._fromJSON(e,c);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ec(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ec(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zA(e))return"Blackberry";if(HA(e))return"Webos";if(BA(e))return"Safari";if((e.includes("chrome/")||UA(e))&&!e.includes("edge/"))return"Chrome";if(qA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FA(t=ti()){return/firefox\//i.test(t)}function BA(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UA(t=ti()){return/crios\//i.test(t)}function VA(t=ti()){return/iemobile/i.test(t)}function qA(t=ti()){return/android/i.test(t)}function zA(t=ti()){return/blackberry/i.test(t)}function HA(t=ti()){return/webos/i.test(t)}function Cy(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zD(t=ti()){var e;return Cy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HD(){return r7()&&document.documentMode===10}function $A(t=ti()){return Cy(t)||qA(t)||HA(t)||zA(t)||/windows phone/i.test(t)||VA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e=[]){let n;switch(t){case"Browser":n=uw(ti());break;case"Worker":n=`${uw(ti())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e={}){return oa(t,"GET","/v2/passwordPolicy",lu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=6;class KD{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:GD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cw(this),this.idTokenSubscription=new cw(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DA(this,{idToken:e}),r=await Bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(as(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(as(this.app))return Promise.reject(el(this));const n=e?ar(e):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return as(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WD(this),n=new KD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Us(e)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[Us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uu(t){return ar(t)}class cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=f7(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(t){Vg=t}function GA(t){return Vg.loadJS(t)}function XD(){return Vg.recaptchaEnterpriseScript}function JD(){return Vg.gapiScript}function ZD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const e9="recaptcha-enterprise",t9="NO_RECAPTCHA";class n9{constructor(e){this.type=e9,this.auth=uu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{RD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OD(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;ow(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(t9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&ow(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=XD();l.length!==0&&(l+=a),GA(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function fw(t,e,n,r=!1){const i=new n9(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function hw(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await fw(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e){const n=Ny(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Kp(o,e??{}))return i;yo(i,"already-initialized")}return n.initialize({options:e})}function i9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o9(t,e,n){const r=uu(t);_t(r._canInitEmulator,r,"emulator-config-failed"),_t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=KA(e),{host:s,port:a}=s9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),a9()}function KA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s9(t){const e=KA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:dw(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:dw(s)}}}function dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function l9(t,e){return oa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){return Ug(t,"POST","/v1/accounts:signInWithPassword",lu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e){return Ug(t,"POST","/v1/accounts:signInWithEmailLink",lu(t,e))}async function f9(t,e){return Ug(t,"POST","/v1/accounts:signInWithEmailLink",lu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Oy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hw(e,n,"signInWithPassword",u9);case"emailLink":return c9(e,{email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hw(e,r,"signUpPassword",l9);case"emailLink":return f9(e,{idToken:n,email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e){return Ug(t,"POST","/v1/accounts:signInWithIdp",lu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="http://localhost";class Jl extends Oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ty(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Jl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:h9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p9(t){const e=Tf(kf(t)).link,n=e?Tf(kf(e)).deep_link_id:null,r=Tf(kf(t)).deep_link_id;return(r?Tf(kf(r)).link:null)||r||n||e||t}class Ry{constructor(e){var n,r,i,o,s,a;const l=Tf(kf(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=d9((i=l.mode)!==null&&i!==void 0?i:null);_t(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=p9(e);try{return new Ry(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.providerId=jc.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ry.parseLink(n);return _t(r,"argument-error"),mh._fromEmailAndCode(e,r.code,r.tenantId)}}jc.PROVIDER_ID="password";jc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Mh{constructor(){super("facebook.com")}static credential(e){return Jl._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jl._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Mh{constructor(){super("github.com")}static credential(e){return Jl._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Mh{constructor(){super("twitter.com")}static credential(e,n){return Jl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fa.credential(n,r)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Bs._fromIdTokenResponse(e,r,i),s=pw(r);return new vc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pw(r);return new vc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends ia{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jp(e,n,r,i)}}function YA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jp._fromErrorAndOperation(t,o,e,r):o})}async function g9(t,e,n=!1){const r=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e,n=!1){const{auth:r}=t;if(as(r.app))return Promise.reject(el(r));const i="reauthenticate";try{const o=await mc(t,YA(r,i,e,t),n);_t(o.idToken,r,"internal-error");const s=Ly(o.idToken);_t(s,r,"internal-error");const{sub:a}=s;return _t(t.uid===a,r,"user-mismatch"),vc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(t,e,n=!1){if(as(t.app))return Promise.reject(el(t));const r="signIn",i=await YA(t,r,e),o=await vc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function v9(t,e){return QA(uu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t){const e=uu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _9(t,e,n){return as(t.app)?Promise.reject(el(t)):v9(ar(t),jc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&y9(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return oa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ar(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await mc(r,w9(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function x9(t,e,n,r){return ar(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return ar(t).beforeAuthStateChanged(e,n)}function A9(t,e,n,r){return ar(t).onAuthStateChanged(e,n,r)}function S9(t){return ar(t).signOut()}const Zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=1e3,T9=10;class JA extends XA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$A(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);HD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,T9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JA.type="LOCAL";const k9=JA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends XA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZA.type="SESSION";const e3=ZA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await I9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=jy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(){return window}function L9(t){fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function C9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R9(){return t3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebaseLocalStorageDb",D9=1,eg="firebaseLocalStorage",r3="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zg(t,e){return t.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function j9(){const t=indexedDB.deleteDatabase(n3);return new Fh(t).toPromise()}function $1(){const t=indexedDB.open(n3,D9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eg,{keyPath:r3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),await j9(),e(await $1()))})})}async function gw(t,e,n){const r=zg(t,!0).put({[r3]:e,value:n});return new Fh(r).toPromise()}async function M9(t,e){const n=zg(t,!1).get(e),r=await new Fh(n).toPromise();return r===void 0?null:r.value}function mw(t,e){const n=zg(t,!0).delete(e);return new Fh(n).toPromise()}const F9=800,B9=3;class i3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>B9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qg._getInstance(R9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await C9(),!this.activeServiceWorker)return;this.sender=new P9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $1();return await gw(e,Zp,"1"),await mw(e,Zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=zg(i,!1).getAll();return new Fh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i3.type="LOCAL";const U9=i3;new jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){return e?Us(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V9(t){return QA(t.auth,new My(t),t.bypassAuthState)}function q9(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),m9(n,new My(t),t.bypassAuthState)}async function z9(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),g9(n,new My(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V9;case"linkViaPopup":case"linkViaRedirect":return z9;case"reauthViaPopup":case"reauthViaRedirect":return q9;default:yo(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new jh(2e3,1e4);async function $9(t,e,n){if(as(t.app))return Promise.reject(Do(t,"operation-not-supported-in-this-environment"));const r=uu(t);SD(t,e,Dy);const i=o3(r,n);return new Fl(r,"signInViaPopup",e,i).executeNotNull()}class Fl extends s3{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Do(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Do(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Do(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H9.get())};e()}}Fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="pendingRedirect",rp=new Map;class G9 extends s3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rp.get(this.auth._key());if(!e){try{const r=await K9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rp.set(this.auth._key(),e)}return this.bypassAuthState||rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K9(t,e){const n=X9(e),r=Q9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Y9(t,e){rp.set(t._key(),e)}function Q9(t){return Us(t._redirectPersistence)}function X9(t){return np(W9,t.config.apiKey,t.name)}async function J9(t,e,n=!1){if(as(t.app))return Promise.reject(el(t));const r=uu(t),i=o3(r,e),s=await new G9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=10*60*1e3;class ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Do(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z9&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e={}){return oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ij=/^https?/;async function oj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nj(t);for(const n of e)try{if(sj(n))return}catch{}yo(t,"unauthorized-domain")}function sj(t){const e=z1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ij.test(n))return!1;if(rj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new jh(3e4,6e4);function yw(){const t=fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lj(t){return new Promise((e,n)=>{var r,i,o;function s(){yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yw(),n(Do(t,"network-request-failed"))},timeout:aj.get()})}if(!((i=(r=fs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=fs().gapi)===null||o===void 0)&&o.load)s();else{const a=ZD("iframefcb");return fs()[a]=()=>{gapi.load?s():n(Do(t,"network-request-failed"))},GA(`${JD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ip=null,e})}let ip=null;function uj(t){return ip=ip||lj(t),ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new jh(5e3,15e3),fj="__/auth/iframe",hj="emulator/auth/iframe",dj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gj(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Py(e,hj):`https://${t.config.authDomain}/${fj}`,r={apiKey:e.apiKey,appName:t.name,v:Dc},i=pj.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Dh(r).slice(1)}`}async function mj(t){const e=await uj(t),n=fs().gapi;return _t(n,t,"internal-error"),e.open({where:document.body,url:gj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Do(t,"network-request-failed"),a=fs().setTimeout(()=>{o(s)},cj.get());function l(){fs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yj=500,_j=600,wj="_blank",bj="http://localhost";class _w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xj(t,e,n,r=yj,i=_j){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vj),{width:r.toString(),height:i.toString(),top:o,left:s}),u=ti().toLowerCase();n&&(a=UA(u)?wj:n),FA(u)&&(e=e||bj,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,y])=>`${d}${f}=${y},`,"");if(zD(u)&&a!=="_self")return Ej(e||"",a),new _w(null);const h=window.open(e||"",a,c);_t(h,t,"popup-blocked");try{h.focus()}catch{}return new _w(h)}function Ej(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="__/auth/handler",Sj="emulator/auth/handler",Nj=encodeURIComponent("fac");async function ww(t,e,n,r,i,o){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dc,eventId:i};if(e instanceof Dy){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",c7(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))s[c]=h}if(e instanceof Mh){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Nj}=${encodeURIComponent(l)}`:"";return`${Tj(t)}?${Dh(a).slice(1)}${u}`}function Tj({config:t}){return t.emulator?Py(t,Sj):`https://${t.authDomain}/${Aj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="webStorageSupport";class kj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e3,this._completeRedirectFn=J9,this._overrideRedirectResult=Y9}async _openPopup(e,n,r,i){var o;Ys((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ww(e,n,r,z1(),i);return xj(e,s,jy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await ww(e,n,r,z1(),i);return L9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mj(e),r=new ej(e);return n.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(l0,{type:l0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[l0];s!==void 0&&n(!!s),yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $A()||BA()||Cy()}}const Ij=kj;var bw="@firebase/auth",xw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cj(t){gc(new Xl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_t(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(t)},u=new YD(r,i,o,l);return i9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gc(new Xl("auth-internal",e=>{const n=uu(e.getProvider("auth").getImmediate());return(r=>new Pj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Za(bw,xw,Lj(t)),Za(bw,xw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=5*60,Rj=EA("authIdTokenMaxAge")||Oj;let Ew=null;const Dj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Rj)return;const i=n==null?void 0:n.token;Ew!==i&&(Ew=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jj(t=TA()){const e=Ny(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r9(t,{popupRedirectResolver:Ij,persistence:[U9,k9,e3]}),r=EA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Dj(o.toString());E9(n,s,()=>s(n.currentUser)),x9(n,a=>s(a))}}const i=bA("auth");return i&&o9(n,`http://${i}`),n}function Mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Do("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Mj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cj("Browser");var Aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ql,l3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,N){function T(){}T.prototype=N.prototype,L.D=N.prototype,L.prototype=new T,L.prototype.constructor=L,L.C=function(k,E,S){for(var I=Array(arguments.length-2),U=2;U<arguments.length;U++)I[U-2]=arguments[U];return N.prototype[E].apply(k,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,N,T){T||(T=0);var k=Array(16);if(typeof N=="string")for(var E=0;16>E;++E)k[E]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(E=0;16>E;++E)k[E]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=L.g[0],T=L.g[1],E=L.g[2];var S=L.g[3],I=N+(S^T&(E^S))+k[0]+3614090360&4294967295;N=T+(I<<7&4294967295|I>>>25),I=S+(E^N&(T^E))+k[1]+3905402710&4294967295,S=N+(I<<12&4294967295|I>>>20),I=E+(T^S&(N^T))+k[2]+606105819&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(N^E&(S^N))+k[3]+3250441966&4294967295,T=E+(I<<22&4294967295|I>>>10),I=N+(S^T&(E^S))+k[4]+4118548399&4294967295,N=T+(I<<7&4294967295|I>>>25),I=S+(E^N&(T^E))+k[5]+1200080426&4294967295,S=N+(I<<12&4294967295|I>>>20),I=E+(T^S&(N^T))+k[6]+2821735955&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(N^E&(S^N))+k[7]+4249261313&4294967295,T=E+(I<<22&4294967295|I>>>10),I=N+(S^T&(E^S))+k[8]+1770035416&4294967295,N=T+(I<<7&4294967295|I>>>25),I=S+(E^N&(T^E))+k[9]+2336552879&4294967295,S=N+(I<<12&4294967295|I>>>20),I=E+(T^S&(N^T))+k[10]+4294925233&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(N^E&(S^N))+k[11]+2304563134&4294967295,T=E+(I<<22&4294967295|I>>>10),I=N+(S^T&(E^S))+k[12]+1804603682&4294967295,N=T+(I<<7&4294967295|I>>>25),I=S+(E^N&(T^E))+k[13]+4254626195&4294967295,S=N+(I<<12&4294967295|I>>>20),I=E+(T^S&(N^T))+k[14]+2792965006&4294967295,E=S+(I<<17&4294967295|I>>>15),I=T+(N^E&(S^N))+k[15]+1236535329&4294967295,T=E+(I<<22&4294967295|I>>>10),I=N+(E^S&(T^E))+k[1]+4129170786&4294967295,N=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(N^T))+k[6]+3225465664&4294967295,S=N+(I<<9&4294967295|I>>>23),I=E+(N^T&(S^N))+k[11]+643717713&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^N&(E^S))+k[0]+3921069994&4294967295,T=E+(I<<20&4294967295|I>>>12),I=N+(E^S&(T^E))+k[5]+3593408605&4294967295,N=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(N^T))+k[10]+38016083&4294967295,S=N+(I<<9&4294967295|I>>>23),I=E+(N^T&(S^N))+k[15]+3634488961&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^N&(E^S))+k[4]+3889429448&4294967295,T=E+(I<<20&4294967295|I>>>12),I=N+(E^S&(T^E))+k[9]+568446438&4294967295,N=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(N^T))+k[14]+3275163606&4294967295,S=N+(I<<9&4294967295|I>>>23),I=E+(N^T&(S^N))+k[3]+4107603335&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^N&(E^S))+k[8]+1163531501&4294967295,T=E+(I<<20&4294967295|I>>>12),I=N+(E^S&(T^E))+k[13]+2850285829&4294967295,N=T+(I<<5&4294967295|I>>>27),I=S+(T^E&(N^T))+k[2]+4243563512&4294967295,S=N+(I<<9&4294967295|I>>>23),I=E+(N^T&(S^N))+k[7]+1735328473&4294967295,E=S+(I<<14&4294967295|I>>>18),I=T+(S^N&(E^S))+k[12]+2368359562&4294967295,T=E+(I<<20&4294967295|I>>>12),I=N+(T^E^S)+k[5]+4294588738&4294967295,N=T+(I<<4&4294967295|I>>>28),I=S+(N^T^E)+k[8]+2272392833&4294967295,S=N+(I<<11&4294967295|I>>>21),I=E+(S^N^T)+k[11]+1839030562&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^N)+k[14]+4259657740&4294967295,T=E+(I<<23&4294967295|I>>>9),I=N+(T^E^S)+k[1]+2763975236&4294967295,N=T+(I<<4&4294967295|I>>>28),I=S+(N^T^E)+k[4]+1272893353&4294967295,S=N+(I<<11&4294967295|I>>>21),I=E+(S^N^T)+k[7]+4139469664&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^N)+k[10]+3200236656&4294967295,T=E+(I<<23&4294967295|I>>>9),I=N+(T^E^S)+k[13]+681279174&4294967295,N=T+(I<<4&4294967295|I>>>28),I=S+(N^T^E)+k[0]+3936430074&4294967295,S=N+(I<<11&4294967295|I>>>21),I=E+(S^N^T)+k[3]+3572445317&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^N)+k[6]+76029189&4294967295,T=E+(I<<23&4294967295|I>>>9),I=N+(T^E^S)+k[9]+3654602809&4294967295,N=T+(I<<4&4294967295|I>>>28),I=S+(N^T^E)+k[12]+3873151461&4294967295,S=N+(I<<11&4294967295|I>>>21),I=E+(S^N^T)+k[15]+530742520&4294967295,E=S+(I<<16&4294967295|I>>>16),I=T+(E^S^N)+k[2]+3299628645&4294967295,T=E+(I<<23&4294967295|I>>>9),I=N+(E^(T|~S))+k[0]+4096336452&4294967295,N=T+(I<<6&4294967295|I>>>26),I=S+(T^(N|~E))+k[7]+1126891415&4294967295,S=N+(I<<10&4294967295|I>>>22),I=E+(N^(S|~T))+k[14]+2878612391&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~N))+k[5]+4237533241&4294967295,T=E+(I<<21&4294967295|I>>>11),I=N+(E^(T|~S))+k[12]+1700485571&4294967295,N=T+(I<<6&4294967295|I>>>26),I=S+(T^(N|~E))+k[3]+2399980690&4294967295,S=N+(I<<10&4294967295|I>>>22),I=E+(N^(S|~T))+k[10]+4293915773&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~N))+k[1]+2240044497&4294967295,T=E+(I<<21&4294967295|I>>>11),I=N+(E^(T|~S))+k[8]+1873313359&4294967295,N=T+(I<<6&4294967295|I>>>26),I=S+(T^(N|~E))+k[15]+4264355552&4294967295,S=N+(I<<10&4294967295|I>>>22),I=E+(N^(S|~T))+k[6]+2734768916&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~N))+k[13]+1309151649&4294967295,T=E+(I<<21&4294967295|I>>>11),I=N+(E^(T|~S))+k[4]+4149444226&4294967295,N=T+(I<<6&4294967295|I>>>26),I=S+(T^(N|~E))+k[11]+3174756917&4294967295,S=N+(I<<10&4294967295|I>>>22),I=E+(N^(S|~T))+k[2]+718787259&4294967295,E=S+(I<<15&4294967295|I>>>17),I=T+(S^(E|~N))+k[9]+3951481745&4294967295,L.g[0]=L.g[0]+N&4294967295,L.g[1]=L.g[1]+(E+(I<<21&4294967295|I>>>11))&4294967295,L.g[2]=L.g[2]+E&4294967295,L.g[3]=L.g[3]+S&4294967295}r.prototype.u=function(L,N){N===void 0&&(N=L.length);for(var T=N-this.blockSize,k=this.B,E=this.h,S=0;S<N;){if(E==0)for(;S<=T;)i(this,L,S),S+=this.blockSize;if(typeof L=="string"){for(;S<N;)if(k[E++]=L.charCodeAt(S++),E==this.blockSize){i(this,k),E=0;break}}else for(;S<N;)if(k[E++]=L[S++],E==this.blockSize){i(this,k),E=0;break}}this.h=E,this.o+=N},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var N=1;N<L.length-8;++N)L[N]=0;var T=8*this.o;for(N=L.length-8;N<L.length;++N)L[N]=T&255,T/=256;for(this.u(L),L=Array(16),N=T=0;4>N;++N)for(var k=0;32>k;k+=8)L[T++]=this.g[N]>>>k&255;return L};function o(L,N){var T=a;return Object.prototype.hasOwnProperty.call(T,L)?T[L]:T[L]=N(L)}function s(L,N){this.h=N;for(var T=[],k=!0,E=L.length-1;0<=E;E--){var S=L[E]|0;k&&S==N||(T[E]=S,k=!1)}this.g=T}var a={};function l(L){return-128<=L&&128>L?o(L,function(N){return new s([N|0],0>N?-1:0)}):new s([L|0],0>L?-1:0)}function u(L){if(isNaN(L)||!isFinite(L))return h;if(0>L)return x(u(-L));for(var N=[],T=1,k=0;L>=T;k++)N[k]=L/T|0,T*=4294967296;return new s(N,0)}function c(L,N){if(L.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L.charAt(0)=="-")return x(c(L.substring(1),N));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(N,8)),k=h,E=0;E<L.length;E+=8){var S=Math.min(8,L.length-E),I=parseInt(L.substring(E,E+S),N);8>S?(S=u(Math.pow(N,S)),k=k.j(S).add(u(I))):(k=k.j(T),k=k.add(u(I)))}return k}var h=l(0),d=l(1),f=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-x(this).m();for(var L=0,N=1,T=0;T<this.g.length;T++){var k=this.i(T);L+=(0<=k?k:4294967296+k)*N,N*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(y(this))return"0";if(_(this))return"-"+x(this).toString(L);for(var N=u(Math.pow(L,6)),T=this,k="";;){var E=w(T,N).g;T=p(T,E.j(N));var S=((0<T.g.length?T.g[0]:T.h)>>>0).toString(L);if(T=E,y(T))return S+k;for(;6>S.length;)S="0"+S;k=S+k}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function y(L){if(L.h!=0)return!1;for(var N=0;N<L.g.length;N++)if(L.g[N]!=0)return!1;return!0}function _(L){return L.h==-1}t.l=function(L){return L=p(this,L),_(L)?-1:y(L)?0:1};function x(L){for(var N=L.g.length,T=[],k=0;k<N;k++)T[k]=~L.g[k];return new s(T,~L.h).add(d)}t.abs=function(){return _(this)?x(this):this},t.add=function(L){for(var N=Math.max(this.g.length,L.g.length),T=[],k=0,E=0;E<=N;E++){var S=k+(this.i(E)&65535)+(L.i(E)&65535),I=(S>>>16)+(this.i(E)>>>16)+(L.i(E)>>>16);k=I>>>16,S&=65535,I&=65535,T[E]=I<<16|S}return new s(T,T[T.length-1]&-2147483648?-1:0)};function p(L,N){return L.add(x(N))}t.j=function(L){if(y(this)||y(L))return h;if(_(this))return _(L)?x(this).j(x(L)):x(x(this).j(L));if(_(L))return x(this.j(x(L)));if(0>this.l(f)&&0>L.l(f))return u(this.m()*L.m());for(var N=this.g.length+L.g.length,T=[],k=0;k<2*N;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(var E=0;E<L.g.length;E++){var S=this.i(k)>>>16,I=this.i(k)&65535,U=L.i(E)>>>16,G=L.i(E)&65535;T[2*k+2*E]+=I*G,v(T,2*k+2*E),T[2*k+2*E+1]+=S*G,v(T,2*k+2*E+1),T[2*k+2*E+1]+=I*U,v(T,2*k+2*E+1),T[2*k+2*E+2]+=S*U,v(T,2*k+2*E+2)}for(k=0;k<N;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=N;k<2*N;k++)T[k]=0;return new s(T,0)};function v(L,N){for(;(L[N]&65535)!=L[N];)L[N+1]+=L[N]>>>16,L[N]&=65535,N++}function A(L,N){this.g=L,this.h=N}function w(L,N){if(y(N))throw Error("division by zero");if(y(L))return new A(h,h);if(_(L))return N=w(x(L),N),new A(x(N.g),x(N.h));if(_(N))return N=w(L,x(N)),new A(x(N.g),N.h);if(30<L.g.length){if(_(L)||_(N))throw Error("slowDivide_ only works with positive integers.");for(var T=d,k=N;0>=k.l(L);)T=C(T),k=C(k);var E=B(T,1),S=B(k,1);for(k=B(k,2),T=B(T,2);!y(k);){var I=S.add(k);0>=I.l(L)&&(E=E.add(T),S=I),k=B(k,1),T=B(T,1)}return N=p(L,E.j(N)),new A(E,N)}for(E=h;0<=L.l(N);){for(T=Math.max(1,Math.floor(L.m()/N.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),S=u(T),I=S.j(N);_(I)||0<I.l(L);)T-=k,S=u(T),I=S.j(N);y(S)&&(S=d),E=E.add(S),L=p(L,I)}return new A(E,L)}t.A=function(L){return w(this,L).h},t.and=function(L){for(var N=Math.max(this.g.length,L.g.length),T=[],k=0;k<N;k++)T[k]=this.i(k)&L.i(k);return new s(T,this.h&L.h)},t.or=function(L){for(var N=Math.max(this.g.length,L.g.length),T=[],k=0;k<N;k++)T[k]=this.i(k)|L.i(k);return new s(T,this.h|L.h)},t.xor=function(L){for(var N=Math.max(this.g.length,L.g.length),T=[],k=0;k<N;k++)T[k]=this.i(k)^L.i(k);return new s(T,this.h^L.h)};function C(L){for(var N=L.g.length+1,T=[],k=0;k<N;k++)T[k]=L.i(k)<<1|L.i(k-1)>>>31;return new s(T,L.h)}function B(L,N){var T=N>>5;N%=32;for(var k=L.g.length-T,E=[],S=0;S<k;S++)E[S]=0<N?L.i(S+T)>>>N|L.i(S+T+1)<<32-N:L.i(S+T);return new s(E,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l3=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ql=s}).apply(typeof Aw<"u"?Aw:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u3,If,c3,op,W1,f3,h3,d3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,D,V){return m==Array.prototype||m==Object.prototype||(m[D]=V.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var D=0;D<m.length;++D){var V=m[D];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(m,D){if(D)e:{var V=r;m=m.split(".");for(var ne=0;ne<m.length-1;ne++){var _e=m[ne];if(!(_e in V))break e;V=V[_e]}m=m[m.length-1],ne=V[m],D=D(ne),D!=ne&&D!=null&&e(V,m,{configurable:!0,writable:!0,value:D})}}function o(m,D){m instanceof String&&(m+="");var V=0,ne=!1,_e={next:function(){if(!ne&&V<m.length){var Ae=V++;return{value:D(Ae,m[Ae]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return _e[Symbol.iterator]=function(){return _e},_e}i("Array.prototype.values",function(m){return m||function(){return o(this,function(D,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var D=typeof m;return D=D!="object"?D:m?Array.isArray(m)?"array":D:"null",D=="array"||D=="object"&&typeof m.length=="number"}function u(m){var D=typeof m;return D=="object"&&m!=null||D=="function"}function c(m,D,V){return m.call.apply(m.bind,arguments)}function h(m,D,V){if(!m)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var _e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_e,ne),m.apply(D,_e)}}return function(){return m.apply(D,arguments)}}function d(m,D,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function f(m,D){var V=Array.prototype.slice.call(arguments,1);return function(){var ne=V.slice();return ne.push.apply(ne,arguments),m.apply(this,ne)}}function y(m,D){function V(){}V.prototype=D.prototype,m.aa=D.prototype,m.prototype=new V,m.prototype.constructor=m,m.Qb=function(ne,_e,Ae){for(var ze=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ze[Vt-2]=arguments[Vt];return D.prototype[_e].apply(ne,ze)}}function _(m){const D=m.length;if(0<D){const V=Array(D);for(let ne=0;ne<D;ne++)V[ne]=m[ne];return V}return[]}function x(m,D){for(let V=1;V<arguments.length;V++){const ne=arguments[V];if(l(ne)){const _e=m.length||0,Ae=ne.length||0;m.length=_e+Ae;for(let ze=0;ze<Ae;ze++)m[_e+ze]=ne[ze]}else m.push(ne)}}class p{constructor(D,V){this.i=D,this.j=V,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function v(m){return/^[\s\xa0]*$/.test(m)}function A(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function w(m){return w[" "](m),m}w[" "]=function(){};var C=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function B(m,D,V){for(const ne in m)D.call(V,m[ne],ne,m)}function L(m,D){for(const V in m)D.call(void 0,m[V],V,m)}function N(m){const D={};for(const V in m)D[V]=m[V];return D}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(m,D){let V,ne;for(let _e=1;_e<arguments.length;_e++){ne=arguments[_e];for(V in ne)m[V]=ne[V];for(let Ae=0;Ae<T.length;Ae++)V=T[Ae],Object.prototype.hasOwnProperty.call(ne,V)&&(m[V]=ne[V])}}function E(m){var D=1;m=m.split(":");const V=[];for(;0<D&&m.length;)V.push(m.shift()),D--;return m.length&&V.push(m.join(":")),V}function S(m){a.setTimeout(()=>{throw m},0)}function I(){var m=Z;let D=null;return m.g&&(D=m.g,m.g=m.g.next,m.g||(m.h=null),D.next=null),D}class U{constructor(){this.h=this.g=null}add(D,V){const ne=G.get();ne.set(D,V),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var G=new p(()=>new oe,m=>m.reset());class oe{constructor(){this.next=this.g=this.h=null}set(D,V){this.h=D,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let se,te=!1,Z=new U,X=()=>{const m=a.Promise.resolve(void 0);se=()=>{m.then(z)}};var z=()=>{for(var m;m=I();){try{m.h.call(m.g)}catch(V){S(V)}var D=G;D.j(m),100>D.h&&(D.h++,m.next=D.g,D.g=m)}te=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(m,D){this.type=m,this.g=this.target=D,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,D=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const V=()=>{};a.addEventListener("test",V,D),a.removeEventListener("test",V,D)}catch{}return m}();function K(m,D){if(F.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var V=this.type=m.type,ne=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=D,D=m.relatedTarget){if(C){e:{try{w(D.nodeName);var _e=!0;break e}catch{}_e=!1}_e||(D=null)}}else V=="mouseover"?D=m.fromElement:V=="mouseout"&&(D=m.toElement);this.relatedTarget=D,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:q[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&K.aa.h.call(this)}}y(K,F);var q={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ae=0;function fe(m,D,V,ne,_e){this.listener=m,this.proxy=null,this.src=D,this.type=V,this.capture=!!ne,this.ha=_e,this.key=++ae,this.da=this.fa=!1}function he(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function be(m){this.src=m,this.g={},this.h=0}be.prototype.add=function(m,D,V,ne,_e){var Ae=m.toString();m=this.g[Ae],m||(m=this.g[Ae]=[],this.h++);var ze=Oe(m,D,ne,_e);return-1<ze?(D=m[ze],V||(D.fa=!1)):(D=new fe(D,this.src,Ae,!!ne,_e),D.fa=V,m.push(D)),D};function Le(m,D){var V=D.type;if(V in m.g){var ne=m.g[V],_e=Array.prototype.indexOf.call(ne,D,void 0),Ae;(Ae=0<=_e)&&Array.prototype.splice.call(ne,_e,1),Ae&&(he(D),m.g[V].length==0&&(delete m.g[V],m.h--))}}function Oe(m,D,V,ne){for(var _e=0;_e<m.length;++_e){var Ae=m[_e];if(!Ae.da&&Ae.listener==D&&Ae.capture==!!V&&Ae.ha==ne)return _e}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),re={};function qe(m,D,V,ne,_e){if(Array.isArray(D)){for(var Ae=0;Ae<D.length;Ae++)qe(m,D[Ae],V,ne,_e);return null}return V=$e(V),m&&m[Q]?m.K(D,V,u(ne)?!!ne.capture:!1,_e):it(m,D,V,!1,ne,_e)}function it(m,D,V,ne,_e,Ae){if(!D)throw Error("Invalid event type");var ze=u(_e)?!!_e.capture:!!_e,Vt=Fe(m);if(Vt||(m[Ue]=Vt=new be(m)),V=Vt.add(D,V,ne,ze,Ae),V.proxy)return V;if(ne=ye(),V.proxy=ne,ne.src=m,ne.listener=V,m.addEventListener)W||(_e=ze),_e===void 0&&(_e=!1),m.addEventListener(D.toString(),ne,_e);else if(m.attachEvent)m.attachEvent(Ne(D.toString()),ne);else if(m.addListener&&m.removeListener)m.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return V}function ye(){function m(V){return D.call(m.src,m.listener,V)}const D=Se;return m}function pe(m,D,V,ne,_e){if(Array.isArray(D))for(var Ae=0;Ae<D.length;Ae++)pe(m,D[Ae],V,ne,_e);else ne=u(ne)?!!ne.capture:!!ne,V=$e(V),m&&m[Q]?(m=m.i,D=String(D).toString(),D in m.g&&(Ae=m.g[D],V=Oe(Ae,V,ne,_e),-1<V&&(he(Ae[V]),Array.prototype.splice.call(Ae,V,1),Ae.length==0&&(delete m.g[D],m.h--)))):m&&(m=Fe(m))&&(D=m.g[D.toString()],m=-1,D&&(m=Oe(D,V,ne,_e)),(V=-1<m?D[m]:null)&&Te(V))}function Te(m){if(typeof m!="number"&&m&&!m.da){var D=m.src;if(D&&D[Q])Le(D.i,m);else{var V=m.type,ne=m.proxy;D.removeEventListener?D.removeEventListener(V,ne,m.capture):D.detachEvent?D.detachEvent(Ne(V),ne):D.addListener&&D.removeListener&&D.removeListener(ne),(V=Fe(D))?(Le(V,m),V.h==0&&(V.src=null,D[Ue]=null)):he(m)}}}function Ne(m){return m in re?re[m]:re[m]="on"+m}function Se(m,D){if(m.da)m=!0;else{D=new K(D,this);var V=m.listener,ne=m.ha||m.src;m.fa&&Te(m),m=V.call(ne,D)}return m}function Fe(m){return m=m[Ue],m instanceof be?m:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(m){return typeof m=="function"?m:(m[We]||(m[We]=function(D){return m.handleEvent(D)}),m[We])}function Ge(){R.call(this),this.i=new be(this),this.M=this,this.F=null}y(Ge,R),Ge.prototype[Q]=!0,Ge.prototype.removeEventListener=function(m,D,V,ne){pe(this,m,D,V,ne)};function at(m,D){var V,ne=m.F;if(ne)for(V=[];ne;ne=ne.F)V.push(ne);if(m=m.M,ne=D.type||D,typeof D=="string")D=new F(D,m);else if(D instanceof F)D.target=D.target||m;else{var _e=D;D=new F(ne,m),k(D,_e)}if(_e=!0,V)for(var Ae=V.length-1;0<=Ae;Ae--){var ze=D.g=V[Ae];_e=Ze(ze,ne,!0,D)&&_e}if(ze=D.g=m,_e=Ze(ze,ne,!0,D)&&_e,_e=Ze(ze,ne,!1,D)&&_e,V)for(Ae=0;Ae<V.length;Ae++)ze=D.g=V[Ae],_e=Ze(ze,ne,!1,D)&&_e}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var m=this.i,D;for(D in m.g){for(var V=m.g[D],ne=0;ne<V.length;ne++)he(V[ne]);delete m.g[D],m.h--}}this.F=null},Ge.prototype.K=function(m,D,V,ne){return this.i.add(String(m),D,!1,V,ne)},Ge.prototype.L=function(m,D,V,ne){return this.i.add(String(m),D,!0,V,ne)};function Ze(m,D,V,ne){if(D=m.i.g[String(D)],!D)return!0;D=D.concat();for(var _e=!0,Ae=0;Ae<D.length;++Ae){var ze=D[Ae];if(ze&&!ze.da&&ze.capture==V){var Vt=ze.listener,Dn=ze.ha||ze.src;ze.fa&&Le(m.i,ze),_e=Vt.call(Dn,ne)!==!1&&_e}}return _e&&!ne.defaultPrevented}function nt(m,D,V){if(typeof m=="function")V&&(m=d(m,V));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:a.setTimeout(m,D||0)}function Xe(m){m.g=nt(()=>{m.g=null,m.i&&(m.i=!1,Xe(m))},m.l);const D=m.h;m.h=null,m.m.apply(null,D)}class Ke extends R{constructor(D,V){super(),this.m=D,this.l=V,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(m){R.call(this),this.h=m,this.g={}}y(cn,R);var Mt=[];function It(m){B(m.g,function(D,V){this.g.hasOwnProperty(V)&&Te(D)},m),m.g={}}cn.prototype.N=function(){cn.aa.N.call(this),It(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=a.JSON.stringify,gn=a.JSON.parse,ht=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Jt(){}Jt.prototype.h=null;function mt(m){return m.h||(m.h=m.i())}function bt(){}var Zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pt(){F.call(this,"d")}y(Pt,F);function dt(){F.call(this,"c")}y(dt,F);var Rt={},qo=null;function Wn(){return qo=qo||new Ge}Rt.La="serverreachability";function Yi(m){F.call(this,Rt.La,m)}y(Yi,F);function Br(m){const D=Wn();at(D,new Yi(D))}Rt.STAT_EVENT="statevent";function gt(m,D){F.call(this,Rt.STAT_EVENT,m),this.stat=D}y(gt,F);function _n(m){const D=Wn();at(D,new gt(D,m))}Rt.Ma="timingevent";function Qi(m,D){F.call(this,Rt.Ma,m),this.size=D}y(Qi,F);function yr(m,D){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},D)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Nn(m,D,V,ne,_e,Ae){m.info(function(){if(m.g)if(Ae)for(var ze="",Vt=Ae.split("&"),Dn=0;Dn<Vt.length;Dn++){var Dt=Vt[Dn].split("=");if(1<Dt.length){var Yt=Dt[0];Dt=Dt[1];var mn=Yt.split("_");ze=2<=mn.length&&mn[1]=="type"?ze+(Yt+"="+Dt+"&"):ze+(Yt+"=redacted&")}}else ze=null;else ze=Ae;return"XMLHTTP REQ ("+ne+") [attempt "+_e+"]: "+D+`
`+V+`
`+ze})}function rr(m,D,V,ne,_e,Ae,ze){m.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+_e+"]: "+D+`
`+V+`
`+Ae+" "+ze})}function Tn(m,D,V,ne){m.info(function(){return"XMLHTTP TEXT ("+D+"): "+zo(m,V)+(ne?" "+ne:"")})}function ms(m,D){m.info(function(){return"TIMEOUT: "+D})}_r.prototype.info=function(){};function zo(m,D){if(!m.g)return D;if(!D)return null;try{var V=JSON.parse(D);if(V){for(m=0;m<V.length;m++)if(Array.isArray(V[m])){var ne=V[m];if(!(2>ne.length)){var _e=ne[1];if(Array.isArray(_e)&&!(1>_e.length)){var Ae=_e[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var ze=1;ze<_e.length;ze++)_e[ze]=""}}}}return Tt(V)}catch{return D}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function Vr(){}y(Vr,Jt),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},ni=new Vr;function Gn(m,D,V,ne){this.j=m,this.i=D,this.l=V,this.R=ne||1,this.U=new cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ho}function Ho(){this.i=null,this.g="",this.h=!1}var Ti={},bo={};function $o(m,D,V){m.L=1,m.v=bs(lr(D)),m.m=V,m.P=!0,vs(m,null)}function vs(m,D){m.F=Date.now(),Wo(m),m.A=lr(m.v);var V=m.A,ne=m.R;Array.isArray(ne)||(ne=[String(ne)]),_u(V.i,"t",ne),m.C=0,V=m.j.J,m.h=new Ho,m.g=Un(m.j,V?D:null,!m.m),0<m.O&&(m.M=new Ke(d(m.Y,m,m.g),m.O)),D=m.U,V=m.g,ne=m.ca;var _e="readystatechange";Array.isArray(_e)||(_e&&(Mt[0]=_e.toString()),_e=Mt);for(var Ae=0;Ae<_e.length;Ae++){var ze=qe(V,_e[Ae],ne||D.handleEvent,!1,D.h||D);if(!ze)break;D.g[ze.key]=ze}D=m.H?N(m.H):{},m.m?(m.u||(m.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,D)):(m.u="GET",m.g.ea(m.A,m.u,null,D)),Br(),Nn(m.i,m.u,m.A,m.l,m.R,m.m)}Gn.prototype.ca=function(m){m=m.target;const D=this.M;D&&ri(m)==3?D.j():this.Y(m)},Gn.prototype.Y=function(m){try{if(m==this.g)e:{const mn=ri(this.g);var D=this.g.Ba();const Pi=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||El(this.g)))){this.J||mn!=4||D==7||(D==8||0>=Pi?Br(3):Br(2)),aa(this);var V=this.g.Z();this.X=V;t:if(ys(this)){var ne=El(this.g);m="";var _e=ne.length,Ae=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),wr(this);var ze="";break t}this.h.i=new a.TextDecoder}for(D=0;D<_e;D++)this.h.h=!0,m+=this.h.i.decode(ne[D],{stream:!(Ae&&D==_e-1)});ne.length=0,this.h.g+=m,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=V==200,rr(this.i,this.u,this.A,this.l,this.R,mn,V),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,Dn=this.g;if((Vt=Dn.g?Dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Vt)){var Dt=Vt;break t}}Dt=null}if(V=Dt)Tn(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,V);else{this.o=!1,this.s=3,_n(12),ki(this),wr(this);break e}}if(this.P){V=!0;let qr;for(;!this.J&&this.C<ze.length;)if(qr=qc(this,ze),qr==bo){mn==4&&(this.s=4,_n(14),V=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(qr==Ti){this.s=4,_n(15),Tn(this.i,this.l,ze,"[Invalid Chunk]"),V=!1;break}else Tn(this.i,this.l,qr,null),la(this,qr);if(ys(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||ze.length!=0||this.h.h||(this.s=1,_n(16),V=!1),this.o=this.o&&V,!V)Tn(this.i,this.l,ze,"[Invalid Chunked Response]"),ki(this),wr(this);else if(0<ze.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Ye(Yt),Yt.M=!0,_n(11))}}else Tn(this.i,this.l,ze,null),la(this,ze);mn==4&&ki(this),this.o&&!this.J&&(mn==4?Et(this.j,this):(this.o=!1,Wo(this)))}else bu(this.g),V==400&&0<ze.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),ki(this),wr(this)}}}catch{}finally{}};function ys(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function qc(m,D){var V=m.C,ne=D.indexOf(`
`,V);return ne==-1?bo:(V=Number(D.substring(V,ne)),isNaN(V)?Ti:(ne+=1,ne+V>D.length?bo:(D=D.slice(ne,ne+V),m.C=ne+V,D)))}Gn.prototype.cancel=function(){this.J=!0,ki(this)};function Wo(m){m.S=Date.now()+m.I,pl(m,m.I)}function pl(m,D){if(m.B!=null)throw Error("WatchDog timer not null");m.B=yr(d(m.ba,m),D)}function aa(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Gn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ms(this.i,this.A),this.L!=2&&(Br(),_n(17)),ki(this),this.s=2,wr(this)):pl(this,this.S-m)};function wr(m){m.j.G==0||m.J||Et(m.j,m)}function ki(m){aa(m);var D=m.M;D&&typeof D.ma=="function"&&D.ma(),m.M=null,It(m.U),m.g&&(D=m.g,m.g=null,D.abort(),D.ma())}function la(m,D){try{var V=m.j;if(V.G!=0&&(V.g==m||pi(V.h,m))){if(!m.K&&pi(V.h,m)&&V.G==3){try{var ne=V.Da.g.parse(D)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var _e=ne;if(_e[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<m.F)yt(V),ro(V);else break e;Re(V),_n(18)}}else V.za=_e[1],0<V.za-V.T&&37500>_e[2]&&V.F&&V.v==0&&!V.C&&(V.C=yr(d(V.Za,V),6e3));if(1>=yl(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Xt(V,11)}else if((m.K||V.g==m)&&yt(V),!v(D))for(_e=V.Da.g.parse(D),D=0;D<_e.length;D++){let Dt=_e[D];if(V.T=Dt[0],Dt=Dt[1],V.G==2)if(Dt[0]=="c"){V.K=Dt[1],V.ia=Dt[2];const Yt=Dt[3];Yt!=null&&(V.la=Yt,V.j.info("VER="+V.la));const mn=Dt[4];mn!=null&&(V.Aa=mn,V.j.info("SVER="+V.Aa));const Pi=Dt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(ne=1.5*Pi,V.L=ne,V.j.info("backChannelRequestTimeoutMs_="+ne)),ne=V;const qr=m.g;if(qr){const Tr=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var Ae=ne.h;Ae.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(Go(Ae,Ae.h),Ae.h=null))}if(ne.D){const Ao=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(ne.ya=Ao,Ft(ne.I,ne.D,Ao))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-m.F,V.j.info("Handshake RTT: "+V.R+"ms")),ne=V;var ze=m;if(ne.qa=tn(ne,ne.J?ne.ia:null,ne.W),ze.K){pu(ne.h,ze);var Vt=ze,Dn=ne.L;Dn&&(Vt.I=Dn),Vt.B&&(aa(Vt),Wo(Vt)),ne.g=ze}else Ie(ne);0<V.i.length&&P(V)}else Dt[0]!="stop"&&Dt[0]!="close"||Xt(V,7);else V.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?Xt(V,7):pa(V):Dt[0]!="noop"&&V.l&&V.l.ta(Dt),V.v=0)}}Br(4)}catch{}}var gl=class{constructor(m,D){this.g=m,this.map=D}};function ml(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function yl(m){return m.h?1:m.g?m.g.size:0}function pi(m,D){return m.h?m.h==D:m.g?m.g.has(D):!1}function Go(m,D){m.g?m.g.add(D):m.h=D}function pu(m,D){m.h&&m.h==D?m.h=null:m.g&&m.g.has(D)&&m.g.delete(D)}ml.prototype.cancel=function(){if(this.i=Ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ln(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let D=m.i;for(const V of m.g.values())D=D.concat(V.D);return D}return _(m.i)}function gu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var D=[],V=m.length,ne=0;ne<V;ne++)D.push(m[ne]);return D}D=[],V=0;for(ne in m)D[V++]=m[ne];return D}function Xi(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var D=[];m=m.length;for(var V=0;V<m;V++)D.push(V);return D}D=[],V=0;for(const ne in m)D[V++]=ne;return D}}}function _s(m,D){if(m.forEach&&typeof m.forEach=="function")m.forEach(D,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,D,void 0);else for(var V=Xi(m),ne=gu(m),_e=ne.length,Ae=0;Ae<_e;Ae++)D.call(void 0,ne[Ae],V&&V[Ae],m)}var _l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(m,D){if(m){m=m.split("&");for(var V=0;V<m.length;V++){var ne=m[V].indexOf("="),_e=null;if(0<=ne){var Ae=m[V].substring(0,ne);_e=m[V].substring(ne+1)}else Ae=m[V];D(Ae,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function fn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof fn){this.h=m.h,ws(this,m.j),this.o=m.o,this.g=m.g,ua(this,m.s),this.l=m.l;var D=m.i,V=new Nr;V.i=D.i,D.g&&(V.g=new Map(D.g),V.h=D.h),mu(this,V),this.m=m.m}else m&&(D=String(m).match(_l))?(this.h=!1,ws(this,D[1]||"",!0),this.o=Ko(D[2]||""),this.g=Ko(D[3]||"",!0),ua(this,D[4]),this.l=Ko(D[5]||"",!0),mu(this,D[6]||"",!0),this.m=Ko(D[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}fn.prototype.toString=function(){var m=[],D=this.j;D&&m.push(Ji(D,vu,!0),":");var V=this.g;return(V||D=="file")&&(m.push("//"),(D=this.o)&&m.push(Ji(D,vu,!0),"@"),m.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&m.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&m.push("/"),m.push(Ji(V,V.charAt(0)=="/"?Hc:zc,!0))),(V=this.i.toString())&&m.push("?",V),(V=this.m)&&m.push("#",Ji(V,yu)),m.join("")};function lr(m){return new fn(m)}function ws(m,D,V){m.j=V?Ko(D,!0):D,m.j&&(m.j=m.j.replace(/:$/,""))}function ua(m,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);m.s=D}else m.s=null}function mu(m,D,V){D instanceof Nr?(m.i=D,$c(m.i,m.h)):(V||(D=Ji(D,wl)),m.i=new Nr(D,m.h))}function Ft(m,D,V){m.i.set(D,V)}function bs(m){return Ft(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ko(m,D){return m?D?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ji(m,D,V){return typeof m=="string"?(m=encodeURI(m).replace(D,xs),V&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function xs(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var vu=/[#\/\?@]/g,zc=/[#\?:]/g,Hc=/[#\?]/g,wl=/[#\?@]/g,yu=/#/g;function Nr(m,D){this.h=this.g=null,this.i=m||null,this.j=!!D}function Zi(m){m.g||(m.g=new Map,m.h=0,m.i&&gi(m.i,function(D,V){m.add(decodeURIComponent(D.replace(/\+/g," ")),V)}))}t=Nr.prototype,t.add=function(m,D){Zi(this),this.i=null,m=vt(this,m);var V=this.g.get(m);return V||this.g.set(m,V=[]),V.push(D),this.h+=1,this};function Yo(m,D){Zi(m),D=vt(m,D),m.g.has(D)&&(m.i=null,m.h-=m.g.get(D).length,m.g.delete(D))}function ca(m,D){return Zi(m),D=vt(m,D),m.g.has(D)}t.forEach=function(m,D){Zi(this),this.g.forEach(function(V,ne){V.forEach(function(_e){m.call(D,_e,ne,this)},this)},this)},t.na=function(){Zi(this);const m=Array.from(this.g.values()),D=Array.from(this.g.keys()),V=[];for(let ne=0;ne<D.length;ne++){const _e=m[ne];for(let Ae=0;Ae<_e.length;Ae++)V.push(D[ne])}return V},t.V=function(m){Zi(this);let D=[];if(typeof m=="string")ca(this,m)&&(D=D.concat(this.g.get(vt(this,m))));else{m=Array.from(this.g.values());for(let V=0;V<m.length;V++)D=D.concat(m[V])}return D},t.set=function(m,D){return Zi(this),this.i=null,m=vt(this,m),ca(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[D]),this.h+=1,this},t.get=function(m,D){return m?(m=this.V(m),0<m.length?String(m[0]):D):D};function _u(m,D,V){Yo(m,D),0<V.length&&(m.i=null,m.g.set(vt(m,D),_(V)),m.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],D=Array.from(this.g.keys());for(var V=0;V<D.length;V++){var ne=D[V];const Ae=encodeURIComponent(String(ne)),ze=this.V(ne);for(ne=0;ne<ze.length;ne++){var _e=Ae;ze[ne]!==""&&(_e+="="+encodeURIComponent(String(ze[ne]))),m.push(_e)}}return this.i=m.join("&")};function vt(m,D){return D=String(D),m.j&&(D=D.toLowerCase()),D}function $c(m,D){D&&!m.j&&(Zi(m),m.i=null,m.g.forEach(function(V,ne){var _e=ne.toLowerCase();ne!=_e&&(Yo(this,ne),_u(this,_e,V))},m)),m.j=D}function Wc(m,D){const V=new _r;if(a.Image){const ne=new Image;ne.onload=f(br,V,"TestLoadImage: loaded",!0,D,ne),ne.onerror=f(br,V,"TestLoadImage: error",!1,D,ne),ne.onabort=f(br,V,"TestLoadImage: abort",!1,D,ne),ne.ontimeout=f(br,V,"TestLoadImage: timeout",!1,D,ne),a.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=m}else D(!1)}function Gc(m,D){const V=new _r,ne=new AbortController,_e=setTimeout(()=>{ne.abort(),br(V,"TestPingServer: timeout",!1,D)},1e4);fetch(m,{signal:ne.signal}).then(Ae=>{clearTimeout(_e),Ae.ok?br(V,"TestPingServer: ok",!0,D):br(V,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(_e),br(V,"TestPingServer: error",!1,D)})}function br(m,D,V,ne,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),ne(V)}catch{}}function xo(){this.g=new ht}function Kc(m,D,V){const ne=V||"";try{_s(m,function(_e,Ae){let ze=_e;u(_e)&&(ze=Tt(_e)),D.push(ne+Ae+"="+encodeURIComponent(ze))})}catch(_e){throw D.push(ne+"type="+encodeURIComponent("_badmap")),_e}}function fa(m){this.l=m.Ub||null,this.j=m.eb||!1}y(fa,Jt),fa.prototype.g=function(){return new Eo(this.l,this.j)},fa.prototype.i=function(m){return function(){return m}}({});function Eo(m,D){Ge.call(this),this.D=m,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Eo,Ge),t=Eo.prototype,t.open=function(m,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=D,this.readyState=1,Es(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(D.body=m),(this.D||a).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var D=m.value?m.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!m.done}))&&(this.response=this.responseText+=D)}m.done?Ii(this):Es(this),this.readyState==3&&ha(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Ii(this))},t.Qa=function(m){this.g&&(this.response=m,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Es(m)}t.setRequestHeader=function(m,D){this.u.append(m,D)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],D=this.h.entries();for(var V=D.next();!V.done;)V=V.value,m.push(V[0]+": "+V[1]),V=D.next();return m.join(`\r
`)};function Es(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function eo(m){let D="";return B(m,function(V,ne){D+=ne,D+=":",D+=V,D+=`\r
`}),D}function bl(m,D,V){e:{for(ne in V){var ne=!1;break e}ne=!0}ne||(V=eo(V),typeof m=="string"?V!=null&&encodeURIComponent(String(V)):Ft(m,D,V))}function un(m){Ge.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(un,Ge);var xl=/^https?$/i,wu=["POST","PUT"];t=un.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,D,V,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);D=D?D.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?mt(this.o):mt(ni),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(D,String(m),!0),this.B=!1}catch(Ae){to(this,Ae);return}if(m=V||"",V=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var _e in ne)V.set(_e,ne[_e]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Ae of ne.keys())V.set(Ae,ne.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(V.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),_e=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wu,D,void 0))||ne||_e||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,ze]of V)this.g.setRequestHeader(Ae,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xo(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ae){to(this,Ae)}};function to(m,D){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=D,m.m=5,da(m),Qo(m)}function da(m){m.A||(m.A=!0,at(m,"complete"),at(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,at(this,"complete"),at(this,"abort"),Qo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qo(this,!0)),un.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},t.bb=function(){As(this)};function As(m){if(m.h&&typeof s<"u"&&(!m.v[1]||ri(m)!=4||m.Z()!=2)){if(m.u&&ri(m)==4)nt(m.Ea,0,m);else if(at(m,"readystatechange"),ri(m)==4){m.h=!1;try{const ze=m.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var V;if(!(V=D)){var ne;if(ne=ze===0){var _e=String(m.D).match(_l)[1]||null;!_e&&a.self&&a.self.location&&(_e=a.self.location.protocol.slice(0,-1)),ne=!xl.test(_e?_e.toLowerCase():"")}V=ne}if(V)at(m,"complete"),at(m,"success");else{m.m=6;try{var Ae=2<ri(m)?m.g.statusText:""}catch{Ae=""}m.l=Ae+" ["+m.Z()+"]",da(m)}}finally{Qo(m)}}}}function Qo(m,D){if(m.g){Xo(m);const V=m.g,ne=m.v[0]?()=>{}:null;m.g=null,m.v=null,D||at(m,"ready");try{V.onreadystatechange=ne}catch{}}}function Xo(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ri(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var D=this.g.responseText;return m&&D.indexOf(m)==0&&(D=D.substring(m.length)),gn(D)}};function El(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function bu(m){const D={};m=(m.g&&2<=ri(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<m.length;ne++){if(v(m[ne]))continue;var V=E(m[ne]);const _e=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Ae=D[_e]||[];D[_e]=Ae,Ae.push(V)}L(D,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(m,D,V){return V&&V.internalChannelParams&&V.internalChannelParams[m]||D}function no(m){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,m),this.cb=ii("retryDelaySeedMs",1e4,m),this.Wa=ii("forwardChannelMaxRetries",2,m),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ml(m&&m.concurrentRequestLimit),this.Da=new xo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=no.prototype,t.la=8,t.G=1,t.connect=function(m,D,V,ne){_n(0),this.W=m,this.H=D||{},V&&ne!==void 0&&(this.H.OSID=V,this.H.OAID=ne),this.F=this.X,this.I=tn(this,null,this.W),P(this)};function pa(m){if(Al(m),m.G==3){var D=m.U++,V=lr(m.I);if(Ft(V,"SID",m.K),Ft(V,"RID",D),Ft(V,"TYPE","terminate"),de(m,V),D=new Gn(m,m.j,D),D.L=2,D.v=bs(lr(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(D.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=D.v,V=!0),V||(D.g=Un(D.j,null),D.g.ea(D.v)),D.F=Date.now(),Wo(D)}Cn(m)}function ro(m){m.g&&(Ye(m),m.g.cancel(),m.g=null)}function Al(m){ro(m),m.u&&(a.clearTimeout(m.u),m.u=null),yt(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function P(m){if(!vl(m.h)&&!m.s){m.s=!0;var D=m.Ga;se||X(),te||(se(),te=!0),Z.add(D,m),m.B=0}}function H(m,D){return yl(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=D.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=yr(d(m.Ga,m,D),Bt(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const _e=new Gn(this,this.j,m);let Ae=this.o;if(this.S&&(Ae?(Ae=N(Ae),k(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(_e.H=Ae,Ae=null),this.P)e:{for(var D=0,V=0;V<this.i.length;V++){t:{var ne=this.i[V];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(D+=ne,4096<D){D=V;break e}if(D===4096||V===this.i.length-1){D=V+1;break e}}D=1e3}else D=1e3;D=ve(this,_e,D),V=lr(this.I),Ft(V,"RID",m),Ft(V,"CVER",22),this.D&&Ft(V,"X-HTTP-Session-Id",this.D),de(this,V),Ae&&(this.O?D="headers="+encodeURIComponent(String(eo(Ae)))+"&"+D:this.m&&bl(V,this.m,Ae)),Go(this.h,_e),this.Ua&&Ft(V,"TYPE","init"),this.P?(Ft(V,"$req",D),Ft(V,"SID","null"),_e.T=!0,$o(_e,V,null)):$o(_e,V,D),this.G=2}}else this.G==3&&(m?le(this,m):this.i.length==0||vl(this.h)||le(this))};function le(m,D){var V;D?V=D.l:V=m.U++;const ne=lr(m.I);Ft(ne,"SID",m.K),Ft(ne,"RID",V),Ft(ne,"AID",m.T),de(m,ne),m.m&&m.o&&bl(ne,m.m,m.o),V=new Gn(m,m.j,V,m.B+1),m.m===null&&(V.H=m.o),D&&(m.i=D.D.concat(m.i)),D=ve(m,V,1e3),V.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Go(m.h,V),$o(V,ne,D)}function de(m,D){m.H&&B(m.H,function(V,ne){Ft(D,ne,V)}),m.l&&_s({},function(V,ne){Ft(D,ne,V)})}function ve(m,D,V){V=Math.min(m.i.length,V);var ne=m.l?d(m.l.Na,m.l,m):null;e:{var _e=m.i;let Ae=-1;for(;;){const ze=["count="+V];Ae==-1?0<V?(Ae=_e[0].g,ze.push("ofs="+Ae)):Ae=0:ze.push("ofs="+Ae);let Vt=!0;for(let Dn=0;Dn<V;Dn++){let Dt=_e[Dn].g;const Yt=_e[Dn].map;if(Dt-=Ae,0>Dt)Ae=Math.max(0,_e[Dn].g-100),Vt=!1;else try{Kc(Yt,ze,"req"+Dt+"_")}catch{ne&&ne(Yt)}}if(Vt){ne=ze.join("&");break e}}}return m=m.i.splice(0,V),D.D=m,ne}function Ie(m){if(!m.g&&!m.u){m.Y=1;var D=m.Fa;se||X(),te||(se(),te=!0),Z.add(D,m),m.v=0}}function Re(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=yr(d(m.Fa,m),Bt(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,ot(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=yr(d(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),ro(this),ot(this))};function Ye(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function ot(m){m.g=new Gn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var D=lr(m.qa);Ft(D,"RID","rpc"),Ft(D,"SID",m.K),Ft(D,"AID",m.T),Ft(D,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ft(D,"TO",m.ja),Ft(D,"TYPE","xmlhttp"),de(m,D),m.m&&m.o&&bl(D,m.m,m.o),m.L&&(m.g.I=m.L);var V=m.g;m=m.ia,V.L=1,V.v=bs(lr(D)),V.m=null,V.P=!0,vs(V,m)}t.Za=function(){this.C!=null&&(this.C=null,ro(this),Re(this),_n(19))};function yt(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function Et(m,D){var V=null;if(m.g==D){yt(m),Ye(m),m.g=null;var ne=2}else if(pi(m.h,D))V=D.D,pu(m.h,D),ne=1;else return;if(m.G!=0){if(D.o)if(ne==1){V=D.m?D.m.length:0,D=Date.now()-D.F;var _e=m.B;ne=Wn(),at(ne,new Qi(ne,V)),P(m)}else Ie(m);else if(_e=D.s,_e==3||_e==0&&0<D.X||!(ne==1&&H(m,D)||ne==2&&Re(m)))switch(V&&0<V.length&&(D=m.h,D.i=D.i.concat(V)),_e){case 1:Xt(m,5);break;case 4:Xt(m,10);break;case 3:Xt(m,6);break;default:Xt(m,2)}}}function Bt(m,D){let V=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(V*=2),V*D}function Xt(m,D){if(m.j.info("Error code "+D),D==2){var V=d(m.fb,m),ne=m.Xa;const _e=!ne;ne=new fn(ne||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ws(ne,"https"),bs(ne),_e?Wc(ne.toString(),V):Gc(ne.toString(),V)}else _n(2);m.G=0,m.l&&m.l.sa(D),Cn(m),Al(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function Cn(m){if(m.G=0,m.ka=[],m.l){const D=Ln(m.h);(D.length!=0||m.i.length!=0)&&(x(m.ka,D),x(m.ka,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.ra()}}function tn(m,D,V){var ne=V instanceof fn?lr(V):new fn(V);if(ne.g!="")D&&(ne.g=D+"."+ne.g),ua(ne,ne.s);else{var _e=a.location;ne=_e.protocol,D=D?D+"."+_e.hostname:_e.hostname,_e=+_e.port;var Ae=new fn(null);ne&&ws(Ae,ne),D&&(Ae.g=D),_e&&ua(Ae,_e),V&&(Ae.l=V),ne=Ae}return V=m.D,D=m.ya,V&&D&&Ft(ne,V,D),Ft(ne,"VER",m.la),de(m,ne),ne}function Un(m,D,V){if(D&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=m.Ca&&!m.pa?new un(new fa({eb:V})):new un(m.pa),D.Ha(m.J),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function On(){}t=On.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vn(){}Vn.prototype.g=function(m,D){return new Rn(m,D)};function Rn(m,D){Ge.call(this),this.g=new no(D),this.l=m,this.h=D&&D.messageUrlParams||null,m=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(m?m["X-WebChannel-Content-Type"]=D.messageContentType:m={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(m?m["X-WebChannel-Client-Profile"]=D.va:m={"X-WebChannel-Client-Profile":D.va}),this.g.S=m,(m=D&&D.Sb)&&!v(m)&&(this.g.m=m),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!v(D)&&(this.g.D=D,m=this.h,m!==null&&D in m&&(m=this.h,D in m&&delete m[D])),this.j=new oo(this)}y(Rn,Ge),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){pa(this.g)},Rn.prototype.o=function(m){var D=this.g;if(typeof m=="string"){var V={};V.__data__=m,m=V}else this.u&&(V={},V.__data__=Tt(m),m=V);D.i.push(new gl(D.Ya++,m)),D.G==3&&P(D)},Rn.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,Rn.aa.N.call(this)};function mi(m){Pt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var D=m.__sm__;if(D){e:{for(const V in D){m=V;break e}m=void 0}(this.i=m)&&(m=this.i,D=D!==null&&m in D?D[m]:void 0),this.data=D}else this.data=m}y(mi,Pt);function io(){dt.call(this),this.status=1}y(io,dt);function oo(m){this.g=m}y(oo,On),oo.prototype.ua=function(){at(this.g,"a")},oo.prototype.ta=function(m){at(this.g,new mi(m))},oo.prototype.sa=function(m){at(this.g,new io)},oo.prototype.ra=function(){at(this.g,"b")},Vn.prototype.createWebChannel=Vn.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,d3=function(){return new Vn},h3=function(){return Wn()},f3=Rt,W1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,op=Ur,Ni.COMPLETE="complete",c3=Ni,bt.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,If=bt,un.prototype.listenOnce=un.prototype.L,un.prototype.getLastError=un.prototype.Ka,un.prototype.getLastErrorCode=un.prototype.Ba,un.prototype.getStatus=un.prototype.Z,un.prototype.getResponseJson=un.prototype.Oa,un.prototype.getResponseText=un.prototype.oa,un.prototype.send=un.prototype.ea,un.prototype.setWithCredentials=un.prototype.Ha,u3=un}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});const Sw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Ay("@firebase/firestore");function wf(){return Zl.logLevel}function st(t,...e){if(Zl.logLevel<=zt.DEBUG){const n=e.map(Fy);Zl.debug(`Firestore (${Mc}): ${t}`,...n)}}function Qs(t,...e){if(Zl.logLevel<=zt.ERROR){const n=e.map(Fy);Zl.error(`Firestore (${Mc}): ${t}`,...n)}}function yc(t,...e){if(Zl.logLevel<=zt.WARN){const n=e.map(Fy);Zl.warn(`Firestore (${Mc}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t="Unexpected state"){const e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+t;throw Qs(e),new Error(e)}function ln(t,e){t||xt()}function Nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends ia{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xr.UNAUTHENTICATED))}shutdown(){}}class Bj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uj{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ln(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new tl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ln(typeof r.accessToken=="string"),new p3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ln(e===null||typeof e=="string"),new Xr(e)}}class Vj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ln(this.o===void 0);const r=o=>{o.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,st("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ln(typeof n.token=="string"),this.R=n.token,new zj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$j(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new mr(0,0))}static max(){return new St(new mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r){n===void 0?n=0:n>e.length&&xt(),r===void 0?r=e.length-n:r>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class En extends vh{construct(e,n,r){return new En(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new En(n)}static emptyPath(){return new En([])}}const Wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends vh{construct(e,n,r){return new Or(e,n,r)}static isValidIdentifier(e){return Wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Qe(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Qe(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qe(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Qe(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(n)}static emptyPath(){return new Or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(En.fromString(e))}static fromName(e){return new pt(En.fromString(e).popFirst(5))}static empty(){return new pt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&En.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return En.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new En(e.slice()))}}function Gj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=St.fromTimestamp(r===1e9?new mr(n+1,0):new mr(n,r));return new ol(i,pt.empty(),e)}function Kj(t){return new ol(t.readTime,t.key,-1)}class ol{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ol(St.min(),pt.empty(),-1)}static max(){return new ol(St.max(),pt.empty(),-1)}}function Yj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pt.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t){if(t.code!==De.FAILED_PRECONDITION||t.message!==Qj)throw t;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,r)=>{n(e)})}static reject(e){return new Me((n,r)=>{r(e)})}static waitFor(e){return new Me((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Me.resolve(!1);for(const r of e)n=n.next(i=>i?Me.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Me((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Me((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Jj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}By.oe=-1;function Hg(t){return t==null}function tg(t){return t===0&&1/t==-1/0}function Zj(t){return typeof t=="number"&&Number.isInteger(t)&&!tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.comparator=e,this.root=n||Cr.EMPTY}insert(e,n){return new Bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ld(this.root,e,this.comparator,!0)}}class Ld{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Cr.RED,this.left=i??Cr.EMPTY,this.right=o??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Cr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tw(this.data.getIterator())}getIteratorFrom(e){return new Tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dr(this.comparator);return n.data=e,n}}class Tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new zi([])}unionWith(e){let n=new Dr(Or.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new v3("Invalid base64 string: "+o):o}}(e);return new Mr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Mr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const eM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sl(t){if(ln(!!t),typeof t=="string"){let e=0;const n=eM.exec(t);if(ln(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(t.seconds),nanos:Jn(t.nanos)}}function Jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eu(t){return typeof t=="string"?Mr.fromBase64String(t):Mr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vy(t){const e=t.mapValue.fields.__previous_value__;return Uy(e)?Vy(e):e}function yh(t){const e=sl(t.mapValue.fields.__local_write_time__.timestampValue);return new mr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class _h{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _h("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={mapValue:{}};function tu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:rM(t)?9007199254740991:nM(t)?10:11:xt()}function ps(t,e){if(t===e)return!0;const n=tu(t);if(n!==tu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yh(t).isEqual(yh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=sl(i.timestampValue),a=sl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return eu(i.bytesValue).isEqual(eu(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Jn(i.geoPointValue.latitude)===Jn(o.geoPointValue.latitude)&&Jn(i.geoPointValue.longitude)===Jn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Jn(i.integerValue)===Jn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Jn(i.doubleValue),a=Jn(o.doubleValue);return s===a?tg(s)===tg(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Nw(s)!==Nw(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ps(s[l],a[l])))return!1;return!0}(t,e);default:return xt()}}function wh(t,e){return(t.values||[]).find(n=>ps(n,e))!==void 0}function wc(t,e){if(t===e)return 0;const n=tu(t),r=tu(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Jn(o.integerValue||o.doubleValue),l=Jn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kw(t.timestampValue,e.timestampValue);case 4:return kw(yh(t),yh(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=eu(o),l=eu(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qt(a[u],l[u]);if(c!==0)return c}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Qt(Jn(o.latitude),Jn(s.latitude));return a!==0?a:Qt(Jn(o.longitude),Jn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Iw(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const h=o.fields||{},d=s.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=d.value)===null||l===void 0?void 0:l.arrayValue,_=Qt(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:Iw(f,y)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Cd.mapValue&&s===Cd.mapValue)return 0;if(o===Cd.mapValue)return 1;if(s===Cd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Qt(l[h],c[h]);if(d!==0)return d;const f=wc(a[l[h]],u[c[h]]);if(f!==0)return f}return Qt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw xt()}}function kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=sl(t),r=sl(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function Iw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=wc(n[i],r[i]);if(o)return o}return Qt(n.length,r.length)}function bc(t){return G1(t)}function G1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=sl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=G1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${G1(n.fields[s])}`;return i+"}"}(t.mapValue):xt()}function Pw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K1(t){return!!t&&"integerValue"in t}function qy(t){return!!t&&"arrayValue"in t}function Lw(t){return!!t&&"nullValue"in t}function Cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sp(t){return!!t&&"mapValue"in t}function nM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hf(n)}setAll(e){let n=Or.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Hf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wi(Hf(this.value))}}function y3(t){const e=[];return cu(t.fields,(n,r)=>{const i=new Or([n]);if(sp(r)){const o=y3(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Zr(e,0,St.min(),St.min(),St.min(),wi.empty(),0)}static newFoundDocument(e,n,r,i){return new Zr(e,1,n,St.min(),r,i,0)}static newNoDocument(e,n){return new Zr(e,2,n,St.min(),St.min(),wi.empty(),0)}static newUnknownDocument(e,n){return new Zr(e,3,n,St.min(),St.min(),wi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=pt.comparator(pt.fromName(s.referenceValue),n.key):r=wc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function iM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{}class sr extends _3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sM(e,n,r):n==="array-contains"?new uM(e,r):n==="in"?new cM(e,r):n==="not-in"?new fM(e,r):n==="array-contains-any"?new hM(e,r):new sr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aM(e,r):new lM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wc(n,this.value)):n!==null&&tu(this.value)===tu(n)&&this.matchesComparison(wc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mo extends _3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mo(e,n)}matches(e){return w3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function w3(t){return t.op==="and"}function b3(t){return oM(t)&&w3(t)}function oM(t){for(const e of t.filters)if(e instanceof Mo)return!1;return!0}function Y1(t){if(t instanceof sr)return t.field.canonicalString()+t.op.toString()+bc(t.value);if(b3(t))return t.filters.map(e=>Y1(e)).join(",");{const e=t.filters.map(n=>Y1(n)).join(",");return`${t.op}(${e})`}}function x3(t,e){return t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.field.isEqual(i.field)&&ps(r.value,i.value)}(t,e):t instanceof Mo?function(r,i){return i instanceof Mo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&x3(s,i.filters[a]),!0):!1}(t,e):void xt()}function E3(t){return t instanceof sr?function(n){return`${n.field.canonicalString()} ${n.op} ${bc(n.value)}`}(t):t instanceof Mo?function(n){return n.op.toString()+" {"+n.getFilters().map(E3).join(" ,")+"}"}(t):"Filter"}class sM extends sr{constructor(e,n,r){super(e,n,r),this.key=pt.fromName(r.referenceValue)}matches(e){const n=pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class aM extends sr{constructor(e,n){super(e,"in",n),this.keys=A3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lM extends sr{constructor(e,n){super(e,"not-in",n),this.keys=A3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function A3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class uM extends sr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qy(n)&&wh(n.arrayValue,this.value)}}class cM extends sr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wh(this.value.arrayValue,n)}}class fM extends sr{constructor(e,n){super(e,"not-in",n)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wh(this.value.arrayValue,n)}}class hM extends sr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Dw(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dM(t,e,n,r,i,o,s)}function zy(t){const e=Nt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bc(r)).join(",")),e.ue=n}return e.ue}function Hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rw(t.startAt,e.startAt)&&Rw(t.endAt,e.endAt)}function Q1(t){return pt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pM(t,e,n,r,i,o,s,a){return new Fc(t,e,n,r,i,o,s,a)}function $y(t){return new Fc(t)}function jw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S3(t){return t.collectionGroup!==null}function $f(t){const e=Nt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dr(Or.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bh(o,r))}),n.has(Or.keyField().canonicalString())||e.ce.push(new bh(Or.keyField(),r))}return e.ce}function hs(t){const e=Nt(t);return e.le||(e.le=gM(e,$f(t))),e.le}function gM(t,e){if(t.limitType==="F")return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bh(i.field,o)});const n=t.endAt?new ng(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ng(t.startAt.position,t.startAt.inclusive):null;return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function X1(t,e){const n=t.filters.concat([e]);return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rg(t,e,n){return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $g(t,e){return Hy(hs(t),hs(e))&&t.limitType===e.limitType}function N3(t){return`${zy(hs(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>E3(i)).join(", ")}]`),Hg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bc(i)).join(",")),`Target(${r})`}(hs(t))}; limitType=${t.limitType})`}function Wg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of $f(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Ow(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,$f(r),i)||r.endAt&&!function(s,a,l){const u=Ow(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,$f(r),i))}(t,e)}function mM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T3(t){return(e,n)=>{let r=!1;for(const i of $f(t)){const o=vM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vM(t,e,n){const r=t.field.isKeyField()?pt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?wc(l,u):xt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return m3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new Bn(pt.comparator);function Xs(){return yM}const k3=new Bn(pt.comparator);function Pf(...t){let e=k3;for(const n of t)e=e.insert(n.key,n);return e}function I3(t){let e=k3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bl(){return Wf()}function P3(){return Wf()}function Wf(){return new Bc(t=>t.toString(),(t,e)=>t.isEqual(e))}const _M=new Bn(pt.comparator),wM=new Dr(pt.comparator);function Ut(...t){let e=wM;for(const n of t)e=e.add(n);return e}const bM=new Dr(Qt);function xM(){return bM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function L3(t){return{integerValue:""+t}}function EM(t,e){return Zj(e)?L3(e):Wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this._=void 0}}function AM(t,e,n){return t instanceof xh?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Uy(o)&&(o=Vy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Eh?O3(t,e):t instanceof Ah?R3(t,e):function(i,o){const s=C3(i,o),a=Mw(s)+Mw(i.Pe);return K1(s)&&K1(i.Pe)?L3(a):Wy(i.serializer,a)}(t,e)}function SM(t,e,n){return t instanceof Eh?O3(t,e):t instanceof Ah?R3(t,e):n}function C3(t,e){return t instanceof ig?function(r){return K1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xh extends Gg{}class Eh extends Gg{constructor(e){super(),this.elements=e}}function O3(t,e){const n=D3(e);for(const r of t.elements)n.some(i=>ps(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ah extends Gg{constructor(e){super(),this.elements=e}}function R3(t,e){let n=D3(e);for(const r of t.elements)n=n.filter(i=>!ps(i,r));return{arrayValue:{values:n}}}class ig extends Gg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Mw(t){return Jn(t.integerValue||t.doubleValue)}function D3(t){return qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.field=e,this.transform=n}}function TM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Eh&&i instanceof Eh||r instanceof Ah&&i instanceof Ah?_c(r.elements,i.elements,ps):r instanceof ig&&i instanceof ig?ps(r.Pe,i.Pe):r instanceof xh&&i instanceof xh}(t.transform,e.transform)}class kM{constructor(e,n){this.version=e,this.transformResults=n}}class po{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new po}static exists(e){return new po(void 0,e)}static updateTime(e){return new po(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kg{}function j3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gy(t.key,po.none()):new Vh(t.key,t.data,po.none());{const n=t.data,r=wi.empty();let i=new Dr(Or.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new dl(t.key,r,new zi(i.toArray()),po.none())}}function IM(t,e,n){t instanceof Vh?function(i,o,s){const a=i.value.clone(),l=Bw(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dl?function(i,o,s){if(!ap(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Bw(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(M3(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Gf(t,e,n,r){return t instanceof Vh?function(o,s,a,l){if(!ap(o.precondition,s))return a;const u=o.value.clone(),c=Uw(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof dl?function(o,s,a,l){if(!ap(o.precondition,s))return a;const u=Uw(o.fieldTransforms,l,s),c=s.data;return c.setAll(M3(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return ap(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function PM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=C3(r.transform,i||null);o!=null&&(n===null&&(n=wi.empty()),n.set(r.field,o))}return n||null}function Fw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(o,s)=>TM(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vh extends Kg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dl extends Kg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function M3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Bw(t,e,n){const r=new Map;ln(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,SM(s,a,n[i]))}return r}function Uw(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,AM(o,s,e))}return r}class Gy extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LM extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&IM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P3();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=j3(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(n,r)=>Fw(n,r))&&_c(this.baseMutations,e.baseMutations,(n,r)=>Fw(n,r))}}class Ky{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ln(e.mutations.length===r.length);let i=function(){return _M}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Ky(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,$t;function DM(t){switch(t){default:return xt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function F3(t){if(t===void 0)return Qs("GRPC error has no .code"),De.UNKNOWN;switch(t){case ir.OK:return De.OK;case ir.CANCELLED:return De.CANCELLED;case ir.UNKNOWN:return De.UNKNOWN;case ir.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case ir.INTERNAL:return De.INTERNAL;case ir.UNAVAILABLE:return De.UNAVAILABLE;case ir.UNAUTHENTICATED:return De.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case ir.NOT_FOUND:return De.NOT_FOUND;case ir.ALREADY_EXISTS:return De.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return De.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case ir.ABORTED:return De.ABORTED;case ir.OUT_OF_RANGE:return De.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return De.UNIMPLEMENTED;case ir.DATA_LOSS:return De.DATA_LOSS;default:return xt()}}($t=ir||(ir={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new ql([4294967295,4294967295],0);function Vw(t){const e=jM().encode(t),n=new l3;return n.update(e),new Uint8Array(n.digest())}function qw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ql([n,r],0),new ql([i,o],0)]}class Yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lf(`Invalid padding: ${n}`);if(r<0)throw new Lf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ql.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ql.fromNumber(r)));return i.compare(MM)===1&&(i=new ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Vw(e),[r,i]=qw(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Yy(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Vw(e),[r,i]=qw(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yg(St.min(),i,new Bn(Qt),Xs(),Ut())}}class qh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qh(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class B3{constructor(e,n){this.targetId=e,this.me=n}}class U3{constructor(e,n,r=Mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zw{constructor(){this.fe=0,this.ge=$w(),this.pe=Mr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ut(),n=Ut(),r=Ut();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt()}}),new qh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$w()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ln(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xs(),this.qe=Hw(),this.Qe=new Bn(Qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Q1(o))if(r===0){const s=new pt(o.path);this.Ue(n,s,Zr.newNoDocument(s,St.min()))}else ln(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=eu(r).toUint8Array()}catch(l){if(l instanceof v3)return yc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yy(s,i,o)}catch(l){return yc(l instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Q1(a.target)){const l=new pt(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Zr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ut();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Yg(e,n,this.Qe,this.ke,r);return this.ke=Xs(),this.qe=Hw(),this.Qe=new Bn(Qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dr(Qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||st("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Hw(){return new Bn(pt.comparator)}function $w(){return new Bn(pt.comparator)}const BM={asc:"ASCENDING",desc:"DESCENDING"},UM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VM={and:"AND",or:"OR"};class qM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function J1(t,e){return t.useProto3Json||Hg(e)?e:{value:e}}function og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zM(t,e){return og(t,e.toTimestamp())}function ds(t){return ln(!!t),St.fromTimestamp(function(n){const r=sl(n);return new mr(r.seconds,r.nanos)}(t))}function Qy(t,e){return Z1(t,e).canonicalString()}function Z1(t,e){const n=function(i){return new En(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function q3(t){const e=En.fromString(t);return ln(G3(e)),e}function ev(t,e){return Qy(t.databaseId,e.path)}function u0(t,e){const n=q3(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pt(H3(n))}function z3(t,e){return Qy(t.databaseId,e)}function HM(t){const e=q3(t);return e.length===4?En.emptyPath():H3(e)}function tv(t){return new En(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H3(t){return ln(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ww(t,e,n){return{name:ev(t,e),fields:n.value.mapValue.fields}}function $M(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ln(c===void 0||typeof c=="string"),Mr.fromBase64String(c||"")):(ln(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Mr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?De.UNKNOWN:F3(u.code);return new Qe(c,u.message||"")}(s);n=new U3(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=u0(t,r.document.name),o=ds(r.document.updateTime),s=r.document.createTime?ds(r.document.createTime):St.min(),a=new wi({mapValue:{fields:r.document.fields}}),l=Zr.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new lp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=u0(t,r.document),o=r.readTime?ds(r.readTime):St.min(),s=Zr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new lp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=u0(t,r.document),o=r.removedTargetIds||[];n=new lp([],o,i,null)}else{if(!("filter"in e))return xt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new RM(i,o),a=r.targetId;n=new B3(a,s)}}return n}function WM(t,e){let n;if(e instanceof Vh)n={update:Ww(t,e.key,e.value)};else if(e instanceof Gy)n={delete:ev(t,e.key)};else if(e instanceof dl)n={update:Ww(t,e.key,e.data),updateMask:tF(e.fieldMask)};else{if(!(e instanceof LM))return xt();n={verify:ev(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof xh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Eh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ah)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ig)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw xt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt()}(t,e.precondition)),n}function GM(t,e){return t&&t.length>0?(ln(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ds(i.updateTime):ds(o);return s.isEqual(St.min())&&(s=ds(o)),new kM(s,i.transformResults||[])}(n,e))):[]}function KM(t,e){return{documents:[z3(t,e.path)]}}function YM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=z3(t,i);const o=function(u){if(u.length!==0)return W3(Mo.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Pu(d.field),direction:JM(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=J1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function QM(t){let e=HM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ln(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=$3(h);return d instanceof Mo&&b3(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(y){return new bh(Lu(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Hg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new ng(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new ng(f,d)}(n.endAt)),pM(e,i,s,o,a,"F",l,u)}function XM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lu(n.unaryFilter.field);return sr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(n.unaryFilter.field);return sr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lu(n.unaryFilter.field);return sr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Lu(n.unaryFilter.field);return sr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(t):t.fieldFilter!==void 0?function(n){return sr.create(Lu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mo.create(n.compositeFilter.filters.map(r=>$3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(t):xt()}function JM(t){return BM[t]}function ZM(t){return UM[t]}function eF(t){return VM[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Lu(t){return Or.fromServerFormat(t.fieldPath)}function W3(t){return t instanceof sr?function(n){if(n.op==="=="){if(Cw(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(Lw(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cw(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(Lw(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:ZM(n.op),value:n.value}}}(t):t instanceof Mo?function(n){const r=n.getFilters().map(i=>W3(i));return r.length===1?r[0]:{compositeFilter:{op:eF(n.op),filters:r}}}(t):xt()}function tF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r,i,o=St.min(),s=St.min(),a=Mr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.ct=e}}function rF(t){const e=QM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.un=new oF}addToCollectionParentIndex(e,n){return this.un.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(ol.min())}updateCollectionGroup(e,n,r){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class oF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dr(En.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dr(En.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xc(0)}static kn(){return new xc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.changes=new Bc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gf(r.mutation,i,zi.empty(),mr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ut()){const i=Bl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Pf();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Xs();const s=Wf(),a=function(){return Wf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof dl)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Gf(c.mutation,u,c.mutation.getFieldMask(),mr.now())):s.set(u.key,zi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new aF(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wf();let i=new Bn((s,a)=>s-a),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zi.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Ut()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=P3();c.forEach(d=>{if(!o.has(d)){const f=j3(n.get(d),r.get(d));f!==null&&h.set(d,f),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Me.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Me.resolve(Bl());let a=-1,l=o;return s.next(u=>Me.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?Me.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ut())).next(c=>({batchId:a,changes:I3(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pt(n)).next(r=>{let i=Pf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Pf();return this.indexManager.getCollectionParents(e,o).next(a=>Me.forEach(a,l=>{const u=function(h,d){return new Fc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Zr.newInvalidDocument(c)))});let a=Pf();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Gf(c.mutation,u,zi.empty(),mr.now()),Wg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ds(i.createTime)}}(n)),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:rF(i.bundledQuery),readTime:ds(i.readTime)}}(n)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.overlays=new Bn(pt.comparator),this.Ir=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return Me.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Me.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),o=n.length+1,s=new pt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Bn((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Bl(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Me.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new OM(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ut(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.sessionToken=Mr.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Tr=new Dr(xr.Er),this.dr=new Dr(xr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new xr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pt(new En([])),r=new xr(n,e),i=new xr(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pt(new En([])),r=new xr(n,e),i=new xr(n,e+1);let o=Ut();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new xr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pt.comparator(e.key,n.key)||Qt(e.wr,n.wr)}static Ar(e,n){return Qt(e.wr,n.wr)||pt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dr(xr.Er)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new CM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new xr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Me.resolve(s)}lookupMutationBatch(e,n){return Me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xr(n,0),i=new xr(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dr(Qt);return n.forEach(i=>{const o=new xr(i,0),s=new xr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Me.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pt.isDocumentKey(o)||(o=o.child(""));const s=new xr(new pt(o),0);let a=new Dr(Qt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Me.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ln(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Me.forEach(n.mutations,i=>{const o=new xr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new xr(n,0),i=this.br.firstAfterOrEqual(r);return Me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.Mr=e,this.docs=function(){return new Bn(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Me.resolve(r?r.document.mutableCopy():Zr.newInvalidDocument(n))}getEntries(e,n){let r=Xs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zr.newInvalidDocument(i))}),Me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Xs();const s=n.path,a=new pt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Yj(Kj(c),r)<=0||(i.has(c.key)||Wg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Me.resolve(o)}getAllFromCollectionGroup(e,n,r,i){xt()}Or(e,n){return Me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pF(this)}getSize(e){return Me.resolve(this.size)}}class pF extends sF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.persistence=e,this.Nr=new Bc(n=>zy(n),Hy),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xy,this.targetCount=0,this.kr=xc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Kn(n),Me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Me.waitFor(o).next(()=>i)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Me.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Me.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Me.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Me.resolve(r)}containsKey(e,n){return Me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new By(0),this.Kr=!1,this.Kr=!0,this.$r=new fF,this.referenceDelegate=e(this),this.Ur=new gF(this),this.indexManager=new iF,this.remoteDocumentCache=function(i){return new dF(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nF(n),this.Gr=new uF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){st("MemoryPersistence","Starting transaction:",e);const i=new vF(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Me.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class vF extends Xj{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.Jr=new Xy,this.Yr=null}static Zr(e){return new Jy(e)}get Xr(){if(this.Yr)return this.Yr;throw xt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Me.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Xr,r=>{const i=pt.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,St.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Me.or([()=>Me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ut(),i=Ut();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Zy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return i7()?8:Jj(ti())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new yF;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(wf()<=zt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Me.resolve()):(wf()<=zt.DEBUG&&st("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wf()<=zt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(n))):Me.resolve())}Yi(e,n){if(jw(n))return Me.resolve(null);let r=hs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rg(n,null,"F"),r=hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ut(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,rg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return jw(n)||i.isEqual(St.min())?Me.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Me.resolve(null):(wf()<=zt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(n)),this.rs(e,s,n,Gj(i,-1)).next(a=>a))})}ts(e,n){let r=new Dr(T3(e));return n.forEach((i,o)=>{Wg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return wf()<=zt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.Ji.getDocumentsMatchingQuery(e,n,ol.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Bn(Qt),this._s=new Bc(o=>zy(o),Hy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bF(t,e,n,r){return new wF(t,e,n,r)}async function K3(t,e){const n=Nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ut();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function xF(t,e){const n=Nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=Me.resolve();return d.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(_=>{const x=u.docVersions.get(y);ln(x!==null),_.version.compareTo(x)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ut();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Y3(t){const e=Nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function EF(t,e){const n=Nt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,h)));let f=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Mr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(_,x,p){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(d,f,c)&&a.push(n.Ur.updateTargetData(o,f))});let l=Xs(),u=Ut();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(AF(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(St.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Me.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function AF(t,e,n){let r=Ut(),i=Ut();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Xs();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(St.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):st("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function SF(t,e){const n=Nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NF(t,e){const n=Nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Me.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Va(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function nv(t,e,n){const r=Nt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Uh(s))throw s;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Gw(t,e,n){const r=Nt(t);let i=St.min(),o=Ut();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=Nt(l),d=h._s.get(c);return d!==void 0?Me.resolve(h.os.get(d)):h.Ur.getTargetData(u,c)}(r,s,hs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:St.min(),n?o:Ut())).next(a=>(TF(r,mM(e),a),{documents:a,Ts:o})))}function TF(t,e,n){let r=t.us.get(e)||St.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Kw{constructor(){this.activeTargetIds=xM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kF{constructor(){this.so=new Kw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function c0(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="WebChannelConnection";class CF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=c0(),l=this.xo(n,r.toUriEncodedString());st("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(st("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw yc("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=PF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=c0();return new Promise((s,a)=>{const l=new u3;l.setWithCredentials(!0),l.listenOnce(c3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case op.NO_ERROR:const c=l.getResponseJson();st(Wr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case op.TIMEOUT:st(Wr,`RPC '${e}' ${o} timed out`),a(new Qe(De.DEADLINE_EXCEEDED,"Request time out"));break;case op.HTTP_ERROR:const h=l.getStatus();if(st(Wr,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const y=function(x){const p=x.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(p)>=0?p:De.UNKNOWN}(f.status);a(new Qe(y,f.message))}else a(new Qe(De.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Qe(De.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{st(Wr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);st(Wr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=c0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=d3(),a=h3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");st(Wr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,f=!1;const y=new LF({Io:x=>{f?st(Wr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(d||(st(Wr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),st(Wr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},To:()=>h.close()}),_=(x,p,v)=>{x.listen(p,A=>{try{v(A)}catch(w){setTimeout(()=>{throw w},0)}})};return _(h,If.EventType.OPEN,()=>{f||(st(Wr,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),_(h,If.EventType.CLOSE,()=>{f||(f=!0,st(Wr,`RPC '${e}' stream ${i} transport closed`),y.So())}),_(h,If.EventType.ERROR,x=>{f||(f=!0,yc(Wr,`RPC '${e}' stream ${i} transport errored:`,x),y.So(new Qe(De.UNAVAILABLE,"The operation could not be completed")))}),_(h,If.EventType.MESSAGE,x=>{var p;if(!f){const v=x.data[0];ln(!!v);const A=v,w=A.error||((p=A[0])===null||p===void 0?void 0:p.error);if(w){st(Wr,`RPC '${e}' stream ${i} received error:`,w);const C=w.status;let B=function(T){const k=ir[T];if(k!==void 0)return F3(k)}(C),L=w.message;B===void 0&&(B=De.INTERNAL,L="Unknown error status: "+C+" with message "+w.message),f=!0,y.So(new Qe(B,L)),h.close()}else st(Wr,`RPC '${e}' stream ${i} received:`,v),y.bo(v)}}),_(a,f3.STAT_EVENT,x=>{x.stat===W1.PROXY?st(Wr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===W1.NOPROXY&&st(Wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function f0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new qM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Q3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===De.RESOURCE_EXHAUSTED?(Qs(n.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Qe(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OF extends X3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=$M(this.serializer,e),r=function(o){if(!("targetChange"in o))return St.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?St.min():s.readTime?ds(s.readTime):St.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=tv(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Q1(l)?{documents:KM(o,l)}:{query:YM(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=V3(o,s.resumeToken);const u=J1(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(St.min())>0){a.readTime=og(o,s.snapshotVersion.toTimestamp());const u=J1(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XM(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=tv(this.serializer),n.removeTarget=e,this.a_(n)}}class RF extends X3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ln(!!e.streamToken),this.lastStreamToken=e.streamToken,ln(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ln(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=GM(e.writeResults,e.commitTime),r=ds(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=tv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WM(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Qe(De.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Z1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(De.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Z1(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(De.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class jF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qs(n),this.D_=!1):st("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{fu(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Nt(l);u.L_.add(4),await zh(u),u.q_.set("Unknown"),u.L_.delete(4),await Xg(u)}(this))})}),this.q_=new jF(r,i)}}async function Xg(t){if(fu(t))for(const e of t.B_)await e(!0)}async function zh(t){for(const e of t.B_)await e(!1)}function J3(t,e){const n=Nt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),r2(n)?n2(n):Uc(n).r_()&&t2(n,e))}function e2(t,e){const n=Nt(t),r=Uc(n);n.N_.delete(e),r.r_()&&Z3(n,e),n.N_.size===0&&(r.r_()?r.o_():fu(n)&&n.q_.set("Unknown"))}function t2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(t).A_(e)}function Z3(t,e){t.Q_.xe(e),Uc(t).R_(e)}function n2(t){t.Q_=new FM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Uc(t).start(),t.q_.v_()}function r2(t){return fu(t)&&!Uc(t).n_()&&t.N_.size>0}function fu(t){return Nt(t).L_.size===0}function eS(t){t.Q_=void 0}async function FF(t){t.q_.set("Online")}async function BF(t){t.N_.forEach((e,n)=>{t2(t,e)})}async function UF(t,e){eS(t),r2(t)?(t.q_.M_(e),n2(t)):t.q_.set("Unknown")}async function VF(t,e,n){if(t.q_.set("Online"),e instanceof U3&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sg(t,r)}else if(e instanceof lp?t.Q_.Ke(e):e instanceof B3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(St.min()))try{const r=await Y3(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Mr.EMPTY_BYTE_STRING,c.snapshotVersion)),Z3(o,l);const h=new Va(c.target,l,u,c.sequenceNumber);t2(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){st("RemoteStore","Failed to raise snapshot:",r),await sg(t,r)}}async function sg(t,e,n){if(!Uh(e))throw e;t.L_.add(1),await zh(t),t.q_.set("Offline"),n||(n=()=>Y3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{st("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Xg(t)})}function tS(t,e){return e().catch(n=>sg(t,n,e))}async function Jg(t){const e=Nt(t),n=al(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qF(e);)try{const i=await SF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zF(e,i)}catch(i){await sg(e,i)}nS(e)&&rS(e)}function qF(t){return fu(t)&&t.O_.length<10}function zF(t,e){t.O_.push(e);const n=al(t);n.r_()&&n.V_&&n.m_(e.mutations)}function nS(t){return fu(t)&&!al(t).n_()&&t.O_.length>0}function rS(t){al(t).start()}async function HF(t){al(t).p_()}async function $F(t){const e=al(t);for(const n of t.O_)e.m_(n.mutations)}async function WF(t,e,n){const r=t.O_.shift(),i=Ky.from(r,e,n);await tS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jg(t)}async function GF(t,e){e&&al(t).V_&&await async function(r,i){if(function(s){return DM(s)&&s!==De.ABORTED}(i.code)){const o=r.O_.shift();al(r).s_(),await tS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jg(r)}}(t,e),nS(t)&&rS(t)}async function Qw(t,e){const n=Nt(t);n.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const r=fu(n);n.L_.add(3),await zh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Xg(n)}async function KF(t,e){const n=Nt(t);e?(n.L_.delete(2),await Xg(n)):e||(n.L_.add(2),await zh(n),n.q_.set("Unknown"))}function Uc(t){return t.K_||(t.K_=function(n,r,i){const o=Nt(n);return o.w_(),new OF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:FF.bind(null,t),Ro:BF.bind(null,t),mo:UF.bind(null,t),d_:VF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),r2(t)?n2(t):t.q_.set("Unknown")):(await t.K_.stop(),eS(t))})),t.K_}function al(t){return t.U_||(t.U_=function(n,r,i){const o=Nt(n);return o.w_(),new RF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HF.bind(null,t),mo:GF.bind(null,t),f_:$F.bind(null,t),g_:WF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jg(t)):(await t.U_.stop(),t.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new i2(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o2(t,e){if(Qs("AsyncQueue",`${e}: ${t}`),Uh(t))return new Qe(De.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=Pf(),this.sortedSet=new Bn(this.comparator)}static emptySet(e){return new nc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.W_=new Bn(pt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ec{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ec(e,n,nc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class QF{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Nt(n),o=i.queries;i.queries=Jw(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Qe(De.ABORTED,"Firestore shutting down"))}}function Jw(){return new Bc(t=>N3(t),$g)}async function iS(t,e){const n=Nt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new YF,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=o2(s,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&s2(n)}async function oS(t,e){const n=Nt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XF(t,e){const n=Nt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&s2(n)}function JF(t,e,n){const r=Nt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function s2(t){t.Y_.forEach(e=>{e.next()})}var rv,Zw;(Zw=rv||(rv={})).ea="default",Zw.Cache="cache";class sS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class ZF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ut(),this.mutatedKeys=Ut(),this.Aa=T3(e),this.Ra=new nc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Xw,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Wg(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let x=!1;d&&f?d.data.isEqual(f.data)?y!==_&&(r.track({type:3,doc:f}),x=!0):this.ga(d,f)||(r.track({type:2,doc:f}),x=!0,(l&&this.Aa(f,l)>0||u&&this.Aa(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),x=!0):d&&!f&&(r.track({type:1,doc:d}),x=!0,(l||u)&&(a=!0)),x&&(f?(s=s.add(f),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,h)=>function(f,y){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return _(f)-_(y)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Ec(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ut(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new lS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new aS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ut();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ec.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tB{constructor(e){this.key=e,this.va=!1}}class nB{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Bc(a=>N3(a),$g),this.Ma=new Map,this.xa=new Set,this.Oa=new Bn(pt.comparator),this.Na=new Map,this.La=new Xy,this.Ba={},this.ka=new Map,this.qa=xc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rB(t,e,n=!0){const r=pS(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await uS(r,e,n,!0),i}async function iB(t,e){const n=pS(t);await uS(n,e,!0,!1)}async function uS(t,e,n,r){const i=await NF(t.localStore,hs(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await oB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&J3(t.remoteStore,i),a}async function oB(t,e,n,r,i){t.Ka=(h,d,f)=>async function(_,x,p,v){let A=x.view.ma(p);A.ns&&(A=await Gw(_.localStore,x.query,!1).then(({documents:L})=>x.view.ma(L,A)));const w=v&&v.targetChanges.get(x.targetId),C=v&&v.targetMismatches.get(x.targetId)!=null,B=x.view.applyChanges(A,_.isPrimaryClient,w,C);return tb(_,x.targetId,B.wa),B.snapshot}(t,h,d,f);const o=await Gw(t.localStore,e,!0),s=new ZF(e,o.Ts),a=s.ma(o.documents),l=qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);tb(t,n,u.wa);const c=new eB(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function sB(t,e,n){const r=Nt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!$g(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&e2(r.remoteStore,i.targetId),iv(r,i.targetId)}).catch(Bh)):(iv(r,i.targetId),await nv(r.localStore,i.targetId,!0))}async function aB(t,e){const n=Nt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),e2(n.remoteStore,r.targetId))}async function lB(t,e,n){const r=gB(t);try{const i=await function(s,a){const l=Nt(s),u=mr.now(),c=a.reduce((f,y)=>f.add(y.key),Ut());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Xs(),_=Ut();return l.cs.getEntries(f,c).next(x=>{y=x,y.forEach((p,v)=>{v.isValidDocument()||(_=_.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(x=>{h=x;const p=[];for(const v of a){const A=PM(v,h.get(v.key).overlayedDocument);A!=null&&p.push(new dl(v.key,A,y3(A.value.mapValue),po.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,p,a)}).next(x=>{d=x;const p=x.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(f,x.batchId,p)})}).then(()=>({batchId:d.batchId,changes:I3(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Bn(Qt)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Hh(r,i.changes),await Jg(r.remoteStore)}catch(i){const o=o2(i,"Failed to persist write");n.reject(o)}}async function cS(t,e){const n=Nt(t);try{const r=await EF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ln(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ln(s.va):i.removedDocuments.size>0&&(ln(s.va),s.va=!1))}),await Hh(n,r,e)}catch(r){await Bh(r)}}function eb(t,e,n){const r=Nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Nt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.j_)d.Z_(a)&&(u=!0)}),u&&s2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uB(t,e,n){const r=Nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Bn(pt.comparator);s=s.insert(o,Zr.newNoDocument(o,St.min()));const a=Ut().add(o),l=new Yg(St.min(),new Map,new Bn(Qt),s,a);await cS(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),a2(r)}else await nv(r.localStore,e,!1).then(()=>iv(r,e,n)).catch(Bh)}async function cB(t,e){const n=Nt(t),r=e.batch.batchId;try{const i=await xF(n.localStore,e);hS(n,r,null),fS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hh(n,i)}catch(i){await Bh(i)}}async function fB(t,e,n){const r=Nt(t);try{const i=await function(s,a){const l=Nt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ln(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);hS(r,e,n),fS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hh(r,i)}catch(i){await Bh(i)}}function fS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function hS(t,e,n){const r=Nt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function iv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||dS(t,r)})}function dS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(e2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),a2(t))}function tb(t,e,n){for(const r of n)r instanceof aS?(t.La.addReference(r.key,e),hB(t,r)):r instanceof lS?(st("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||dS(t,r.key)):xt()}function hB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(st("SyncEngine","New document in limbo: "+n),t.xa.add(r),a2(t))}function a2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pt(En.fromString(e)),r=t.qa.next();t.Na.set(r,new tB(n)),t.Oa=t.Oa.insert(n,r),J3(t.remoteStore,new Va(hs($y(n.path)),r,"TargetPurposeLimboResolution",By.oe))}}async function Hh(t,e,n){const r=Nt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Zy.Wi(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Nt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Me.forEach(u,d=>Me.forEach(d.$i,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>Me.forEach(d.Ui,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Uh(h))throw h;st("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.os.get(d),y=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(d,_)}}}(r.localStore,o))}async function dB(t,e){const n=Nt(t);if(!n.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const r=await K3(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Qe(De.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hh(n,r.hs)}}function pB(t,e){const n=Nt(t),r=n.Na.get(e);if(r&&r.va)return Ut().add(r.key);{let i=Ut();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function pS(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uB.bind(null,e),e.Ca.d_=XF.bind(null,e.eventManager),e.Ca.$a=JF.bind(null,e.eventManager),e}function gB(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fB.bind(null,e),e}class ag{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return bF(this.persistence,new _F,e.initialUser,this.serializer)}Ga(e){return new mF(Jy.Zr,this.serializer)}Wa(e){return new kF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ag.provider={build:()=>new ag};class ov{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dB.bind(null,this.syncEngine),await KF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QF}()}createDatastore(e){const n=Qg(e.databaseInfo.databaseId),r=function(o){return new CF(o)}(e.databaseInfo);return function(o,s,a,l){return new DF(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new MF(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eb(this.syncEngine,n,0),function(){return Yw.D()?new Yw:new IF}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new nB(i,o,s,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Nt(i);st("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await zh(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ov.provider={build:()=>new ov};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xr.UNAUTHENTICATED,this.clientId=g3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{st("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(st("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=o2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h0(t,e){t.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await K3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vB(t);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Qw(e.remoteStore,i)),t._onlineComponents=e}async function vB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await h0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===De.FAILED_PRECONDITION||i.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yc("Error using user provided cache. Falling back to memory cache: "+n),await h0(t,new ag)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await h0(t,new ag);return t._offlineComponents}async function mS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await nb(t,t._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await nb(t,new ov))),t._onlineComponents}function yB(t){return mS(t).then(e=>e.syncEngine)}async function sv(t){const e=await mS(t),n=e.eventManager;return n.onListen=rB.bind(null,e.syncEngine),n.onUnlisten=sB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aB.bind(null,e.syncEngine),n}function _B(t,e,n={}){const r=new tl;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new gS({next:d=>{c.Za(),s.enqueueAndForget(()=>oS(o,h)),d.fromCache&&l.source==="server"?u.reject(new Qe(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new sS(a,c,{includeMetadataChanges:!0,_a:!0});return iS(o,h)}(await sv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e,n){if(!n)throw new Qe(De.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wB(t,e,n,r){if(e===!0&&r===!0)throw new Qe(De.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ib(t){if(!pt.isDocumentKey(t))throw new Qe(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ob(t){if(pt.isDocumentKey(t))throw new Qe(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt()}function go(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zg(t);throw new Qe(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function bB(t,e){if(e<=0)throw new Qe(De.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fj;switch(r.type){case"firstParty":return new qj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rb.get(n);r&&(st("ComponentProvider","Removing Datastore"),rb.delete(n),r.terminate())}(this),Promise.resolve()}}function xB(t,e,n,r={}){var i;const o=(t=go(t,em))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Xr.MOCK_USER;else{a=XR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Qe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Xr(u)}t._authCredentials=new Bj(new p3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class ci{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ci(this.firestore,e,this._key)}}class nl extends sa{constructor(e,n,r){super(e,n,$y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new pt(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function Pn(t,e,...n){if(t=ar(t),yS("collection","path",e),t instanceof em){const r=En.fromString(e,...n);return ob(r),new nl(t,null,r)}{if(!(t instanceof ci||t instanceof nl))throw new Qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(En.fromString(e,...n));return ob(r),new nl(t.firestore,null,r)}}function vr(t,e,...n){if(t=ar(t),arguments.length===1&&(e=g3.newId()),yS("doc","path",e),t instanceof em){const r=En.fromString(e,...n);return ib(r),new ci(t,null,new pt(r))}{if(!(t instanceof ci||t instanceof nl))throw new Qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(En.fromString(e,...n));return ib(r),new ci(t.firestore,t instanceof nl?t.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Q3(this,"async_queue_retry"),this.Vu=()=>{const r=f0();r&&st("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=f0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=f0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new tl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Uh(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Qs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=i2.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&xt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function lb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ll extends em{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ab,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function EB(t,e){const n=typeof t=="object"?t:TA(),r=typeof t=="string"?t:"(default)",i=Ny(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=YR("firestore");o&&xB(i,...o)}return i}function l2(t){if(t._terminated)throw new Qe(De.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AB(t),t._firestoreClient}function AB(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new tM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vS(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mB(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ac(Mr.fromBase64String(e))}catch(n){throw new Qe(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ac(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=/^__.*__$/;class NB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vh(e,this.data,n,this.fieldTransforms)}}class _S{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class f2{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new f2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wS(this.Cu)&&SB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class TB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qg(e)}Qu(e,n,r,i=!1){return new f2({Cu:e,methodName:n,qu:r,path:Or.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rm(t){const e=t._freezeSettings(),n=Qg(t._databaseId);return new TB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bS(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);d2("Data must be an object, but it was:",s,r);const a=xS(r,s);let l,u;if(o.merge)l=new zi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=av(e,h,n);if(!s.contains(d))throw new Qe(De.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);AS(c,d)||c.push(d)}l=new zi(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new NB(new wi(a),l,u)}class im extends nm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}class h2 extends nm{_toFieldTransform(e){return new NM(e.path,new xh)}isEqual(e){return e instanceof h2}}function kB(t,e,n,r){const i=t.Qu(1,e,n);d2("Data must be an object, but it was:",i,r);const o=[],s=wi.empty();cu(r,(l,u)=>{const c=p2(e,l,n);u=ar(u);const h=i.Nu(c);if(u instanceof im)o.push(c);else{const d=$h(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new zi(o);return new _S(s,a,i.fieldTransforms)}function IB(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[av(e,r,n)],l=[i];if(o.length%2!=0)throw new Qe(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(av(e,o[d])),l.push(o[d+1]);const u=[],c=wi.empty();for(let d=a.length-1;d>=0;--d)if(!AS(u,a[d])){const f=a[d];let y=l[d];y=ar(y);const _=s.Nu(f);if(y instanceof im)u.push(f);else{const x=$h(y,_);x!=null&&(u.push(f),c.set(f,x))}}const h=new zi(u);return new _S(c,h,s.fieldTransforms)}function PB(t,e,n,r=!1){return $h(n,t.Qu(r?4:3,e))}function $h(t,e){if(ES(t=ar(t)))return d2("Unsupported field value:",e,t),xS(t,e);if(t instanceof nm)return function(r,i){if(!wS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=$h(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ar(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mr.fromDate(r);return{timestampValue:og(i.serializer,o)}}if(r instanceof mr){const o=new mr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:og(i.serializer,o)}}if(r instanceof u2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ac)return{bytesValue:V3(i.serializer,r._byteString)};if(r instanceof ci){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof c2)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Wy(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Zg(r)}`)}(t,e)}function xS(t,e){const n={};return m3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cu(t,(r,i)=>{const o=$h(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ES(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mr||t instanceof u2||t instanceof Ac||t instanceof ci||t instanceof nm||t instanceof c2)}function d2(t,e,n){if(!ES(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function av(t,e,n){if((e=ar(e))instanceof tm)return e._internalPath;if(typeof e=="string")return p2(t,e);throw lg("Field path arguments must be of type string or ",t,!1,void 0,n)}const LB=new RegExp("[~\\*/\\[\\]]");function p2(t,e,n){if(e.search(LB)>=0)throw lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tm(...e.split("."))._internalPath}catch{throw lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lg(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Qe(De.INVALID_ARGUMENT,a+t+l)}function AS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CB extends SS{data(){return super.data()}}function om(t,e){return typeof e=="string"?p2(t,e):e instanceof tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Qe(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g2{}class m2 extends g2{}function Fr(t,e,...n){let r=[];e instanceof g2&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof v2).length,a=o.filter(l=>l instanceof sm).length;if(s>1||s>0&&a>0)throw new Qe(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sm extends m2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sm(e,n,r)}_apply(e){const n=this._parse(e);return TS(e._query,n),new sa(e.firestore,e.converter,X1(e._query,n))}_parse(e){const n=rm(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Qe(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){cb(h,c);const f=[];for(const y of h)f.push(ub(l,o,y));d={arrayValue:{values:f}}}else d=ub(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||cb(h,c),d=PB(a,s,h,c==="in"||c==="not-in");return sr.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Js(t,e,n){const r=e,i=om("where",t);return sm._create(i,r,n)}class v2 extends g2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new v2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)TS(s,l),s=X1(s,l)}(e._query,n),new sa(e.firestore,e.converter,X1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y2 extends m2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new y2(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Qe(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Qe(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bh(o,s)}(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Fc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Fo(t,e="asc"){const n=e,r=om("orderBy",t);return y2._create(r,n)}class _2 extends m2{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _2(e,n,r)}_apply(e){return new sa(e.firestore,e.converter,rg(e._query,this._limit,this._limitType))}}function Zs(t){return bB("limit",t),_2._create("limit",t,"F")}function ub(t,e,n){if(typeof(n=ar(n))=="string"){if(n==="")throw new Qe(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S3(e)&&n.indexOf("/")!==-1)throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(En.fromString(n));if(!pt.isDocumentKey(r))throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pw(t,new pt(r))}if(n instanceof ci)return Pw(t,n._key);throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(n)}.`)}function cb(t,e){if(!Array.isArray(t)||t.length===0)throw new Qe(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OB{convertValue(e,n="none"){switch(tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Jn(s.doubleValue));return new c2(o)}convertGeoPoint(e){return new u2(Jn(e.latitude),Jn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const n=sl(e);return new mr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=En.fromString(e);ln(G3(r));const i=new _h(r.get(1),r.get(3)),o=new pt(r.popFirst(5));return i.isEqual(n)||Qs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IS extends SS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class up extends IS{data(e={}){return super.data(e)}}class PS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new up(this._firestore,this._userDataWriter,r.key,r,new Cf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new up(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new up(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:RB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}class w2 extends OB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,n)}}function b2(t){t=go(t,sa);const e=go(t.firestore,ll),n=l2(e),r=new w2(e);return NS(t._query),_B(n,t._query).then(i=>new PS(e,r,t,i))}function Sh(t,e,n){t=go(t,ci);const r=go(t.firestore,ll),i=kS(t.converter,e,n);return am(r,[bS(rm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,po.none())])}function nu(t,e,n,...r){t=go(t,ci);const i=go(t.firestore,ll),o=rm(i);let s;return s=typeof(e=ar(e))=="string"||e instanceof tm?IB(o,"updateDoc",t._key,e,n,r):kB(o,"updateDoc",t._key,e),am(i,[s.toMutation(t._key,po.exists(!0))])}function ru(t){return am(go(t.firestore,ll),[new Gy(t._key,po.none())])}function Sc(t,e){const n=go(t.firestore,ll),r=vr(t),i=kS(t.converter,e);return am(n,[bS(rm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,po.exists(!1))]).then(()=>r)}function _o(t,...e){var n,r,i;t=ar(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lb(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lb(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof ci)u=go(t.firestore,ll),c=$y(t._key.path),l={next:h=>{e[s]&&e[s](DB(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=go(t,sa);u=go(h.firestore,ll),c=h._query;const d=new w2(u);l={next:f=>{e[s]&&e[s](new PS(u,d,h,f))},error:e[s+1],complete:e[s+2]},NS(t._query)}return function(d,f,y,_){const x=new gS(_),p=new sS(f,x,y);return d.asyncQueue.enqueueAndForget(async()=>iS(await sv(d),p)),()=>{x.Za(),d.asyncQueue.enqueueAndForget(async()=>oS(await sv(d),p))}}(l2(u),c,a,l)}function am(t,e){return function(r,i){const o=new tl;return r.asyncQueue.enqueueAndForget(async()=>lB(await yB(r),i,o)),o.promise}(l2(t),e)}function DB(t,e,n){const r=n.docs.get(e._key),i=new w2(t);return new IS(t,i,e._key,r,new Cf(n.hasPendingWrites,n.fromCache),e.converter)}function ea(){return new h2("serverTimestamp")}(function(e,n=!0){(function(i){Mc=i})(Dc),gc(new Xl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ll(new Uj(r.getProvider("auth-internal")),new Hj(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Za(Sw,"4.7.3",e),Za(Sw,"4.7.3","esm2017")})();const lv={apiKey:"AIzaSyA_a3xw0iwtzQDqHs2TqkCjkFFLXRoo9dE",authDomain:"kerigma-app-prod-v1.firebaseapp.com",projectId:"kerigma-app-prod-v1",storageBucket:"kerigma-app-prod-v1.firebasestorage.app",messagingSenderId:"436166824170",appId:"1:436166824170:web:0fed5e57d3615ff51e4793"},LS=NA(lv),Of=jj(LS),jB=new Ds,Lt=EB(LS);console.log("Firebase initialized with config:",{projectId:lv.projectId,authDomain:lv.authDomain});console.log("Auth instance:",Of);const CS=tt.createContext();function fi(){return tt.useContext(CS)}function MB({children:t}){const[e,n]=tt.useState(null),[r,i]=tt.useState(!0);async function o(){try{console.log("Attempting Google Login...");const u=await $9(Of,jB),c=u.user;return await Sh(vr(Lt,"users",c.uid),{uid:c.uid,email:c.email,displayName:c.displayName,photoURL:c.photoURL,lastLogin:ea()},{merge:!0}),console.log("Google Login Success:",c.email),u}catch(u){throw console.error("Google Login Error:",u.code,u.message),u}}async function s(u,c){try{console.log("Attempting Email Login for:",u);const h=await _9(Of,u,c),d=h.user;return await Sh(vr(Lt,"users",d.uid),{uid:d.uid,email:d.email,displayName:d.displayName||"Admin",lastLogin:ea()},{merge:!0}),console.log("Email Login Success:",d.email),h}catch(h){throw console.error("Email Login Error:",h.code,h.message),h}}function a(){return S9(Of)}tt.useEffect(()=>A9(Of,c=>{n(c),i(!1)}),[]);const l={currentUser:e,loginGoogle:o,loginEmail:s,logout:a};return M.jsx(CS.Provider,{value:l,children:!r&&t})}const FB="modulepreload",BB=function(t,e){return new URL(t,e).href},fb={},d0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=BB(u,r),u in fb)return;fb[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!r)for(let y=s.length-1;y>=0;y--){const _=s[y];if(_.href===u&&(!c||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":FB,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((y,_)=>{f.addEventListener("load",y),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function sn(t){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(t)}var Bo=Uint8Array,Hi=Uint16Array,x2=Int32Array,E2=new Bo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),A2=new Bo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hb=new Bo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OS=function(t,e){for(var n=new Hi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new x2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},RS=OS(E2,2),UB=RS.b,uv=RS.r;UB[28]=258,uv[258]=28;var VB=OS(A2,0),db=VB.r,cv=new Hi(32768);for(var An=0;An<32768;++An){var Pa=(An&43690)>>1|(An&21845)<<1;Pa=(Pa&52428)>>2|(Pa&13107)<<2,Pa=(Pa&61680)>>4|(Pa&3855)<<4,cv[An]=((Pa&65280)>>8|(Pa&255)<<8)>>1}var Kf=function(t,e,n){for(var r=t.length,i=0,o=new Hi(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Hi(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Hi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=s[t[i]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)a[cv[h]>>l]=u}else for(a=new Hi(r),i=0;i<r;++i)t[i]&&(a[i]=cv[s[t[i]-1]++]>>15-t[i]);return a},iu=new Bo(288);for(var An=0;An<144;++An)iu[An]=8;for(var An=144;An<256;++An)iu[An]=9;for(var An=256;An<280;++An)iu[An]=7;for(var An=280;An<288;++An)iu[An]=8;var ug=new Bo(32);for(var An=0;An<32;++An)ug[An]=5;var qB=Kf(iu,9,0),zB=Kf(ug,5,0),DS=function(t){return(t+7)/8|0},HB=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Bo(t.subarray(e,n))},Ps=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},bf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},p0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:MS,l:0};if(i==1){var s=new Bo(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(C,B){return C.f-B.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[h].f?u++:h++],l=n[u!=c&&n[u].f<n[h].f?u++:h++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=o[0].s,r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var f=new Hi(d+1),y=fv(n[c-1],f,0);if(y>e){var r=0,_=0,x=y-e,p=1<<x;for(o.sort(function(B,L){return f[L.s]-f[B.s]||B.f-L.f});r<i;++r){var v=o[r].s;if(f[v]>e)_+=p-(1<<y-f[v]),f[v]=e;else break}for(_>>=x;_>0;){var A=o[r].s;f[A]<e?_-=1<<e-f[A]++-1:++r}for(;r>=0&&_;--r){var w=o[r].s;f[w]==e&&(--f[w],++_)}y=e}return{t:new Bo(f),l:y}},fv=function(t,e,n){return t.s==-1?Math.max(fv(t.l,e,n+1),fv(t.r,e,n+1)):e[t.s]=n},pb=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Hi(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},xf=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},jS=function(t,e,n){var r=n.length,i=DS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},gb=function(t,e,n,r,i,o,s,a,l,u,c){Ps(e,c++,n),++i[256];for(var h=p0(i,15),d=h.t,f=h.l,y=p0(o,15),_=y.t,x=y.l,p=pb(d),v=p.c,A=p.n,w=pb(_),C=w.c,B=w.n,L=new Hi(19),N=0;N<v.length;++N)++L[v[N]&31];for(var N=0;N<C.length;++N)++L[C[N]&31];for(var T=p0(L,7),k=T.t,E=T.l,S=19;S>4&&!k[hb[S-1]];--S);var I=u+5<<3,U=xf(i,iu)+xf(o,ug)+s,G=xf(i,d)+xf(o,_)+s+14+3*S+xf(L,k)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&I<=U&&I<=G)return jS(e,c,t.subarray(l,l+u));var oe,se,te,Z;if(Ps(e,c,1+(G<U)),c+=2,G<U){oe=Kf(d,f,0),se=d,te=Kf(_,x,0),Z=_;var X=Kf(k,E,0);Ps(e,c,A-257),Ps(e,c+5,B-1),Ps(e,c+10,S-4),c+=14;for(var N=0;N<S;++N)Ps(e,c+3*N,k[hb[N]]);c+=3*S;for(var z=[v,C],R=0;R<2;++R)for(var F=z[R],N=0;N<F.length;++N){var W=F[N]&31;Ps(e,c,X[W]),c+=k[W],W>15&&(Ps(e,c,F[N]>>5&127),c+=F[N]>>12)}}else oe=qB,se=iu,te=zB,Z=ug;for(var N=0;N<a;++N){var K=r[N];if(K>255){var W=K>>18&31;bf(e,c,oe[W+257]),c+=se[W+257],W>7&&(Ps(e,c,K>>23&31),c+=E2[W]);var q=K&31;bf(e,c,te[q]),c+=Z[q],q>3&&(bf(e,c,K>>5&8191),c+=A2[q])}else bf(e,c,oe[K]),c+=se[K]}return bf(e,c,oe[256]),c+se[256]},$B=new x2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MS=new Bo(0),WB=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Bo(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),u=o.l,c=(o.r||0)&7;if(e){c&&(l[0]=o.r>>3);for(var h=$B[e-1],d=h>>13,f=h&8191,y=(1<<n)-1,_=o.p||new Hi(32768),x=o.h||new Hi(y+1),p=Math.ceil(n/3),v=2*p,A=function(Ue){return(t[Ue]^t[Ue+1]<<p^t[Ue+2]<<v)&y},w=new x2(25e3),C=new Hi(288),B=new Hi(32),L=0,N=0,T=o.i||0,k=0,E=o.w||0,S=0;T+2<s;++T){var I=A(T),U=T&32767,G=x[I];if(_[U]=G,x[I]=U,E<=T){var oe=s-T;if((L>7e3||k>24576)&&(oe>423||!u)){c=gb(t,l,0,w,C,B,N,k,S,T-S,c),k=L=N=0,S=T;for(var se=0;se<286;++se)C[se]=0;for(var se=0;se<30;++se)B[se]=0}var te=2,Z=0,X=f,z=U-G&32767;if(oe>2&&I==A(T-z))for(var R=Math.min(d,oe)-1,F=Math.min(32767,T),W=Math.min(258,oe);z<=F&&--X&&U!=G;){if(t[T+te]==t[T+te-z]){for(var K=0;K<W&&t[T+K]==t[T+K-z];++K);if(K>te){if(te=K,Z=z,K>R)break;for(var q=Math.min(z,K-2),Q=0,se=0;se<q;++se){var ae=T-z+se&32767,fe=_[ae],he=ae-fe&32767;he>Q&&(Q=he,G=ae)}}}U=G,G=_[U],z+=U-G&32767}if(Z){w[k++]=268435456|uv[te]<<18|db[Z];var be=uv[te]&31,Le=db[Z]&31;N+=E2[be]+A2[Le],++C[257+be],++B[Le],E=T+te,++L}else w[k++]=t[T],++C[t[T]]}}for(T=Math.max(T,E);T<s;++T)w[k++]=t[T],++C[t[T]];c=gb(t,l,u,w,C,B,N,k,S,T-S,c),u||(o.r=c&7|l[c/8|0]<<3,c-=7,o.h=x,o.p=_,o.i=T,o.w=E)}else{for(var T=o.w||0;T<s+u;T+=65535){var Oe=T+65535;Oe>=s&&(l[c/8|0]=u,Oe=s),c=jS(l,c+1,t.subarray(T,Oe))}o.i=s}return HB(a,0,r+DS(c)+i)},FS=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},GB=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Bo(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return WB(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},BS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},KB=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=FS();i.p(e.dictionary),BS(t,2,i.d())}};function hv(t,e){e||(e={});var n=FS();n.p(t);var r=GB(t,e,e.dictionary?6:2,4);return KB(r,e),BS(r,r.length-4,n.d()),r}var YB=typeof TextDecoder<"u"&&new TextDecoder,QB=0;try{YB.decode(MS,{stream:!0}),QB=1}catch{}function XB(t){if(Array.isArray(t))return t}function JB(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZB(t,e){if(t){if(typeof t=="string")return mb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mb(t,e):void 0}}function eU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vb(t,e){return XB(t)||JB(t,e)||ZB(t,e)||eU()}function yb(t,e="utf8"){return new TextDecoder(e).decode(t)}const tU=new TextEncoder;function nU(t){return tU.encode(t)}const rU=1024*8,iU=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),g0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class S2{constructor(e=rU,n={}){on(this,"buffer");on(this,"byteLength");on(this,"byteOffset");on(this,"length");on(this,"offset");on(this,"lastWrittenByte");on(this,"littleEndian");on(this,"_data");on(this,"_mark");on(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof S2)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=g0[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===iU&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new g0[n](a.buffer);return this.offset+=r,l.reverse(),l}const s=new g0[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return yb(this.readBytes(e))}decodeText(e=1,n="utf8"){return yb(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(nU(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vc(t){let e=t.length;for(;--e>=0;)t[e]=0}const oU=3,sU=258,US=29,aU=256,lU=aU+1+US,VS=30,uU=512,cU=new Array((lU+2)*2);Vc(cU);const fU=new Array(VS*2);Vc(fU);const hU=new Array(uU);Vc(hU);const dU=new Array(sU-oU+1);Vc(dU);const pU=new Array(US);Vc(pU);const gU=new Array(VS);Vc(gU);const mU=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var dv=mU;const vU=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},yU=new Uint32Array(vU()),_U=(t,e,n,r)=>{const i=yU,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var rs=_U,pv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wU=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var bU=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)wU(n,r)&&(t[r]=n[r])}}return t},xU=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},zS={assign:bU,flattenChunks:xU};let HS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{HS=!1}const Nh=new Uint8Array(256);for(let t=0;t<256;t++)Nh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Nh[254]=Nh[254]=1;var EU=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const AU=(t,e)=>{if(e<65534&&t.subarray&&HS)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var SU=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Nh[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return AU(o,i)},NU=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Nh[t[n]]>e?n:e},gv={string2buf:EU,buf2string:SU,utf8border:NU};function TU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kU=TU;const Rd=16209,IU=16191;var PU=function(e,n){let r,i,o,s,a,l,u,c,h,d,f,y,_,x,p,v,A,w,C,B,L,N,T,k;const E=e.state;r=e.next_in,T=e.input,i=r+(e.avail_in-5),o=e.next_out,k=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=E.dmax,u=E.wsize,c=E.whave,h=E.wnext,d=E.window,f=E.hold,y=E.bits,_=E.lencode,x=E.distcode,p=(1<<E.lenbits)-1,v=(1<<E.distbits)-1;e:do{y<15&&(f+=T[r++]<<y,y+=8,f+=T[r++]<<y,y+=8),A=_[f&p];t:for(;;){if(w=A>>>24,f>>>=w,y-=w,w=A>>>16&255,w===0)k[o++]=A&65535;else if(w&16){C=A&65535,w&=15,w&&(y<w&&(f+=T[r++]<<y,y+=8),C+=f&(1<<w)-1,f>>>=w,y-=w),y<15&&(f+=T[r++]<<y,y+=8,f+=T[r++]<<y,y+=8),A=x[f&v];n:for(;;){if(w=A>>>24,f>>>=w,y-=w,w=A>>>16&255,w&16){if(B=A&65535,w&=15,y<w&&(f+=T[r++]<<y,y+=8,y<w&&(f+=T[r++]<<y,y+=8)),B+=f&(1<<w)-1,B>l){e.msg="invalid distance too far back",E.mode=Rd;break e}if(f>>>=w,y-=w,w=o-s,B>w){if(w=B-w,w>c&&E.sane){e.msg="invalid distance too far back",E.mode=Rd;break e}if(L=0,N=d,h===0){if(L+=u-w,w<C){C-=w;do k[o++]=d[L++];while(--w);L=o-B,N=k}}else if(h<w){if(L+=u+h-w,w-=h,w<C){C-=w;do k[o++]=d[L++];while(--w);if(L=0,h<C){w=h,C-=w;do k[o++]=d[L++];while(--w);L=o-B,N=k}}}else if(L+=h-w,w<C){C-=w;do k[o++]=d[L++];while(--w);L=o-B,N=k}for(;C>2;)k[o++]=N[L++],k[o++]=N[L++],k[o++]=N[L++],C-=3;C&&(k[o++]=N[L++],C>1&&(k[o++]=N[L++]))}else{L=o-B;do k[o++]=k[L++],k[o++]=k[L++],k[o++]=k[L++],C-=3;while(C>2);C&&(k[o++]=k[L++],C>1&&(k[o++]=k[L++]))}}else if(w&64){e.msg="invalid distance code",E.mode=Rd;break e}else{A=x[(A&65535)+(f&(1<<w)-1)];continue n}break}}else if(w&64)if(w&32){E.mode=IU;break e}else{e.msg="invalid literal/length code",E.mode=Rd;break e}else{A=_[(A&65535)+(f&(1<<w)-1)];continue t}break}}while(r<i&&o<a);C=y>>3,r-=C,y-=C<<3,f&=(1<<y)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),E.hold=f,E.bits=y};const Nu=15,_b=852,wb=592,bb=0,m0=1,xb=2,LU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),CU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),RU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DU=(t,e,n,r,i,o,s,a)=>{const l=a.bits;let u=0,c=0,h=0,d=0,f=0,y=0,_=0,x=0,p=0,v=0,A,w,C,B,L,N=null,T;const k=new Uint16Array(Nu+1),E=new Uint16Array(Nu+1);let S=null,I,U,G;for(u=0;u<=Nu;u++)k[u]=0;for(c=0;c<r;c++)k[e[n+c]]++;for(f=l,d=Nu;d>=1&&k[d]===0;d--);if(f>d&&(f=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<d&&k[h]===0;h++);for(f<h&&(f=h),x=1,u=1;u<=Nu;u++)if(x<<=1,x-=k[u],x<0)return-1;if(x>0&&(t===bb||d!==1))return-1;for(E[1]=0,u=1;u<Nu;u++)E[u+1]=E[u]+k[u];for(c=0;c<r;c++)e[n+c]!==0&&(s[E[e[n+c]]++]=c);if(t===bb?(N=S=s,T=20):t===m0?(N=LU,S=CU,T=257):(N=OU,S=RU,T=0),v=0,c=0,u=h,L=o,y=f,_=0,C=-1,p=1<<f,B=p-1,t===m0&&p>_b||t===xb&&p>wb)return 1;for(;;){I=u-_,s[c]+1<T?(U=0,G=s[c]):s[c]>=T?(U=S[s[c]-T],G=N[s[c]-T]):(U=96,G=0),A=1<<u-_,w=1<<y,h=w;do w-=A,i[L+(v>>_)+w]=I<<24|U<<16|G|0;while(w!==0);for(A=1<<u-1;v&A;)A>>=1;if(A!==0?(v&=A-1,v+=A):v=0,c++,--k[u]===0){if(u===d)break;u=e[n+s[c]]}if(u>f&&(v&B)!==C){for(_===0&&(_=f),L+=h,y=u-_,x=1<<y;y+_<d&&(x-=k[y+_],!(x<=0));)y++,x<<=1;if(p+=1<<y,t===m0&&p>_b||t===xb&&p>wb)return 1;C=v&B,i[C]=f<<24|y<<16|L-o|0}}return v!==0&&(i[L+v]=u-_<<24|64<<16|0),a.bits=f,0};var Yf=DU;const jU=0,$S=1,WS=2,{Z_FINISH:Eb,Z_BLOCK:MU,Z_TREES:Dd,Z_OK:ou,Z_STREAM_END:FU,Z_NEED_DICT:BU,Z_STREAM_ERROR:wo,Z_DATA_ERROR:GS,Z_MEM_ERROR:KS,Z_BUF_ERROR:UU,Z_DEFLATED:Ab}=qS,lm=16180,Sb=16181,Nb=16182,Tb=16183,kb=16184,Ib=16185,Pb=16186,Lb=16187,Cb=16188,Ob=16189,cg=16190,Ls=16191,v0=16192,Rb=16193,y0=16194,Db=16195,jb=16196,Mb=16197,Fb=16198,jd=16199,Md=16200,Bb=16201,Ub=16202,Vb=16203,qb=16204,zb=16205,_0=16206,Hb=16207,$b=16208,kn=16209,YS=16210,QS=16211,VU=852,qU=592,zU=15,HU=zU,Wb=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function $U(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<lm||e.mode>QS?1:0},XS=t=>{if(hu(t))return wo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=lm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(VU),e.distcode=e.distdyn=new Int32Array(qU),e.sane=1,e.back=-1,ou},JS=t=>{if(hu(t))return wo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,XS(t)},ZS=(t,e)=>{let n;if(hu(t))return wo;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,JS(t))},eN=(t,e)=>{if(!t)return wo;const n=new $U;t.state=n,n.strm=t,n.window=null,n.mode=lm;const r=ZS(t,e);return r!==ou&&(t.state=null),r},WU=t=>eN(t,HU);let Gb=!0,w0,b0;const GU=t=>{if(Gb){w0=new Int32Array(512),b0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Yf($S,t.lens,0,288,w0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Yf(WS,t.lens,0,32,b0,0,t.work,{bits:5}),Gb=!1}t.lencode=w0,t.lenbits=9,t.distcode=b0,t.distbits=5},tN=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},KU=(t,e)=>{let n,r,i,o,s,a,l,u,c,h,d,f,y,_,x=0,p,v,A,w,C,B,L,N;const T=new Uint8Array(4);let k,E;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hu(t)||!t.output||!t.input&&t.avail_in!==0)return wo;n=t.state,n.mode===Ls&&(n.mode=v0),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,h=a,d=l,N=ou;e:for(;;)switch(n.mode){case lm:if(n.wrap===0){n.mode=v0;break}for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=u&255,T[1]=u>>>8&255,n.check=rs(n.check,T,2,0),u=0,c=0,n.mode=Sb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=kn;break}if((u&15)!==Ab){t.msg="unknown compression method",n.mode=kn;break}if(u>>>=4,c-=4,L=(u&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){t.msg="invalid window size",n.mode=kn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Ob:Ls,u=0,c=0;break;case Sb:for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==Ab){t.msg="unknown compression method",n.mode=kn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=kn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=rs(n.check,T,2,0)),u=0,c=0,n.mode=Nb;case Nb:for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=rs(n.check,T,4,0)),u=0,c=0,n.mode=Tb;case Tb:for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=rs(n.check,T,2,0)),u=0,c=0,n.mode=kb;case kb:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=rs(n.check,T,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=Ib;case Ib:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),L)),n.flags&512&&n.wrap&4&&(n.check=rs(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=Pb;case Pb:if(n.flags&2048){if(a===0)break e;f=0;do L=r[o+f++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=rs(n.check,r,f,o)),a-=f,o+=f,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Lb;case Lb:if(n.flags&4096){if(a===0)break e;f=0;do L=r[o+f++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=rs(n.check,r,f,o)),a-=f,o+=f,L)break e}else n.head&&(n.head.comment=null);n.mode=Cb;case Cb:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=kn;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ls;break;case Ob:for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}t.adler=n.check=Wb(u),u=0,c=0,n.mode=cg;case cg:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,BU;t.adler=n.check=1,n.mode=Ls;case Ls:if(e===MU||e===Dd)break e;case v0:if(n.last){u>>>=c&7,c-=c&7,n.mode=_0;break}for(;c<3;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=Rb;break;case 1:if(GU(n),n.mode=jd,e===Dd){u>>>=2,c-=2;break e}break;case 2:n.mode=jb;break;case 3:t.msg="invalid block type",n.mode=kn}u>>>=2,c-=2;break;case Rb:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=kn;break}if(n.length=u&65535,u=0,c=0,n.mode=y0,e===Dd)break e;case y0:n.mode=Db;case Db:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=Ls;break;case jb:for(;c<14;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=kn;break}n.have=0,n.mode=Mb;case Mb:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.lens[S[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},N=Yf(jU,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,N){t.msg="invalid code lengths set",n.mode=kn;break}n.have=0,n.mode=Fb;case Fb:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],p=x>>>24,v=x>>>16&255,A=x&65535,!(p<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(A<16)u>>>=p,c-=p,n.lens[n.have++]=A;else{if(A===16){for(E=p+2;c<E;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(u>>>=p,c-=p,n.have===0){t.msg="invalid bit length repeat",n.mode=kn;break}L=n.lens[n.have-1],f=3+(u&3),u>>>=2,c-=2}else if(A===17){for(E=p+3;c<E;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=p,c-=p,L=0,f=3+(u&7),u>>>=3,c-=3}else{for(E=p+7;c<E;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=p,c-=p,L=0,f=11+(u&127),u>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=kn;break}for(;f--;)n.lens[n.have++]=L}}if(n.mode===kn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=kn;break}if(n.lenbits=9,k={bits:n.lenbits},N=Yf($S,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,N){t.msg="invalid literal/lengths set",n.mode=kn;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},N=Yf(WS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,N){t.msg="invalid distances set",n.mode=kn;break}if(n.mode=jd,e===Dd)break e;case jd:n.mode=Md;case Md:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,PU(t,d),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===Ls&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],p=x>>>24,v=x>>>16&255,A=x&65535,!(p<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(v&&!(v&240)){for(w=p,C=v,B=A;x=n.lencode[B+((u&(1<<w+C)-1)>>w)],p=x>>>24,v=x>>>16&255,A=x&65535,!(w+p<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=w,c-=w,n.back+=w}if(u>>>=p,c-=p,n.back+=p,n.length=A,v===0){n.mode=zb;break}if(v&32){n.back=-1,n.mode=Ls;break}if(v&64){t.msg="invalid literal/length code",n.mode=kn;break}n.extra=v&15,n.mode=Bb;case Bb:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Ub;case Ub:for(;x=n.distcode[u&(1<<n.distbits)-1],p=x>>>24,v=x>>>16&255,A=x&65535,!(p<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(!(v&240)){for(w=p,C=v,B=A;x=n.distcode[B+((u&(1<<w+C)-1)>>w)],p=x>>>24,v=x>>>16&255,A=x&65535,!(w+p<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=w,c-=w,n.back+=w}if(u>>>=p,c-=p,n.back+=p,v&64){t.msg="invalid distance code",n.mode=kn;break}n.offset=A,n.extra=v&15,n.mode=Vb;case Vb:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=kn;break}n.mode=qb;case qb:if(l===0)break e;if(f=d-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=kn;break}f>n.wnext?(f-=n.wnext,y=n.wsize-f):y=n.wnext-f,f>n.length&&(f=n.length),_=n.window}else _=i,y=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=_[y++];while(--f);n.length===0&&(n.mode=Md);break;case zb:if(l===0)break e;i[s++]=n.length,l--,n.mode=Md;break;case _0:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[o++]<<c,c+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?rs(n.check,i,d,s-d):dv(n.check,i,d,s-d)),d=l,n.wrap&4&&(n.flags?u:Wb(u))!==n.check){t.msg="incorrect data check",n.mode=kn;break}u=0,c=0}n.mode=Hb;case Hb:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=kn;break}u=0,c=0}n.mode=$b;case $b:N=FU;break e;case kn:N=GS;break e;case YS:return KS;case QS:default:return wo}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<kn&&(n.mode<_0||e!==Eb))&&tN(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?rs(n.check,i,d,t.next_out-d):dv(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ls?128:0)+(n.mode===jd||n.mode===y0?256:0),(h===0&&d===0||e===Eb)&&N===ou&&(N=UU),N},YU=t=>{if(hu(t))return wo;let e=t.state;return e.window&&(e.window=null),t.state=null,ou},QU=(t,e)=>{if(hu(t))return wo;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,ou):wo},XU=(t,e)=>{const n=e.length;let r,i,o;return hu(t)||(r=t.state,r.wrap!==0&&r.mode!==cg)?wo:r.mode===cg&&(i=1,i=dv(i,e,n,0),i!==r.check)?GS:(o=tN(t,e,n,n),o?(r.mode=YS,KS):(r.havedict=1,ou))};var JU=JS,ZU=ZS,eV=XS,tV=WU,nV=eN,rV=KU,iV=YU,oV=QU,sV=XU,aV="pako inflate (from Nodeca project)",Rs={inflateReset:JU,inflateReset2:ZU,inflateResetKeep:eV,inflateInit:tV,inflateInit2:nV,inflate:rV,inflateEnd:iV,inflateGetHeader:oV,inflateSetDictionary:sV,inflateInfo:aV};function lV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uV=lV;const nN=Object.prototype.toString,{Z_NO_FLUSH:cV,Z_FINISH:fV,Z_OK:Th,Z_STREAM_END:x0,Z_NEED_DICT:E0,Z_STREAM_ERROR:hV,Z_DATA_ERROR:Kb,Z_MEM_ERROR:dV}=qS;function Wh(t){this.options=zS.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kU,this.strm.avail_out=0;let n=Rs.inflateInit2(this.strm,e.windowBits);if(n!==Th)throw new Error(pv[n]);if(this.header=new uV,Rs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=gv.string2buf(e.dictionary):nN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Rs.inflateSetDictionary(this.strm,e.dictionary),n!==Th)))throw new Error(pv[n])}Wh.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?fV:cV,nN.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Rs.inflate(n,s),o===E0&&i&&(o=Rs.inflateSetDictionary(n,i),o===Th?o=Rs.inflate(n,s):o===Kb&&(o=E0));n.avail_in>0&&o===x0&&n.state.wrap>0&&t[n.next_in]!==0;)Rs.inflateReset(n),o=Rs.inflate(n,s);switch(o){case hV:case Kb:case E0:case dV:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===x0))if(this.options.to==="string"){let l=gv.utf8border(n.output,n.next_out),u=n.next_out-l,c=gv.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Th&&a===0)){if(o===x0)return o=Rs.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Wh.prototype.onData=function(t){this.chunks.push(t)};Wh.prototype.onEnd=function(t){t===Th&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zS.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function pV(t,e){const n=new Wh(e);if(n.push(t),n.err)throw n.msg||pv[n.err];return n.result}var gV=Wh,mV=pV,vV={Inflate:gV,inflate:mV};const{Inflate:yV,inflate:_V}=vV;var Yb=yV,wV=_V;const rN=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;rN[t]=e}const Qb=4294967295;function bV(t,e,n){let r=t;for(let i=0;i<n;i++)r=rN[(r^e[i])&255]^r>>>8;return r}function xV(t,e){return(bV(Qb,t,e)^Qb)>>>0}function Xb(t,e,n){const r=t.readUint32(),i=xV(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function iN(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function oN(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function sN(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function aN(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function lN(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+EV(e[o-i],n[o],n[o-i])&255}}function EV(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function AV(t,e,n,r,i,o){switch(t){case 0:iN(e,n,i);break;case 1:oN(e,n,i,o);break;case 2:sN(e,n,r,i);break;case 3:aN(e,n,r,i,o);break;case 4:lN(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const SV=new Uint16Array([255]),NV=new Uint8Array(SV.buffer),TV=NV[0]===255;function kV(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let c=0;c<7;c++){const h=s[c],d=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((r-h.y)/h.yStep);if(d<=0||f<=0)continue;const y=d*a,_=new Uint8Array(y);for(let x=0;x<f;x++){const p=e[u++],v=e.subarray(u,u+y);u+=y;const A=new Uint8Array(y);AV(p,v,A,_,y,a),_.set(A);for(let w=0;w<d;w++){const C=h.x+w*h.xStep,B=h.y+x*h.yStep;if(!(C>=n||B>=r))for(let L=0;L<a;L++)l[(B*n+C)*a+L]=A[w*a+L]}}}if(o===16){const c=new Uint16Array(l.buffer);if(TV)for(let h=0;h<c.length;h++)c[h]=IV(c[h]);return c}else return l}function IV(t){return(t&255)<<8|t>>8&255}const PV=new Uint16Array([255]),LV=new Uint8Array(PV.buffer),CV=LV[0]===255,OV=new Uint8Array(0);function Jb(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),l=new Uint8Array(r*a);let u=OV,c=0,h,d;for(let f=0;f<r;f++){switch(h=e.subarray(c+1,c+1+a),d=l.subarray(f*a,(f+1)*a),e[c]){case 0:iN(h,d,a);break;case 1:oN(h,d,a,s);break;case 2:sN(h,d,u,a);break;case 3:aN(h,d,u,a,s);break;case 4:lN(h,d,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=d,c+=a+1}if(o===16){const f=new Uint16Array(l.buffer);if(CV)for(let y=0;y<f.length;y++)f[y]=RV(f[y]);return f}else return l}function RV(t){return(t&255)<<8|t>>8&255}const cp=Uint8Array.of(137,80,78,71,13,10,26,10);function Zb(t){if(!DV(t.readBytes(cp.length)))throw new Error("wrong PNG signature")}function DV(t){if(t.length<cp.length)return!1;for(let e=0;e<cp.length;e++)if(t[e]!==cp[e])return!1;return!0}const jV="tEXt",MV=0,uN=new TextDecoder("latin1");function FV(t){if(UV(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const BV=/^[\u0000-\u00FF]*$/;function UV(t){if(!BV.test(t))throw new Error("invalid latin1 text")}function VV(t,e,n){const r=cN(e);t[r]=qV(e,n-r.length-1)}function cN(t){for(t.mark();t.readByte()!==MV;);const e=t.offset;t.reset();const n=uN.decode(t.readBytes(e-t.offset-1));return t.skip(1),FV(n),n}function qV(t,e){return uN.decode(t.readBytes(e))}const Bi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},A0={UNKNOWN:-1,DEFLATE:0},ex={UNKNOWN:-1,ADAPTIVE:0},S0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Fd={NONE:0,BACKGROUND:1,PREVIOUS:2},N0={SOURCE:0,OVER:1};class zV extends S2{constructor(n,r={}){super(n);on(this,"_checkCrc");on(this,"_inflator");on(this,"_png");on(this,"_apng");on(this,"_end");on(this,"_hasPalette");on(this,"_palette");on(this,"_hasTransparency");on(this,"_transparency");on(this,"_compressionMethod");on(this,"_filterMethod");on(this,"_interlaceMethod");on(this,"_colorType");on(this,"_isAnimated");on(this,"_numberOfFrames");on(this,"_numberOfPlays");on(this,"_frames");on(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Yb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=A0.UNKNOWN,this._filterMethod=ex.UNKNOWN,this._interlaceMethod=S0.UNKNOWN,this._colorType=Bi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Zb(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Zb(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case jV:VV(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Xb(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Xb(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=HV(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Bi.GREYSCALE:i=1;break;case Bi.TRUECOLOUR:i=3;break;case Bi.INDEXED_COLOUR:i=1;break;case Bi.GREYSCALE_ALPHA:i=2;break;case Bi.TRUECOLOUR_ALPHA:i=4;break;case Bi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==A0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<r;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Bi.GREYSCALE:case Bi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Bi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Bi.UNKNOWN:case Bi.GREYSCALE_ALPHA:case Bi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=cN(this),i=this.readUint8();if(i!==A0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:wV(o)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Jb({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(i,o,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Fd.NONE:break;case Fd.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const a=(o*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Fd.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,o=(s,a)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(s*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case N0.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case N0.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let c=0;c<this._png.channels;c++){const h=r.data[u+this._png.channels-1]/i,d=c%(this._png.channels-1)===0?1:r.data[u+c],f=Math.floor(h*d+(1-h)*n.data[l+c]);n.data[l+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==ex.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===S0.NO_INTERLACE)this._png.data=Jb({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===S0.ADAM7)this._png.data=kV({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Fd.NONE,blendOp:N0.SOURCE,data:n}),this._inflator=new Yb,this._writingDataChunks=!1}}function HV(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var tx;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(tx||(tx={}));function $V(t,e){return new zV(t,e).decode()}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function T0(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var pn={log:T0,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):T0.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):T0(t))}};function k0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ol(r.response,e,n)},r.onerror=function(){pn.error("could not download file")},r.send()}function nx(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ol=wt.saveAs||((typeof window>"u"?"undefined":sn(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=wt.URL||wt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?nx(i.href)?k0(t,e,n):Bd(i,i.target="_blank"):Bd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(nx(t))k0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Bd(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:sn(o)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return k0(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(wt.HTMLElement)||wt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":sn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var fp=wt.atob.bind(wt),rx=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function I0(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=Gr(n,r,i,o,e[0],7,-680876936),o=Gr(o,n,r,i,e[1],12,-389564586),i=Gr(i,o,n,r,e[2],17,606105819),r=Gr(r,i,o,n,e[3],22,-1044525330),n=Gr(n,r,i,o,e[4],7,-176418897),o=Gr(o,n,r,i,e[5],12,1200080426),i=Gr(i,o,n,r,e[6],17,-1473231341),r=Gr(r,i,o,n,e[7],22,-45705983),n=Gr(n,r,i,o,e[8],7,1770035416),o=Gr(o,n,r,i,e[9],12,-1958414417),i=Gr(i,o,n,r,e[10],17,-42063),r=Gr(r,i,o,n,e[11],22,-1990404162),n=Gr(n,r,i,o,e[12],7,1804603682),o=Gr(o,n,r,i,e[13],12,-40341101),i=Gr(i,o,n,r,e[14],17,-1502002290),n=Kr(n,r=Gr(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Kr(o,n,r,i,e[6],9,-1069501632),i=Kr(i,o,n,r,e[11],14,643717713),r=Kr(r,i,o,n,e[0],20,-373897302),n=Kr(n,r,i,o,e[5],5,-701558691),o=Kr(o,n,r,i,e[10],9,38016083),i=Kr(i,o,n,r,e[15],14,-660478335),r=Kr(r,i,o,n,e[4],20,-405537848),n=Kr(n,r,i,o,e[9],5,568446438),o=Kr(o,n,r,i,e[14],9,-1019803690),i=Kr(i,o,n,r,e[3],14,-187363961),r=Kr(r,i,o,n,e[8],20,1163531501),n=Kr(n,r,i,o,e[13],5,-1444681467),o=Kr(o,n,r,i,e[2],9,-51403784),i=Kr(i,o,n,r,e[7],14,1735328473),n=Yr(n,r=Kr(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Yr(o,n,r,i,e[8],11,-2022574463),i=Yr(i,o,n,r,e[11],16,1839030562),r=Yr(r,i,o,n,e[14],23,-35309556),n=Yr(n,r,i,o,e[1],4,-1530992060),o=Yr(o,n,r,i,e[4],11,1272893353),i=Yr(i,o,n,r,e[7],16,-155497632),r=Yr(r,i,o,n,e[10],23,-1094730640),n=Yr(n,r,i,o,e[13],4,681279174),o=Yr(o,n,r,i,e[0],11,-358537222),i=Yr(i,o,n,r,e[3],16,-722521979),r=Yr(r,i,o,n,e[6],23,76029189),n=Yr(n,r,i,o,e[9],4,-640364487),o=Yr(o,n,r,i,e[12],11,-421815835),i=Yr(i,o,n,r,e[15],16,530742520),n=Qr(n,r=Yr(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Qr(o,n,r,i,e[7],10,1126891415),i=Qr(i,o,n,r,e[14],15,-1416354905),r=Qr(r,i,o,n,e[5],21,-57434055),n=Qr(n,r,i,o,e[12],6,1700485571),o=Qr(o,n,r,i,e[3],10,-1894986606),i=Qr(i,o,n,r,e[10],15,-1051523),r=Qr(r,i,o,n,e[1],21,-2054922799),n=Qr(n,r,i,o,e[8],6,1873313359),o=Qr(o,n,r,i,e[15],10,-30611744),i=Qr(i,o,n,r,e[6],15,-1560198380),r=Qr(r,i,o,n,e[13],21,1309151649),n=Qr(n,r,i,o,e[4],6,-145523070),o=Qr(o,n,r,i,e[11],10,-1120210379),i=Qr(i,o,n,r,e[2],15,718787259),r=Qr(r,i,o,n,e[9],21,-343485551),t[0]=qa(n,t[0]),t[1]=qa(r,t[1]),t[2]=qa(i,t[2]),t[3]=qa(o,t[3])}function um(t,e,n,r,i,o){return e=qa(qa(e,t),qa(r,o)),qa(e<<i|e>>>32-i,n)}function Gr(t,e,n,r,i,o,s){return um(e&n|~e&r,t,e,i,o,s)}function Kr(t,e,n,r,i,o,s){return um(e&r|n&~r,t,e,i,o,s)}function Yr(t,e,n,r,i,o,s){return um(e^n^r,t,e,i,o,s)}function Qr(t,e,n,r,i,o,s){return um(n^(e|~r),t,e,i,o,s)}function hN(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)I0(r,WV(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(I0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,I0(r,i),r}function WV(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var ix="0123456789abcdef".split("");function GV(t){for(var e="",n=0;n<4;n++)e+=ix[t>>8*n+4&15]+ix[t>>8*n&15];return e}function KV(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function mv(t){return hN(t).map(KV).join("")}var YV=function(t){for(var e=0;e<t.length;e++)t[e]=GV(t[e]);return t.join("")}(hN("hello"))!="5d41402abc4b2a76b9719d911017c592";function qa(t,e){if(YV){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vv(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+s.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var h=e.length,d=0,f=0,y="";for(l=0;l<h;l++)f=(f+(c=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=c,s=a[(a[d]+a[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ox={print:4,modify:8,copy:16,"annot-forms":32};function Cu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(ox.perm!==void 0)throw new Error("Invalid permission: "+a);i+=ox[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=mv(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=vv(this.encryptionKey,this.padding)}function Ou(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function sx(t){if(sn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){wt.console&&pn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fg(t){if(!(this instanceof fg))return new fg(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function dN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Rl(t,e,n,r,i){if(!(this instanceof Rl))return new Rl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,dN.call(this,r,i)}function Wu(t,e,n,r,i){if(!(this instanceof Wu))return new Wu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,dN.call(this,r,i)}function ct(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,u="S",c=null;sn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=sx;var y="1.3",_=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(P){y=P};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var p=f.__private__.getPageFormat=function(P){return x[P]};i=i||"a4";var v="compat",A="advanced",w=v;function C(){this.saveGraphicsState(),re(new gt(Xe,0,0,-Xe,0,ro()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),u="n",w=A}function B(){this.restoreGraphicsState(),u="S",w=v}var L=f.__private__.combineFontStyleAndFontWeight=function(P,H){if(P=="bold"&&H=="normal"||P=="bold"&&H==400||P=="normal"&&H=="italic"||P=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(P=H==400||H==="normal"?P==="italic"?"italic":"normal":H!=700&&H!=="bold"||P!=="normal"?(H==700?"bold":H)+""+P:"bold"),P};f.advancedAPI=function(P){var H=w===v;return H&&C.call(this),typeof P!="function"||(P(this),H&&B.call(this)),this},f.compatAPI=function(P){var H=w===A;return H&&B.call(this),typeof P!="function"||(P(this),H&&C.call(this)),this},f.isAdvancedAPI=function(){return w===A};var N,T=function(P){if(w!==A)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=f.roundToPrecision=f.__private__.roundToPrecision=function(P,H){var le=e||H;if(isNaN(P)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(le).replace(/0+$/,"")};N=f.hpf=f.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return k(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return k(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return k(P,16)};var E=f.f2=f.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return k(P,2)},S=f.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return k(P,3)},I=f.scale=f.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?P*Xe:w===A?P:void 0},U=function(P){return I(function(H){return w===v?ro()-H:w===A?H:void 0}(P))};f.__private__.setPrecision=f.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var G,oe="00000000000000000000000000000000",se=f.__private__.getFileId=function(){return oe},te=f.__private__.setFileId=function(P){return oe=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(fn=new Cu(c.userPermissions,c.userPassword,c.ownerPassword,oe)),oe};f.setFileId=function(P){return te(P),this},f.getFileId=function(){return se()};var Z=f.__private__.convertDateToPDFDate=function(P){var H=P.getTimezoneOffset(),le=H<0?"+":"-",de=Math.floor(Math.abs(H/60)),ve=Math.abs(H%60),Ie=[le,W(de),"'",W(ve),"'"].join("");return["D:",P.getFullYear(),W(P.getMonth()+1),W(P.getDate()),W(P.getHours()),W(P.getMinutes()),W(P.getSeconds()),Ie].join("")},X=f.__private__.convertPDFDateToDate=function(P){var H=parseInt(P.substr(2,4),10),le=parseInt(P.substr(6,2),10)-1,de=parseInt(P.substr(8,2),10),ve=parseInt(P.substr(10,2),10),Ie=parseInt(P.substr(12,2),10),Re=parseInt(P.substr(14,2),10);return new Date(H,le,de,ve,Ie,Re,0)},z=f.__private__.setCreationDate=function(P){var H;if(P===void 0&&(P=new Date),P instanceof Date)H=Z(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=P}return G=H},R=f.__private__.getCreationDate=function(P){var H=G;return P==="jsDate"&&(H=X(G)),H};f.setCreationDate=function(P){return z(P),this},f.getCreationDate=function(P){return R(P)};var F,W=f.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},K=f.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},q=0,Q=[],ae=[],fe=0,he=[],be=[],Le=!1,Oe=ae;f.__private__.setCustomOutputDestination=function(P){Le=!0,Oe=P};var Ue=function(P){Le||(Oe=P)};f.__private__.resetCustomOutputDestination=function(){Le=!1,Oe=ae};var re=f.__private__.out=function(P){return P=P.toString(),fe+=P.length+1,Oe.push(P),Oe},qe=f.__private__.write=function(P){return re(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},it=f.__private__.getArrayBuffer=function(P){for(var H=P.length,le=new ArrayBuffer(H),de=new Uint8Array(le);H--;)de[H]=P.charCodeAt(H);return le},ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ye};var pe=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(P){return pe=w===A?P/Xe:P,this};var Te,Ne=f.__private__.getFontSize=f.getFontSize=function(){return w===v?pe:pe*Xe},Se=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(P){return Se=P,this},f.__private__.getR2L=f.getR2L=function(){return Se};var Fe,We=f.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Te=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Te=P}else Te=parseInt(P,10)};f.__private__.getZoomMode=function(){return Te};var $e,Ge=f.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Fe=P};f.__private__.getPageMode=function(){return Fe};var at=f.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');$e=P};f.__private__.getLayoutMode=function(){return $e},f.__private__.setDisplayMode=f.setDisplayMode=function(P,H,le){return We(P),at(H),Ge(le),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(P){if(Object.keys(Ze).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[P]},f.__private__.getDocumentProperties=function(){return Ze},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(P){for(var H in Ze)Ze.hasOwnProperty(H)&&P[H]&&(Ze[H]=P[H]);return this},f.__private__.setDocumentProperty=function(P,H){if(Object.keys(Ze).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[P]=H};var nt,Xe,Ke,cn,Mt,It={},Tt={},gn=[],ht={},Jt={},mt={},bt={},Zt=null,Pt=0,dt=[],Rt=new sx(f),qo=t.hotfixes||[],Wn={},Yi={},Br=[],gt=function P(H,le,de,ve,Ie,Re){if(!(this instanceof P))return new P(H,le,de,ve,Ie,Re);isNaN(H)&&(H=1),isNaN(le)&&(le=0),isNaN(de)&&(de=0),isNaN(ve)&&(ve=1),isNaN(Ie)&&(Ie=0),isNaN(Re)&&(Re=0),this._matrix=[H,le,de,ve,Ie,Re]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(P)},gt.prototype.multiply=function(P){var H=P.sx*this.sx+P.shy*this.shx,le=P.sx*this.shy+P.shy*this.sy,de=P.shx*this.sx+P.sy*this.shx,ve=P.shx*this.shy+P.sy*this.sy,Ie=P.tx*this.sx+P.ty*this.shx+this.tx,Re=P.tx*this.shy+P.ty*this.sy+this.ty;return new gt(H,le,de,ve,Ie,Re)},gt.prototype.decompose=function(){var P=this.sx,H=this.shy,le=this.shx,de=this.sy,ve=this.tx,Ie=this.ty,Re=Math.sqrt(P*P+H*H),Ye=(P/=Re)*le+(H/=Re)*de;le-=P*Ye,de-=H*Ye;var ot=Math.sqrt(le*le+de*de);return Ye/=ot,P*(de/=ot)<H*(le/=ot)&&(P=-P,H=-H,Ye=-Ye,Re=-Re),{scale:new gt(Re,0,0,ot,0,0),translate:new gt(1,0,0,1,ve,Ie),rotate:new gt(P,H,-H,P,0,0),skew:new gt(1,0,Ye,1,0,0)}},gt.prototype.toString=function(P){return this.join(" ")},gt.prototype.inversed=function(){var P=this.sx,H=this.shy,le=this.shx,de=this.sy,ve=this.tx,Ie=this.ty,Re=1/(P*de-H*le),Ye=de*Re,ot=-H*Re,yt=-le*Re,Et=P*Re;return new gt(Ye,ot,yt,Et,-Ye*ve-yt*Ie,-ot*ve-Et*Ie)},gt.prototype.applyToPoint=function(P){var H=P.x*this.sx+P.y*this.shx+this.tx,le=P.x*this.shy+P.y*this.sy+this.ty;return new to(H,le)},gt.prototype.applyToRectangle=function(P){var H=this.applyToPoint(P),le=this.applyToPoint(new to(P.x+P.w,P.y+P.h));return new da(H.x,H.y,le.x-H.x,le.y-H.y)},gt.prototype.clone=function(){var P=this.sx,H=this.shy,le=this.shx,de=this.sy,ve=this.tx,Ie=this.ty;return new gt(P,H,le,de,ve,Ie)},f.Matrix=gt;var _n=f.matrixMult=function(P,H){return H.multiply(P)},Qi=new gt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Qi;var yr=function(P,H){if(!Jt[P]){var le=(H instanceof Rl?"Sh":"P")+(Object.keys(ht).length+1).toString(10);H.id=le,Jt[P]=le,ht[le]=H,Rt.publish("addPattern",H)}};f.ShadingPattern=Rl,f.TilingPattern=Wu,f.addShadingPattern=function(P,H){return T("addShadingPattern()"),yr(P,H),this},f.beginTilingPattern=function(P){T("beginTilingPattern()"),Qo(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},f.endTilingPattern=function(P,H){T("endTilingPattern()"),H.stream=be[F].join(`
`),yr(P,H),Rt.publish("endTilingPattern",H),Br.pop().restore()};var _r,Nn=f.__private__.newObject=function(){var P=rr();return Tn(P,!0),P},rr=f.__private__.newObjectDeferred=function(){return q++,Q[q]=function(){return fe},q},Tn=function(P,H){return H=typeof H=="boolean"&&H,Q[P]=fe,H&&re(P+" 0 obj"),P},ms=f.__private__.newAdditionalObject=function(){var P={objId:rr(),content:""};return he.push(P),P},zo=rr(),Ur=rr(),Ni=f.__private__.decodeColorString=function(P){var H=P.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var le=parseFloat(H[0]);H=[le,le,le,"r"]}for(var de="#",ve=0;ve<3;ve++)de+=("0"+Math.floor(255*parseFloat(H[ve])).toString(16)).slice(-2);return de},ni=f.__private__.encodeColorString=function(P){var H;typeof P=="string"&&(P={ch1:P});var le=P.ch1,de=P.ch2,ve=P.ch3,Ie=P.ch4,Re=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var Ye=new fN(le);if(Ye.ok)le=Ye.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var ot=parseInt(le.substr(1),16);le=ot>>16&255,de=ot>>8&255,ve=255&ot}if(de===void 0||Ie===void 0&&le===de&&de===ve)H=typeof le=="string"?le+" "+Re[0]:P.precision===2?E(le/255)+" "+Re[0]:S(le/255)+" "+Re[0];else if(Ie===void 0||sn(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",Re[1]].join(" ");H=typeof le=="string"?[le,de,ve,Re[1]].join(" "):P.precision===2?[E(le/255),E(de/255),E(ve/255),Re[1]].join(" "):[S(le/255),S(de/255),S(ve/255),Re[1]].join(" ")}else H=typeof le=="string"?[le,de,ve,Ie,Re[2]].join(" "):P.precision===2?[E(le),E(de),E(ve),E(Ie),Re[2]].join(" "):[S(le),S(de),S(ve),S(Ie),Re[2]].join(" ");return H},Vr=f.__private__.getFilters=function(){return s},Gn=f.__private__.putStream=function(P){var H=(P=P||{}).data||"",le=P.filters||Vr(),de=P.alreadyAppliedFilters||[],ve=P.addLength1||!1,Ie=H.length,Re=P.objectId,Ye=function(Un){return Un};if(c!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ye=fn.encryptor(Re,0));var ot={};le===!0&&(le=["FlateEncode"]);var yt=P.additionalKeyValues||[],Et=(ot=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(H,le):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(ot.data.length!==0&&(yt.push({key:"Length",value:ot.data.length}),ve===!0&&yt.push({key:"Length1",value:Ie})),Et.length!=0)if(Et.split("/").length-1==1)yt.push({key:"Filter",value:Et});else{yt.push({key:"Filter",value:"["+Et+"]"});for(var Bt=0;Bt<yt.length;Bt+=1)if(yt[Bt].key==="DecodeParms"){for(var Xt=[],Cn=0;Cn<ot.reverseChain.split("/").length-1;Cn+=1)Xt.push("null");Xt.push(yt[Bt].value),yt[Bt].value="["+Xt.join(" ")+"]"}}re("<<");for(var tn=0;tn<yt.length;tn++)re("/"+yt[tn].key+" "+yt[tn].value);re(">>"),ot.data.length!==0&&(re("stream"),re(Ye(ot.data)),re("endstream"))},Ho=f.__private__.putPage=function(P){var H=P.number,le=P.data,de=P.objId,ve=P.contentsObjId;Tn(de,!0),re("<</Type /Page"),re("/Parent "+P.rootDictionaryObjId+" 0 R"),re("/Resources "+P.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(N(P.mediaBox.bottomLeftX))+" "+parseFloat(N(P.mediaBox.bottomLeftY))+" "+N(P.mediaBox.topRightX)+" "+N(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&re("/CropBox ["+N(P.cropBox.bottomLeftX)+" "+N(P.cropBox.bottomLeftY)+" "+N(P.cropBox.topRightX)+" "+N(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&re("/BleedBox ["+N(P.bleedBox.bottomLeftX)+" "+N(P.bleedBox.bottomLeftY)+" "+N(P.bleedBox.topRightX)+" "+N(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&re("/TrimBox ["+N(P.trimBox.bottomLeftX)+" "+N(P.trimBox.bottomLeftY)+" "+N(P.trimBox.topRightX)+" "+N(P.trimBox.topRightY)+"]"),P.artBox!==null&&re("/ArtBox ["+N(P.artBox.bottomLeftX)+" "+N(P.artBox.bottomLeftY)+" "+N(P.artBox.topRightX)+" "+N(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&re("/UserUnit "+P.userUnit),Rt.publish("putPage",{objId:de,pageContext:dt[H],pageNumber:H,page:le}),re("/Contents "+ve+" 0 R"),re(">>"),re("endobj");var Ie=le.join(`
`);return w===A&&(Ie+=`
Q`),Tn(ve,!0),Gn({data:Ie,filters:Vr(),objectId:ve}),re("endobj"),de},Ti=f.__private__.putPages=function(){var P,H,le=[];for(P=1;P<=Pt;P++)dt[P].objId=rr(),dt[P].contentsObjId=rr();for(P=1;P<=Pt;P++)le.push(Ho({number:P,data:be[P],objId:dt[P].objId,contentsObjId:dt[P].contentsObjId,mediaBox:dt[P].mediaBox,cropBox:dt[P].cropBox,bleedBox:dt[P].bleedBox,trimBox:dt[P].trimBox,artBox:dt[P].artBox,userUnit:dt[P].userUnit,rootDictionaryObjId:zo,resourceDictionaryObjId:Ur}));Tn(zo,!0),re("<</Type /Pages");var de="/Kids [";for(H=0;H<Pt;H++)de+=le[H]+" 0 R ";re(de+"]"),re("/Count "+Pt),re(">>"),re("endobj"),Rt.publish("postPutPages")},bo=function(P){Rt.publish("putFont",{font:P,out:re,newObject:Nn,putStream:Gn}),P.isAlreadyPutted!==!0&&(P.objectNumber=Nn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Ou(P.postScriptName)),re("/Subtype /Type1"),typeof P.encoding=="string"&&re("/Encoding /"+P.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},$o=function(P){P.objectNumber=Nn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[N(P.x),N(P.y),N(P.x+P.width),N(P.y+P.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var le=P.pages[1].join(`
`);Gn({data:le,additionalKeyValues:H,objectId:P.objectNumber}),re("endobj")},vs=function(P,H){H||(H=21);var le=Nn(),de=function(Re,Ye){var ot,yt=[],Et=1/(Ye-1);for(ot=0;ot<1;ot+=Et)yt.push(ot);if(yt.push(1),Re[0].offset!=0){var Bt={offset:0,color:Re[0].color};Re.unshift(Bt)}if(Re[Re.length-1].offset!=1){var Xt={offset:1,color:Re[Re.length-1].color};Re.push(Xt)}for(var Cn="",tn=0,Un=0;Un<yt.length;Un++){for(ot=yt[Un];ot>Re[tn+1].offset;)tn++;var On=Re[tn].offset,Vn=(ot-On)/(Re[tn+1].offset-On),Rn=Re[tn].color,mi=Re[tn+1].color;Cn+=K(Math.round((1-Vn)*Rn[0]+Vn*mi[0]).toString(16))+K(Math.round((1-Vn)*Rn[1]+Vn*mi[1]).toString(16))+K(Math.round((1-Vn)*Rn[2]+Vn*mi[2]).toString(16))}return Cn.trim()}(P.colors,H),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+H+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gn({data:de,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),re("endobj"),P.objectNumber=Nn(),re("<< /ShadingType "+P.type),re("/ColorSpace /DeviceRGB");var Ie="/Coords ["+N(parseFloat(P.coords[0]))+" "+N(parseFloat(P.coords[1]))+" ";P.type===2?Ie+=N(parseFloat(P.coords[2]))+" "+N(parseFloat(P.coords[3])):Ie+=N(parseFloat(P.coords[2]))+" "+N(parseFloat(P.coords[3]))+" "+N(parseFloat(P.coords[4]))+" "+N(parseFloat(P.coords[5])),re(Ie+="]"),P.matrix&&re("/Matrix ["+P.matrix.toString()+"]"),re("/Function "+le+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},ys=function(P,H){var le=rr(),de=Nn();H.push({resourcesOid:le,objectOid:de}),P.objectNumber=de;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+P.boundingBox.map(N).join(" ")+"]"}),ve.push({key:"XStep",value:N(P.xStep)}),ve.push({key:"YStep",value:N(P.yStep)}),ve.push({key:"Resources",value:le+" 0 R"}),P.matrix&&ve.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Gn({data:P.stream,additionalKeyValues:ve,objectId:P.objectNumber}),re("endobj")},qc=function(P){for(var H in P.objectNumber=Nn(),re("<<"),P)switch(H){case"opacity":re("/ca "+E(P[H]));break;case"stroke-opacity":re("/CA "+E(P[H]))}re(">>"),re("endobj")},Wo=function(P){Tn(P.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in re("/Font <<"),It)It.hasOwnProperty(H)&&(h===!1||h===!0&&d.hasOwnProperty(H))&&re("/"+H+" "+It[H].objectNumber+" 0 R");re(">>")}(),function(){if(Object.keys(ht).length>0){for(var H in re("/Shading <<"),ht)ht.hasOwnProperty(H)&&ht[H]instanceof Rl&&ht[H].objectNumber>=0&&re("/"+H+" "+ht[H].objectNumber+" 0 R");Rt.publish("putShadingPatternDict"),re(">>")}}(),function(H){if(Object.keys(ht).length>0){for(var le in re("/Pattern <<"),ht)ht.hasOwnProperty(le)&&ht[le]instanceof f.TilingPattern&&ht[le].objectNumber>=0&&ht[le].objectNumber<H&&re("/"+le+" "+ht[le].objectNumber+" 0 R");Rt.publish("putTilingPatternDict"),re(">>")}}(P.objectOid),function(){if(Object.keys(mt).length>0){var H;for(H in re("/ExtGState <<"),mt)mt.hasOwnProperty(H)&&mt[H].objectNumber>=0&&re("/"+H+" "+mt[H].objectNumber+" 0 R");Rt.publish("putGStateDict"),re(">>")}}(),function(){for(var H in re("/XObject <<"),Wn)Wn.hasOwnProperty(H)&&Wn[H].objectNumber>=0&&re("/"+H+" "+Wn[H].objectNumber+" 0 R");Rt.publish("putXobjectDict"),re(">>")}(),re(">>"),re("endobj")},pl=function(P){Tt[P.fontName]=Tt[P.fontName]||{},Tt[P.fontName][P.fontStyle]=P.id},aa=function(P,H,le,de,ve){var Ie={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:P,fontName:H,fontStyle:le,encoding:de,isStandardFont:ve||!1,metadata:{}};return Rt.publish("addFont",{font:Ie,instance:this}),It[Ie.id]=Ie,pl(Ie),Ie.id},wr=f.__private__.pdfEscape=f.pdfEscape=function(P,H){return function(le,de){var ve,Ie,Re,Ye,ot,yt,Et,Bt,Xt;if(Re=(de=de||{}).sourceEncoding||"Unicode",ot=de.outputEncoding,(de.autoencode||ot)&&It[nt].metadata&&It[nt].metadata[Re]&&It[nt].metadata[Re].encoding&&(Ye=It[nt].metadata[Re].encoding,!ot&&It[nt].encoding&&(ot=It[nt].encoding),!ot&&Ye.codePages&&(ot=Ye.codePages[0]),typeof ot=="string"&&(ot=Ye[ot]),ot)){for(Et=!1,yt=[],ve=0,Ie=le.length;ve<Ie;ve++)(Bt=ot[le.charCodeAt(ve)])?yt.push(String.fromCharCode(Bt)):yt.push(le[ve]),yt[ve].charCodeAt(0)>>8&&(Et=!0);le=yt.join("")}for(ve=le.length;Et===void 0&&ve!==0;)le.charCodeAt(ve-1)>>8&&(Et=!0),ve--;if(!Et)return le;for(yt=de.noBOM?[]:[254,255],ve=0,Ie=le.length;ve<Ie;ve++){if((Xt=(Bt=le.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(Xt),yt.push(Bt-(Xt<<8))}return String.fromCharCode.apply(void 0,yt)}(P,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=f.__private__.beginPage=function(P){be[++Pt]=[],dt[Pt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ml(Pt),Ue(be[F])},la=function(P,H){var le,de,ve;switch(n=H||n,typeof P=="string"&&(le=p(P.toLowerCase()),Array.isArray(le)&&(de=le[0],ve=le[1])),Array.isArray(P)&&(de=P[0]*Xe,ve=P[1]*Xe),isNaN(de)&&(de=i[0],ve=i[1]),(de>14400||ve>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),ve=Math.min(14400,ve)),i=[de,ve],n.substr(0,1)){case"l":ve>de&&(i=[ve,de]);break;case"p":de>ve&&(i=[ve,de])}ki(i),vt(ca),re(Eo),un!==0&&re(un+" J"),xl!==0&&re(xl+" j"),Rt.publish("addPage",{pageNumber:Pt})},gl=function(P){P>0&&P<=Pt&&(be.splice(P,1),dt.splice(P,1),Pt--,F>Pt&&(F=Pt),this.setPage(F))},ml=function(P){P>0&&P<=Pt&&(F=P)},vl=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return be.length-1},yl=function(P,H,le){var de,ve=void 0;return le=le||{},P=P!==void 0?P:It[nt].fontName,H=H!==void 0?H:It[nt].fontStyle,de=P.toLowerCase(),Tt[de]!==void 0&&Tt[de][H]!==void 0?ve=Tt[de][H]:Tt[P]!==void 0&&Tt[P][H]!==void 0?ve=Tt[P][H]:le.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+P+"', '"+H+"'. Refer to getFontList() for available fonts."),ve||le.noFallback||(ve=Tt.times[H])==null&&(ve=Tt.times.normal),ve},pi=f.__private__.putInfo=function(){var P=Nn(),H=function(de){return de};for(var le in c!==null&&(H=fn.encryptor(P,0)),re("<<"),re("/Producer ("+wr(H("jsPDF "+ct.version))+")"),Ze)Ze.hasOwnProperty(le)&&Ze[le]&&re("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+wr(H(Ze[le]))+")");re("/CreationDate ("+wr(H(G))+")"),re(">>"),re("endobj")},Go=f.__private__.putCatalog=function(P){var H=(P=P||{}).rootDictionaryObjId||zo;switch(Nn(),re("<<"),re("/Type /Catalog"),re("/Pages "+H+" 0 R"),Te||(Te="fullwidth"),Te){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+Te;le.substr(le.length-1)==="%"&&(Te=parseInt(Te)/100),typeof Te=="number"&&re("/OpenAction [3 0 R /XYZ null null "+E(Te)+"]")}switch($e||($e="continuous"),$e){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Fe&&re("/PageMode /"+Fe),Rt.publish("putCatalog"),re(">>"),re("endobj")},pu=f.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(q+1)),re("/Root "+q+" 0 R"),re("/Info "+(q-1)+" 0 R"),c!==null&&re("/Encrypt "+fn.oid+" 0 R"),re("/ID [ <"+oe+"> <"+oe+"> ]"),re(">>")},Ln=f.__private__.putHeader=function(){re("%PDF-"+y),re("%")},gu=f.__private__.putXRef=function(){var P="0000000000";re("xref"),re("0 "+(q+1)),re("0000000000 65535 f ");for(var H=1;H<=q;H++)typeof Q[H]=="function"?re((P+Q[H]()).slice(-10)+" 00000 n "):Q[H]!==void 0?re((P+Q[H]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Xi=f.__private__.buildDocument=function(){var P;q=0,fe=0,ae=[],Q=[],he=[],zo=rr(),Ur=rr(),Ue(ae),Rt.publish("buildDocument"),Ln(),Ti(),function(){Rt.publish("putAdditionalObjects");for(var le=0;le<he.length;le++){var de=he[le];Tn(de.objId,!0),re(de.content),re("endobj")}Rt.publish("postPutAdditionalObjects")}(),P=[],function(){for(var le in It)It.hasOwnProperty(le)&&(h===!1||h===!0&&d.hasOwnProperty(le))&&bo(It[le])}(),function(){var le;for(le in mt)mt.hasOwnProperty(le)&&qc(mt[le])}(),function(){for(var le in Wn)Wn.hasOwnProperty(le)&&$o(Wn[le])}(),function(le){var de;for(de in ht)ht.hasOwnProperty(de)&&(ht[de]instanceof Rl?vs(ht[de]):ht[de]instanceof Wu&&ys(ht[de],le))}(P),Rt.publish("putResources"),P.forEach(Wo),Wo({resourcesOid:Ur,objectOid:Number.MAX_SAFE_INTEGER}),Rt.publish("postPutResources"),c!==null&&(fn.oid=Nn(),re("<<"),re("/Filter /Standard"),re("/V "+fn.v),re("/R "+fn.r),re("/U <"+fn.toHexString(fn.U)+">"),re("/O <"+fn.toHexString(fn.O)+">"),re("/P "+fn.P),re(">>"),re("endobj")),pi(),Go();var H=fe;return gu(),pu(),re("startxref"),re(""+H),re("%%EOF"),Ue(be[F]),ae.join(`
`)},_s=f.__private__.getBlob=function(P){return new Blob([it(P)],{type:"application/pdf"})},_l=f.output=f.__private__.output=(_r=function(P,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",P){case void 0:return Xi();case"save":f.save(H.filename);break;case"arraybuffer":return it(Xi());case"blob":return _s(Xi());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(_s(Xi()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",de=Xi();try{le=rx(de)}catch{le=rx(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+H.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(ve=H.pdfObjectUrl,Ie="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Ye=wt.open();return Ye!==null&&Ye.document.write(Re),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',yt=wt.open();if(yt!==null){yt.document.write(ot);var Et=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=H.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Xt=wt.open();if(Xt!==null&&(Xt.document.write(Bt),Xt.document.title=H.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",H);default:return null}},_r.foo=function(){try{return _r.apply(this,arguments)}catch(le){var P=le.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var H="Error in function "+P.split(`
`)[0].split("<")[0]+": "+le.message;if(!wt.console)throw new Error(H);wt.console.error(H,le),wt.alert&&alert(H)}},_r.foo.bar=_r,_r.foo),gi=function(P){return Array.isArray(qo)===!0&&qo.indexOf(P)>-1};switch(r){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=gi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Xe=r}var fn=null;z(),te();var lr=f.__private__.getPageInfo=f.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[P].objId,pageNumber:P,pageContext:dt[P]}},ws=f.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in dt)if(dt[H].objId===P)break;return lr(H)},ua=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:dt[F].objId,pageNumber:F,pageContext:dt[F]}};f.addPage=function(){return la.apply(this,arguments),this},f.setPage=function(){return ml.apply(this,arguments),Ue.call(this,be[F]),this},f.insertPage=function(P){return this.addPage(),this.movePage(F,P),this},f.movePage=function(P,H){var le,de;if(P>H){le=be[P],de=dt[P];for(var ve=P;ve>H;ve--)be[ve]=be[ve-1],dt[ve]=dt[ve-1];be[H]=le,dt[H]=de,this.setPage(H)}else if(P<H){le=be[P],de=dt[P];for(var Ie=P;Ie<H;Ie++)be[Ie]=be[Ie+1],dt[Ie]=dt[Ie+1];be[H]=le,dt[H]=de,this.setPage(H)}return this},f.deletePage=function(){return gl.apply(this,arguments),this},f.__private__.text=f.text=function(P,H,le,de,ve){var Ie,Re,Ye,ot,yt,Et,Bt,Xt,Cn,tn=(de=de||{}).scope||this;if(typeof P=="number"&&typeof H=="number"&&(typeof le=="string"||Array.isArray(le))){var Un=le;le=H,H=P,P=Un}if(arguments[3]instanceof gt==0?(Ye=arguments[4],ot=arguments[5],sn(Bt=arguments[3])==="object"&&Bt!==null||(typeof Ye=="string"&&(ot=Ye,Ye=null),typeof Bt=="string"&&(ot=Bt,Bt=null),typeof Bt=="number"&&(Ye=Bt,Bt=null),de={flags:Bt,angle:Ye,align:ot})):(T("The transform parameter of text() with a Matrix value"),Cn=ve),isNaN(H)||isNaN(le)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return tn;var On,Vn="",Rn=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Yo,mi=tn.internal.scaleFactor;function io(en){return en=en.split("	").join(Array(de.TabLen||9).join(" ")),wr(en,Bt)}function oo(en){for(var hn,Yn=en.concat(),ur=[],Ns=Yn.length;Ns--;)typeof(hn=Yn.shift())=="string"?ur.push(hn):Array.isArray(en)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?ur.push(hn[0]):ur.push([hn[0],hn[1],hn[2]]);return ur}function m(en,hn){var Yn;if(typeof en=="string")Yn=hn(en)[0];else if(Array.isArray(en)){for(var ur,Ns,nf=en.concat(),Eu=[],Kh=nf.length;Kh--;)typeof(ur=nf.shift())=="string"?Eu.push(hn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Ns=hn(ur[0],ur[1],ur[2]),Eu.push([Ns[0],Ns[1],Ns[2]]));Yn=Eu}return Yn}var D=!1,V=!0;if(typeof P=="string")D=!0;else if(Array.isArray(P)){var ne=P.concat();Re=[];for(var _e,Ae=ne.length;Ae--;)(typeof(_e=ne.shift())!="string"||Array.isArray(_e)&&typeof _e[0]!="string")&&(V=!1);D=V}if(D===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var ze=pe/tn.internal.scaleFactor,Vt=ze*(Rn-1);switch(de.baseline){case"bottom":le-=Vt;break;case"top":le+=ze-Vt;break;case"hanging":le+=ze-2*Vt;break;case"middle":le+=ze/2-Vt}if((Et=de.maxWidth||0)>0&&(typeof P=="string"?P=tn.splitTextToSize(P,Et):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(en,hn){return en.concat(tn.splitTextToSize(hn,Et))},[]))),Ie={text:P,x:H,y:le,options:de,mutex:{pdfEscape:wr,activeFontKey:nt,fonts:It,activeFontSize:pe}},Rt.publish("preProcessText",Ie),P=Ie.text,Ye=(de=Ie.options).angle,Cn instanceof gt==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,de.rotationDirection===0&&(Ye=-Ye),w===A&&(Ye=-Ye);var Dn=Math.cos(Ye),Dt=Math.sin(Ye);Cn=new gt(Dn,Dt,-Dt,Dn,0,0)}else Ye&&Ye instanceof gt&&(Cn=Ye);w!==A||Cn||(Cn=Qi),(yt=de.charSpace||eo)!==void 0&&(Vn+=N(I(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=de.horizontalScale)!==void 0&&(Vn+=N(100*Xt)+` Tz
`),de.lang;var Yt=-1,mn=de.renderingMode!==void 0?de.renderingMode:de.stroke,Pi=tn.internal.getCurrentPageInfo().pageContext;switch(mn){case 0:case!1:case"fill":Yt=0;break;case 1:case!0:case"stroke":Yt=1;break;case 2:case"fillThenStroke":Yt=2;break;case 3:case"invisible":Yt=3;break;case 4:case"fillAndAddForClipping":Yt=4;break;case 5:case"strokeAndAddPathForClipping":Yt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yt=6;break;case 7:case"addToPathForClipping":Yt=7}var qr=Pi.usedRenderingMode!==void 0?Pi.usedRenderingMode:-1;Yt!==-1?Vn+=Yt+` Tr
`:qr!==-1&&(Vn+=`0 Tr
`),Yt!==-1&&(Pi.usedRenderingMode=Yt),ot=de.align||"left";var Tr,Ao=pe*Rn,Yc=tn.internal.pageSize.getWidth(),Qc=It[nt];yt=de.charSpace||eo,Et=de.maxWidth||0,Bt=Object.assign({autoencode:!0,noBOM:!0},de.flags);var ga=[],Sl=function(en){return tn.getStringUnitWidth(en,{font:Qc,charSpace:yt,fontSize:pe,doKerning:!1})*pe/mi};if(Object.prototype.toString.call(P)==="[object Array]"){var Li;Re=oo(P),ot!=="left"&&(Tr=Re.map(Sl));var Ci,ma=0;if(ot==="right"){H-=Tr[0],P=[],Ae=Re.length;for(var Ss=0;Ss<Ae;Ss++)Ss===0?(Ci=br(H),Li=xo(le)):(Ci=I(ma-Tr[Ss]),Li=-Ao),P.push([Re[Ss],Ci,Li]),ma=Tr[Ss]}else if(ot==="center"){H-=Tr[0]/2,P=[],Ae=Re.length;for(var va=0;va<Ae;va++)va===0?(Ci=br(H),Li=xo(le)):(Ci=I((ma-Tr[va])/2),Li=-Ao),P.push([Re[va],Ci,Li]),ma=Tr[va]}else if(ot==="left"){P=[],Ae=Re.length;for(var Xc=0;Xc<Ae;Xc++)P.push(Re[Xc])}else if(ot==="justify"&&Qc.encoding==="Identity-H"){P=[],Ae=Re.length,Et=Et!==0?Et:Yc;for(var xu=0,Kn=0;Kn<Ae;Kn++)if(Li=Kn===0?xo(le):-Ao,Ci=Kn===0?br(H):xu,Kn<Ae-1){var Gh=I((Et-Tr[Kn])/(Re[Kn].split(" ").length-1)),Jo=Re[Kn].split(" ");P.push([Jo[0]+" ",Ci,Li]),xu=0;for(var Zo=1;Zo<Jo.length;Zo++){var Jc=(Sl(Jo[Zo-1]+" "+Jo[Zo])-Sl(Jo[Zo]))*mi+Gh;Zo==Jo.length-1?P.push([Jo[Zo],Jc,0]):P.push([Jo[Zo]+" ",Jc,0]),xu-=Jc}}else P.push([Re[Kn],Ci,Li]);P.push(["",xu,0])}else{if(ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Ae=Re.length,Et=Et!==0?Et:Yc,Kn=0;Kn<Ae;Kn++){Li=Kn===0?xo(le):-Ao,Ci=Kn===0?br(H):0;var Zc=Re[Kn].split(" ").length-1,ef=Zc>0?(Et-Tr[Kn])/Zc:0;Kn<Ae-1?ga.push(N(I(ef))):ga.push(0),P.push([Re[Kn],Ci,Li])}}}(typeof de.R2L=="boolean"?de.R2L:Se)===!0&&(P=m(P,function(en,hn,Yn){return[en.split("").reverse().join(""),hn,Yn]})),Ie={text:P,x:H,y:le,options:de,mutex:{pdfEscape:wr,activeFontKey:nt,fonts:It,activeFontSize:pe}},Rt.publish("postProcessText",Ie),P=Ie.text,On=Ie.mutex.isHex||!1;var tf=It[nt].encoding;tf!=="WinAnsiEncoding"&&tf!=="StandardEncoding"||(P=m(P,function(en,hn,Yn){return[io(en),hn,Yn]})),Re=oo(P),P=[];for(var ya,_a,wa,Nl=Array.isArray(Re[0])?1:0,ba="",Tl=function(en,hn,Yn){var ur="";return Yn instanceof gt?(Yn=typeof de.angle=="number"?_n(Yn,new gt(1,0,0,1,en,hn)):_n(new gt(1,0,0,1,en,hn),Yn),w===A&&(Yn=_n(new gt(1,0,0,-1,0,0),Yn)),ur=Yn.join(" ")+` Tm
`):ur=N(en)+" "+N(hn)+` Td
`,ur},so=0;so<Re.length;so++){switch(ba="",Nl){case 1:wa=(On?"<":"(")+Re[so][0]+(On?">":")"),ya=parseFloat(Re[so][1]),_a=parseFloat(Re[so][2]);break;case 0:wa=(On?"<":"(")+Re[so]+(On?">":")"),ya=br(H),_a=xo(le)}ga!==void 0&&ga[so]!==void 0&&(ba=ga[so]+` Tw
`),so===0?P.push(ba+Tl(ya,_a,Cn)+wa):Nl===0?P.push(ba+wa):Nl===1&&P.push(ba+Tl(ya,_a,Cn)+wa)}P=Nl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var es=`BT
/`;return es+=nt+" "+pe+` Tf
`,es+=N(pe*Rn)+` TL
`,es+=Ii+`
`,es+=Vn,es+=P,re(es+="ET"),d[nt]=!0,tn};var mu=f.__private__.clip=f.clip=function(P){return re(P==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return mu("evenodd")},f.__private__.discardPath=f.discardPath=function(){return re("n"),this};var Ft=f.__private__.isValidStyle=function(P){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(H=!0),H};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(P){return Ft(P)&&(u=P),this};var bs=f.__private__.getStyle=f.getStyle=function(P){var H=u;switch(P){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=P}return H},Ko=f.close=function(){return re("h"),this};f.stroke=function(){return re("S"),this},f.fill=function(P){return Ji("f",P),this},f.fillEvenOdd=function(P){return Ji("f*",P),this},f.fillStroke=function(P){return Ji("B",P),this},f.fillStrokeEvenOdd=function(P){return Ji("B*",P),this};var Ji=function(P,H){sn(H)==="object"?zc(H,P):re(P)},xs=function(P){P===null||w===A&&P===void 0||(P=bs(P),re(P))};function vu(P,H,le,de,ve){var Ie=new Wu(H||this.boundingBox,le||this.xStep,de||this.yStep,this.gState,ve||this.matrix);Ie.stream=this.stream;var Re=P+"$$"+this.cloneIndex+++"$$";return yr(Re,Ie),Ie}var zc=function(P,H){var le=Jt[P.key],de=ht[le];if(de instanceof Rl)re("q"),re(Hc(H)),de.gState&&f.setGState(de.gState),re(P.matrix.toString()+" cm"),re("/"+le+" sh"),re("Q");else if(de instanceof Wu){var ve=new gt(1,0,0,-1,0,ro());P.matrix&&(ve=ve.multiply(P.matrix||Qi),le=vu.call(de,P.key,P.boundingBox,P.xStep,P.yStep,ve).id),re("q"),re("/Pattern cs"),re("/"+le+" scn"),de.gState&&f.setGState(de.gState),re(H),re("Q")}},Hc=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wl=f.moveTo=function(P,H){return re(N(I(P))+" "+N(U(H))+" m"),this},yu=f.lineTo=function(P,H){return re(N(I(P))+" "+N(U(H))+" l"),this},Nr=f.curveTo=function(P,H,le,de,ve,Ie){return re([N(I(P)),N(U(H)),N(I(le)),N(U(de)),N(I(ve)),N(U(Ie)),"c"].join(" ")),this};f.__private__.line=f.line=function(P,H,le,de,ve){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(de)||!Ft(ve))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[le-P,de-H]],P,H,[1,1],ve||"S"):this.lines([[le-P,de-H]],P,H,[1,1]).stroke()},f.__private__.lines=f.lines=function(P,H,le,de,ve,Ie){var Re,Ye,ot,yt,Et,Bt,Xt,Cn,tn,Un,On,Vn;if(typeof P=="number"&&(Vn=le,le=H,H=P,P=Vn),de=de||[1,1],Ie=Ie||!1,isNaN(H)||isNaN(le)||!Array.isArray(P)||!Array.isArray(de)||!Ft(ve)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wl(H,le),Re=de[0],Ye=de[1],yt=P.length,Un=H,On=le,ot=0;ot<yt;ot++)(Et=P[ot]).length===2?(Un=Et[0]*Re+Un,On=Et[1]*Ye+On,yu(Un,On)):(Bt=Et[0]*Re+Un,Xt=Et[1]*Ye+On,Cn=Et[2]*Re+Un,tn=Et[3]*Ye+On,Un=Et[4]*Re+Un,On=Et[5]*Ye+On,Nr(Bt,Xt,Cn,tn,Un,On));return Ie&&Ko(),xs(ve),this},f.path=function(P){for(var H=0;H<P.length;H++){var le=P[H],de=le.c;switch(le.op){case"m":wl(de[0],de[1]);break;case"l":yu(de[0],de[1]);break;case"c":Nr.apply(this,de);break;case"h":Ko()}}return this},f.__private__.rect=f.rect=function(P,H,le,de,ve){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(de)||!Ft(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(de=-de),re([N(I(P)),N(U(H)),N(I(le)),N(I(de)),"re"].join(" ")),xs(ve),this},f.__private__.triangle=f.triangle=function(P,H,le,de,ve,Ie,Re){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(de)||isNaN(ve)||isNaN(Ie)||!Ft(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-P,de-H],[ve-le,Ie-de],[P-ve,H-Ie]],P,H,[1,1],Re,!0),this},f.__private__.roundedRect=f.roundedRect=function(P,H,le,de,ve,Ie,Re){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(de)||isNaN(ve)||isNaN(Ie)||!Ft(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*le),Ie=Math.min(Ie,.5*de),this.lines([[le-2*ve,0],[ve*Ye,0,ve,Ie-Ie*Ye,ve,Ie],[0,de-2*Ie],[0,Ie*Ye,-ve*Ye,Ie,-ve,Ie],[2*ve-le,0],[-ve*Ye,0,-ve,-Ie*Ye,-ve,-Ie],[0,2*Ie-de],[0,-Ie*Ye,ve*Ye,-Ie,ve,-Ie]],P+ve,H,[1,1],Re,!0),this},f.__private__.ellipse=f.ellipse=function(P,H,le,de,ve){if(isNaN(P)||isNaN(H)||isNaN(le)||isNaN(de)||!Ft(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*le,Re=4/3*(Math.SQRT2-1)*de;return wl(P+le,H),Nr(P+le,H-Re,P+Ie,H-de,P,H-de),Nr(P-Ie,H-de,P-le,H-Re,P-le,H),Nr(P-le,H+Re,P-Ie,H+de,P,H+de),Nr(P+Ie,H+de,P+le,H+Re,P+le,H),xs(ve),this},f.__private__.circle=f.circle=function(P,H,le,de){if(isNaN(P)||isNaN(H)||isNaN(le)||!Ft(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,H,le,le,de)},f.setFont=function(P,H,le){return le&&(H=L(H,le)),nt=yl(P,H,{disableWarning:!1}),this};var Zi=f.__private__.getFont=f.getFont=function(){return It[yl.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var P,H,le={};for(P in Tt)if(Tt.hasOwnProperty(P))for(H in le[P]=[],Tt[P])Tt[P].hasOwnProperty(H)&&le[P].push(H);return le},f.addFont=function(P,H,le,de,ve){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(le=L(le,de)),aa.call(this,P,H,le,ve=ve||"Identity-H")};var Yo,ca=t.lineWidth||.200025,_u=f.__private__.getLineWidth=f.getLineWidth=function(){return ca},vt=f.__private__.setLineWidth=f.setLineWidth=function(P){return ca=P,re(N(I(P))+" w"),this};f.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(P,H){if(P=P||[],H=H||0,isNaN(H)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(le){return N(I(le))}).join(" "),H=N(I(H)),re("["+P+"] "+H+" d"),this};var $c=f.__private__.getLineHeight=f.getLineHeight=function(){return pe*Yo};f.__private__.getLineHeight=f.getLineHeight=function(){return pe*Yo};var Wc=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Yo=P),this},Gc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Yo};Wc(t.lineHeight);var br=f.__private__.getHorizontalCoordinate=function(P){return I(P)},xo=f.__private__.getVerticalCoordinate=function(P){return w===A?P:dt[F].mediaBox.topRightY-dt[F].mediaBox.bottomLeftY-I(P)},Kc=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(P){return N(br(P))},fa=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(P){return N(xo(P))},Eo=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ni(Eo)},f.__private__.setStrokeColor=f.setDrawColor=function(P,H,le,de){return Eo=ni({ch1:P,ch2:H,ch3:le,ch4:de,pdfColorType:"draw",precision:2}),re(Eo),this};var ha=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ni(ha)},f.__private__.setFillColor=f.setFillColor=function(P,H,le,de){return ha=ni({ch1:P,ch2:H,ch3:le,ch4:de,pdfColorType:"fill",precision:2}),re(ha),this};var Ii=t.textColor||"0 g",Es=f.__private__.getTextColor=f.getTextColor=function(){return Ni(Ii)};f.__private__.setTextColor=f.setTextColor=function(P,H,le,de){return Ii=ni({ch1:P,ch2:H,ch3:le,ch4:de,pdfColorType:"text",precision:3}),this};var eo=t.charSpace,bl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(eo||0)};f.__private__.setCharSpace=f.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return eo=P,this};var un=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(P){var H=f.CapJoinStyles[P];if(H===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return un=H,re(H+" J"),this};var xl=0;f.__private__.setLineJoin=f.setLineJoin=function(P){var H=f.CapJoinStyles[P];if(H===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xl=H,re(H+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(N(I(P))+" M"),this},f.GState=fg,f.setGState=function(P){(P=typeof P=="string"?mt[bt[P]]:wu(null,P)).equals(Zt)||(re("/"+P.id+" gs"),Zt=P)};var wu=function(P,H){if(!P||!bt[P]){var le=!1;for(var de in mt)if(mt.hasOwnProperty(de)&&mt[de].equals(H)){le=!0;break}if(le)H=mt[de];else{var ve="GS"+(Object.keys(mt).length+1).toString(10);mt[ve]=H,H.id=ve}return P&&(bt[P]=H.id),Rt.publish("addGState",H),H}};f.addGState=function(P,H){return wu(P,H),this},f.saveGraphicsState=function(){return re("q"),gn.push({key:nt,size:pe,color:Ii}),this},f.restoreGraphicsState=function(){re("Q");var P=gn.pop();return nt=P.key,pe=P.size,Ii=P.color,Zt=null,this},f.setCurrentTransformationMatrix=function(P){return re(P.toString()+" cm"),this},f.comment=function(P){return re("#"+P),this};var to=function(P,H){var le=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Ie){isNaN(Ie)||(le=parseFloat(Ie))}});var de=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ie){isNaN(Ie)||(de=parseFloat(Ie))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ie){ve=Ie.toString()}}),this},da=function(P,H,le,de){to.call(this,P,H),this.type="rect";var ve=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Re){isNaN(Re)||(ve=parseFloat(Re))}});var Ie=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Re){isNaN(Re)||(Ie=parseFloat(Re))}}),this},As=function(){this.page=Pt,this.currentPage=F,this.pages=be.slice(0),this.pagesContext=dt.slice(0),this.x=Ke,this.y=cn,this.matrix=Mt,this.width=ri(F),this.height=bu(F),this.outputDestination=Oe,this.id="",this.objectNumber=-1};As.prototype.restore=function(){Pt=this.page,F=this.currentPage,dt=this.pagesContext,be=this.pages,Ke=this.x,cn=this.y,Mt=this.matrix,El(F,this.width),ii(F,this.height),Oe=this.outputDestination};var Qo=function(P,H,le,de,ve){Br.push(new As),Pt=F=0,be=[],Ke=P,cn=H,Mt=ve,ki([le,de])};for(var Xo in f.beginFormObject=function(P,H,le,de,ve){return Qo(P,H,le,de,ve),this},f.endFormObject=function(P){return function(H){if(Yi[H])Br.pop().restore();else{var le=new As,de="Xo"+(Object.keys(Wn).length+1).toString(10);le.id=de,Yi[H]=de,Wn[de]=le,Rt.publish("addFormObject",le),Br.pop().restore()}}(P),this},f.doFormObject=function(P,H){var le=Wn[Yi[P]];return re("q"),re(H.toString()+" cm"),re("/"+le.id+" Do"),re("Q"),this},f.getFormObject=function(P){var H=Wn[Yi[P]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},f.save=function(P,H){return P=P||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Ol(_s(Xi()),P),typeof Ol.unload=="function"&&wt.setTimeout&&setTimeout(Ol.unload,911),this):new Promise(function(le,de){try{var ve=Ol(_s(Xi()),P);typeof Ol.unload=="function"&&wt.setTimeout&&setTimeout(Ol.unload,911),le(ve)}catch(Ie){de(Ie.message)}})},ct.API)ct.API.hasOwnProperty(Xo)&&(Xo==="events"&&ct.API.events.length?function(P,H){var le,de,ve;for(ve=H.length-1;ve!==-1;ve--)le=H[ve][0],de=H[ve][1],P.subscribe.apply(P,[le].concat(typeof de=="function"?[de]:de))}(Rt,ct.API.events):f[Xo]=ct.API[Xo]);function ri(P){return dt[P].mediaBox.topRightX-dt[P].mediaBox.bottomLeftX}function El(P,H){dt[P].mediaBox.topRightX=H+dt[P].mediaBox.bottomLeftX}function bu(P){return dt[P].mediaBox.topRightY-dt[P].mediaBox.bottomLeftY}function ii(P,H){dt[P].mediaBox.topRightY=H+dt[P].mediaBox.bottomLeftY}var no=f.getPageWidth=function(P){return ri(P=P||F)/Xe},pa=f.setPageWidth=function(P,H){El(P,H*Xe)},ro=f.getPageHeight=function(P){return bu(P=P||F)/Xe},Al=f.setPageHeight=function(P,H){ii(P,H*Xe)};return f.internal={pdfEscape:wr,getStyle:bs,getFont:Zi,getFontSize:Ne,getCharSpace:bl,getTextColor:Es,getLineHeight:$c,getLineHeightFactor:Gc,getLineWidth:_u,write:qe,getHorizontalCoordinate:br,getVerticalCoordinate:xo,getCoordinateString:Kc,getVerticalCoordinateString:fa,collections:{},newObject:Nn,newAdditionalObject:ms,newObjectDeferred:rr,newObjectDeferredBegin:Tn,getFilters:Vr,putStream:Gn,events:Rt,scaleFactor:Xe,pageSize:{getWidth:function(){return no(F)},setWidth:function(P){pa(F,P)},getHeight:function(){return ro(F)},setHeight:function(P){Al(F,P)}},encryptionOptions:c,encryption:fn,getEncryptor:function(P){return c!==null?fn.encryptor(P,0):function(H){return H}},output:_l,getNumberOfPages:vl,get pages(){return be},out:re,f2:E,f3:S,getPageInfo:lr,getPageInfoByObjId:ws,getCurrentPageInfo:ua,getPDFVersion:_,Point:to,Rectangle:da,Matrix:gt,hasHotfix:gi},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return no(F)},set:function(P){pa(F,P)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ro(F)},set:function(P){Al(F,P)},enumerable:!0,configurable:!0}),(function(P){for(var H=0,le=ye.length;H<le;H++){var de=aa.call(this,P[H][0],P[H][1],P[H][2],ye[H][3],!0);h===!1&&(d[de]=!0);var ve=P[H][0].split("-");pl({id:de,fontName:ve[0],fontStyle:ve[1]||""})}Rt.publish("addFonts",{fonts:It,dictionary:Tt})}).call(f,ye),nt="F1",la(i,n),Rt.publish("initialized"),f}Cu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Cu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Cu.prototype.processOwnerPassword=function(t,e){return vv(mv(e).substr(0,5),t)},Cu.prototype.encryptor=function(t,e){var n=mv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return vv(n,r)}},fg.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||sn(t)!==sn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="3.0.4";var Hn=ct.API,N2=1,du=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},La=function(t){return t.toFixed(5)};Hn.__acroform__={};var Si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ax=function(t){return t*N2},is=function(t){var e=new gN,n=rt.internal.getHeight(t)||0,r=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(r)),Number(At(n))],e},QV=Hn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},XV=Hn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},JV=Hn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},er=Hn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JV(t,e-1)},tr=Hn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QV(t,e-1)},nr=Hn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XV(t,e-1)},ZV=Hn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},eq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=yv(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+At(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=is(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},yv=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var o=n,s=rt.internal.getHeight(t)||0;s=s<0?-s:s;var a=rt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,S,I){if(E+1<i.length){var U=S+" "+i[E+1][0];return Ud(U,t,I).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var u,c,h=Ud("3",t,o).height,d=t.multiline?s-o:(s-h)/2,f=d+=2,y=0,_=0,x=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ud(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var p="",v=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var w=!1;if(i[A].length!==1&&x!==i[A].length-1){if((h+2)*(v+2)+2>s)continue e;p+=i[A][x],w=!0,_=A,A--}else{p=(p+=i[A][x]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var C=parseInt(A),B=l(C,p,o),L=A>=i.length-1;if(B&&!L){p+=" ",x=0;continue}if(B||L){if(L)_=C;else if(t.multiline&&(h+2)*(v+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(v+2)+2>s)continue e;_=C}}for(var N="",T=y;T<=_;T++){var k=i[T];if(t.multiline){if(T===_){N+=k[x]+" ",x=(x+1)%k.length;continue}if(T===y){N+=k[k.length-1]+" ";continue}}N+=k[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,c=Ud(N,t,o).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=At(u)+" "+At(f)+` Td
`,e+="("+du(N)+`) Tj
`,e+=-At(u)+` 0 Td
`,f=-(o+2),c=0,y=w?_:_+1,v++,p=""}break}return r.text=e,r.fontSize=o,r},Ud=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},tq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nq=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},rq=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Uo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(tq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new mN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&nq(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],u=a.Rect;if(a.Rect&&(a.Rect=ZV(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=rt.createDefaultAppearanceStream(a),sn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=eq(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var y=f[s];typeof y=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(i,a)),h+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(_,x){for(var p in _)if(_.hasOwnProperty(p)){var v=p,A=_[p];x.internal.newObjectDeferredBegin(A.objId,!0),sn(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete _[v]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},pN=Hn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),sn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+du(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P0=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+du(r(t))+")"},ls=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ls.prototype.toString=function(){return this.objId+" 0 R"},ls.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ls.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:pN(i,this.objId,this.scope)}):i instanceof ls?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var gN=function(){ls.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Si(gN,ls);var mN=function(){ls.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+du(n(t))+")"}},set:function(n){t=n}})};Si(mN,ls);var Uo=function t(){ls.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!er(e,3)},set:function(p){p?this.F=tr(e,3):this.F=nr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');n=p}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(p){r=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(p){r[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(p){r[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(p){r[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(p){r[3]=p}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof hg)return;o="FieldObject"+t.FieldNum++}var p=function(v){return v};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+du(p(o))+")"},set:function(p){o=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(p){o=p}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(p){s=p}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(p){a=p}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/N2:u},set:function(p){u=p}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof hg||this instanceof zl))return P0(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=p}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ar==0?P0(d,this.objId,this.scope):d},set:function(p){p=p.toString(),d=this instanceof Ar==0?p.substr(0,1)==="("?Tu(p.substr(1,p.length-2)):Tu(p):p}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar==1?Tu(d.substr(1,d.length-1)):d},set:function(p){p=p.toString(),d=this instanceof Ar==1?"/"+p:p}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ar==0?P0(f,this.objId,this.scope):f},set:function(p){p=p.toString(),f=this instanceof Ar==0?p.substr(0,1)==="("?Tu(p.substr(1,p.length-2)):Tu(p):p}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar==1?Tu(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof Ar==1?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(p){p=!!p,_=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(p){y=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,1)},set:function(p){p?this.Ff=tr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,2)},set:function(p){p?this.Ff=tr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,3)},set:function(p){p?this.Ff=tr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');x=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(x){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Si(Uo,ls);var rc=function(){Uo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pN(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,u=[];l=s.exec(o);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,18)},set:function(n){n?this.Ff=tr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=tr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,20)},set:function(n){n?(this.Ff=tr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,22)},set:function(n){n?this.Ff=tr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(n){n?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,27)},set:function(n){n?this.Ff=tr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Si(rc,Uo);var ic=function(){rc.call(this),this.fontName="helvetica",this.combo=!1};Si(ic,rc);var oc=function(){ic.call(this),this.combo=!0};Si(oc,ic);var hp=function(){oc.call(this),this.edit=!0};Si(hp,oc);var Ar=function(){Uo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,15)},set:function(n){n?this.Ff=tr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,16)},set:function(n){n?this.Ff=tr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,17)},set:function(n){n?this.Ff=tr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(n){n?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+du(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){sn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Si(Ar,Uo);var dp=function(){Ar.call(this),this.pushButton=!0};Si(dp,Ar);var sc=function(){Ar.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Si(sc,Ar);var hg=function(){var t,e;Uo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+du(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){sn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Si(hg,Uo),sc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},sc.prototype.createOption=function(t){var e=new hg;return e.Parent=this,e.optionName=t,this.Kids.push(e),iq.call(this.scope,e),e};var pp=function(){Ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};Si(pp,Ar);var zl=function(){Uo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,13)},set:function(e){e?this.Ff=tr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,21)},set:function(e){e?this.Ff=tr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,24)},set:function(e){e?this.Ff=tr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,25)},set:function(e){e?this.Ff=tr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Si(zl,Uo);var gp=function(){zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,14)},set:function(t){t?this.Ff=tr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};Si(gp,zl);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=is(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=yv(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+At(rt.internal.getWidth(t))+" "+At(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+At(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=is(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=rt.internal.getHeight(t),s=rt.internal.getWidth(t),a=yv(t,t.caption);return i.push("1 g"),i.push("0 0 "+At(s)+" "+At(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(s-1)+" "+At(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+At(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=is(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(rt.internal.getWidth(t))+" "+At(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=is(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=rt.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+La(rt.internal.getWidth(t)/2)+" "+La(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=is(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*rt.internal.Bezier_C).toFixed(5)),s=Number((r*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+La(rt.internal.getWidth(t)/2)+" "+La(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+La(rt.internal.getWidth(t)/2)+" "+La(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=is(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+La(rt.internal.getWidth(t)/2)+" "+La(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=is(t);e.scope=t.scope;var n=[],r=rt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+At(rt.internal.getWidth(t)-2)+" "+At(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=is(t);e.scope=t.scope;var n=rt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+At(rt.internal.getWidth(t))+" "+At(rt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+At(rt.internal.getWidth(t)-2)+" "+At(rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=is(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+At(rt.internal.getWidth(t))+" "+At(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),n=rt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},rt.internal.getWidth=function(t){var e=0;return sn(t)==="object"&&(e=ax(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return sn(t)==="object"&&(e=ax(t.Rect[3])),e};var iq=Hn.addField=function(t){if(rq(this,t),!(t instanceof Uo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hn.AcroFormChoiceField=rc,Hn.AcroFormListBox=ic,Hn.AcroFormComboBox=oc,Hn.AcroFormEditBox=hp,Hn.AcroFormButton=Ar,Hn.AcroFormPushButton=dp,Hn.AcroFormRadioButton=sc,Hn.AcroFormCheckBox=pp,Hn.AcroFormTextField=zl,Hn.AcroFormPasswordField=gp,Hn.AcroFormAppearance=rt,Hn.AcroForm={ChoiceField:rc,ListBox:ic,ComboBox:oc,EditBox:hp,Button:Ar,PushButton:dp,RadioButton:sc,CheckBox:pp,TextField:zl,PasswordField:gp,Appearance:rt},ct.AcroForm={ChoiceField:rc,ListBox:ic,ComboBox:oc,EditBox:hp,Button:Ar,PushButton:dp,RadioButton:sc,CheckBox:pp,TextField:zl,PasswordField:gp,Appearance:rt};ct.AcroForm;function vN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,S){var I,U,G,oe,se,te=n;if((S=S||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(B(E))for(se in r)for(G=r[se],I=0;I<G.length;I+=1){for(oe=!0,U=0;U<G[I].length;U+=1)if(G[I][U]!==void 0&&G[I][U]!==E[U]){oe=!1;break}if(oe===!0){te=se;break}}else for(se in r)for(G=r[se],I=0;I<G.length;I+=1){for(oe=!0,U=0;U<G[I].length;U+=1)if(G[I][U]!==void 0&&G[I][U]!==E.charCodeAt(U)){oe=!1;break}if(oe===!0){te=se;break}}return te===n&&S!==n&&(te=S),te},o=function E(S){for(var I=this.internal.write,U=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:S.width}),oe.push({key:"Height",value:S.height}),S.colorSpace===p.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===p.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)&&S.transparency.length>0){for(var se="",te=0,Z=S.transparency.length;te<Z;te++)se+=S.transparency[te]+" "+S.transparency[te]+" ";oe.push({key:"Mask",value:"["+se+"]"})}S.sMask!==void 0&&oe.push({key:"SMask",value:S.objectId+1+" 0 R"});var X=S.filter!==void 0?["/"+S.filter]:void 0;if(U({data:S.data,additionalKeyValues:oe,alreadyAppliedFilters:X,objectId:S.objectId}),I("endobj"),"sMask"in S&&S.sMask!==void 0){var z,R=(z=S.sMaskBitsPerComponent)!==null&&z!==void 0?z:S.bitsPerComponent,F={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:S.sMask};"filter"in S&&(F.decodeParameters="/Predictor ".concat(S.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(S.width),F.filter=S.filter),E.call(this,F)}if(S.colorSpace===p.INDEXED){var W=this.internal.newObject();U({data:N(new Uint8Array(S.palette)),objectId:W}),I("endobj")}},s=function(){var E=this.internal.collections[e+"images"];for(var S in E)o.call(this,E[S])},a=function(){var E,S=this.internal.collections[e+"images"],I=this.internal.write;for(var U in S)I("/I"+(E=S[U]).index,E.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections[e+"images"];return l.call(this),E},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(E){return typeof t["process"+E.toUpperCase()]=="function"},d=function(E){return sn(E)==="object"&&E.nodeType===1},f=function(E,S){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var I=""+E.getAttribute("src");if(I.indexOf("data:image/")===0)return fp(unescape(I).split("base64,").pop());var U=t.loadFile(I,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var G;switch(S){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return fp(E.toDataURL(G,1).split("base64,").pop())}},y=function(E){var S=this.internal.collections[e+"images"];if(S){for(var I in S)if(E===S[I].alias)return S[I]}},_=function(E,S,I){return E||S||(E=-96,S=-96),E<0&&(E=-1*I.width*72/E/this.internal.scaleFactor),S<0&&(S=-1*I.height*72/S/this.internal.scaleFactor),E===0&&(E=S*I.width/I.height),S===0&&(S=E*I.height/I.width),[E,S]},x=function(E,S,I,U,G,oe){var se=_.call(this,I,U,G),te=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,X=u.call(this);if(I=se[0],U=se[1],X[G.index]=G,oe){oe*=Math.PI/180;var z=Math.cos(oe),R=Math.sin(oe),F=function(K){return K.toFixed(4)},W=[F(z),F(R),F(-1*R),F(z),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,te(E),Z(S+U),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([te(I),"0","0",te(U),"0","0","cm"].join(" "))):this.internal.write([te(I),"0","0",te(U),te(E),Z(S+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},p=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function(E){var S,I,U=0;if(typeof E=="string")for(I=E.length,S=0;S<I;S++)U=(U<<5)-U+E.charCodeAt(S),U|=0;else if(B(E))for(I=E.byteLength/2,S=0;S<I;S++)U=(U<<5)-U+E[S],U|=0;return U},w=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var S=!0;return E.length===0&&(S=!1),E.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(S=!1),S},C=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var S=E.indexOf(",");return S<0?null:E.substring(0,S).trim().endsWith("base64")?E.substring(S+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(E){for(var S=E.length,I=new Uint8Array(S),U=0;U<S;U++)I[U]=E.charCodeAt(U);return I},N=t.__addimage__.arrayBufferToBinaryString=function(E){for(var S="",I=B(E)?E:new Uint8Array(E),U=0;U<I.length;U+=8192)S+=String.fromCharCode.apply(null,I.subarray(U,U+8192));return S};t.addImage=function(){var E,S,I,U,G,oe,se,te,Z;if(typeof arguments[1]=="number"?(S=n,I=arguments[1],U=arguments[2],G=arguments[3],oe=arguments[4],se=arguments[5],te=arguments[6],Z=arguments[7]):(S=arguments[1],I=arguments[2],U=arguments[3],G=arguments[4],oe=arguments[5],se=arguments[6],te=arguments[7],Z=arguments[8]),sn(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var X=E;E=X.imageData,S=X.format||S||n,I=X.x||I||0,U=X.y||U||0,G=X.w||X.width||G,oe=X.h||X.height||oe,se=X.alias||se,te=X.compression||te,Z=X.rotation||X.angle||Z}var z=this.internal.getFilters();if(te===void 0&&z.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(I)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=T.call(this,E,S,se,te);return x.call(this,I,U,G,oe,R,Z),this};var T=function(E,S,I,U){var G,oe,se;if(typeof E=="string"&&i(E)===n){E=unescape(E);var te=k(E,!1);(te!==""||(te=t.loadFile(E,!0))!==void 0)&&(E=te)}if(d(E)&&(E=f(E,S)),S=i(E,S),!h(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((se=I)==null||se.length===0)&&(I=function(Z){return typeof Z=="string"||B(Z)?A(Z):B(Z.data)?A(Z.data):null}(E)),(G=y.call(this,I))||(E instanceof Uint8Array||S==="RGBA"||(oe=E,E=L(E)),G=this["process"+S.toUpperCase()](E,c.call(this),I,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:v.NONE}(U),oe)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},k=t.__addimage__.convertBase64ToBinaryString=function(E,S){S=typeof S!="boolean"||S;var I,U="";if(typeof E=="string"){var G;I=(G=C(E))!==null&&G!==void 0?G:E;try{U=fp(I)}catch(oe){if(S)throw w(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};t.getImageProperties=function(E){var S,I,U="";if(d(E)&&(E=f(E)),typeof E=="string"&&i(E)===n&&((U=k(E,!1))===""&&(U=t.loadFile(E)||""),E=U),I=i(E),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(E instanceof Uint8Array||(E=L(E)),!(S=this["process"+I.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=I,S}})(ct.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){r=u[d];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(_.objId),v=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(p(r.contents))+")",o+=" /Popup "+x.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(p(v))+") >>",_.content=o;var A=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(o+=" /Open true"),o+=" >>",x.content=o,this.internal.write(_.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var w=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var B=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var c=this.splitTextToSize(n,a).length;s=Math.ceil(u*c)}else a=l,s=u;return this.text(n,r,i,o),i+=.2*u,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-u,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=t.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(_){var x=0,p=n,v="",A=0;for(x=0;x<_.length;x+=1)p[_.charCodeAt(x)]!==void 0?(A++,typeof(p=p[_.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(p),p=n,A=0),x===_.length-1&&(p=n,v+=_.charAt(x-(A-1)),x-=A-1,A=0)):(p=n,v+=_.charAt(x-A),x-=A,A=0);return v};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(_,x,p){return s(_)?o(_)===!1?-1:!u(_)||!s(x)&&!s(p)||!s(p)&&a(x)||a(_)&&!s(x)||a(_)&&l(x)||a(_)&&a(x)?0:c(_)&&s(x)&&!a(x)&&s(p)&&u(p)?3:a(_)||!s(p)?1:2:-1},f=function(_){var x=0,p=0,v=0,A="",w="",C="",B=(_=_||"").split("\\s+"),L=[];for(x=0;x<B.length;x+=1){for(L.push(""),p=0;p<B[x].length;p+=1)A=B[x][p],w=B[x][p-1],C=B[x][p+1],s(A)?(v=d(A,w,C),L[x]+=v!==-1?String.fromCharCode(e[A.charCodeAt(0)][v]):A):L[x]+=A;L[x]=h(L[x])}return L.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var _,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(x)){var v=0;for(p=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?p.push([f(x[v][0]),x[v][1],x[v][2]]):p.push([f(x[v])]);_=p}else _=f(x);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",y])}(ct.API),ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(_){y=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,f=0,y=0,_=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var p=u.maxWidth;p>0?typeof l=="string"?l=this.splitTextToSize(l,p):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,w){return A.concat(x.splitTextToSize(w,p))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)f<(_=this.getStringUnitWidth(l[v],{font:h})*c)&&(f=_);return f!==0&&(y=l.length),{w:f/=d,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,h,d){if(r.call(this),!c)throw new Error("No data for PDF table.");var f,y,_,x,p=[],v=[],A=[],w={},C={},B=[],L=[],N=(d=d||{}).autoSize||!1,T=d.printHeaders!==!1,k=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,E=d.margins||Object.assign({width:this.getPageWidth()},e),S=typeof d.padding=="number"?d.padding:3,I=d.headerBackgroundColor||"#c8c8c8",U=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=U,this.setFontSize(k),h==null)v=p=Object.keys(c[0]),A=p.map(function(){return"left"});else if(Array.isArray(h)&&sn(h[0])==="object")for(p=h.map(function(X){return X.name}),v=h.map(function(X){return X.prompt||X.name||""}),A=h.map(function(X){return X.align||"left"}),f=0;f<h.length;f+=1)C[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(v=p=h,A=p.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<p.length;f+=1){for(w[x=p[f]]=c.map(function(X){return X[x]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=w[x],this.setFont(void 0,"normal"),_=0;_<y.length;_+=1)B.push(this.getTextDimensions(y[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,B)+S+S,B=[]}if(T){var G={};for(f=0;f<p.length;f+=1)G[p[f]]={},G[p[f]].text=v[f],G[p[f]].align=A[f];var oe=a.call(this,G,C);L=p.map(function(X){return new o(l,u,C[X],oe,G[X].text,void 0,G[X].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var se=h.reduce(function(X,z){return X[z.name]=z.align,X},{});for(f=0;f<c.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:c[f]},this);var te=a.call(this,c[f],C);for(_=0;_<p.length;_+=1){var Z=c[f][p[_]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:_,data:Z},this),s.call(this,new o(l,u,C[p[_]],te,Z,f+2,se[p[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+c+c},this).reduce(function(f,y){return Math.max(f,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(y)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(ct.API);var yN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_N=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_v=vN(_N),wN=[100,200,300,400,500,600,700,800,900],oq=vN(wN);function L0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return yN[o=o||"normal"]?o:"normal"}(t.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),i=function(o){return typeof _v[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function lx(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var sq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ux={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cx(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fx(t){return t.trimLeft()}function aq(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function lq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vd,hx,dx,ku,qd,px,gx,mx,C0=["times"];function vx(t,e,n,r,i){var o=4,s=_x;switch(i){case ct.API.image_compression.FAST:o=1,s=yx;break;case ct.API.image_compression.MEDIUM:o=6,s=wx;break;case ct.API.image_compression.SLOW:o=9,s=bx}t=function(l,u,c,h){for(var d,f=l.length/u,y=new Uint8Array(l.length+f),_=[uq,yx,_x,wx,bx],x=0;x<f;x+=1){var p=x*u,v=l.subarray(p,p+u);if(h)y.set(h(v,c,d),p+x);else{for(var A=_.length,w=[],C=0;C<A;C+=1)w[C]=_[C](v,c,d);var B=fq(w.concat());y.set(w[B],p+x)}d=v}return y}(t,e,Math.ceil(n*r/8),s);var a=hv(t,{level:o});return ct.API.__addimage__.arrayBufferToBinaryString(a)}function uq(t){var e=Array.apply([],t);return e.unshift(0),e}function yx(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function _x(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function wx(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function bx(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=cq(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function cq(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function fq(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function O0(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return bN(t,i)>>o&s}function xx(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(u,c,h){if(c+1<u.byteLength)u.setUint16(c,h,!1);else{var d=h>>8&255;u.setUint8(c,d)}})(t,o,bN(t,o)&~(a<<s)&65535|l)}function bN(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function hq(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var u=!0,c=[],h=0,d=null,f=0,y=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],1&_||(d=null),f=_>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,w=t[e++],C=w>>6&1,B=1<<1+(7&w),L=a,N=l,T=!1;w>>7&&(T=!0,L=e,N=B,e+=3*B);var k=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}c.push({x,y:p,width:v,height:A,has_local_palette:T,palette_offset:L,palette_size:N,data_offset:k,data_length:e-k,transparent_index:d,interlaced:!!C,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(S){if(S<0||S>=c.length)throw new Error("Frame index out of range.");return c[S]},this.decodeAndBlitFrameBGRA=function(S,I){var U=this.frameInfo(S),G=U.width*U.height,oe=new Uint8Array(G);Ex(t,U.data_offset,oe,G);var se=U.palette_offset,te=U.transparent_index;te===null&&(te=256);var Z=U.width,X=n-Z,z=Z,R=4*(U.y*n+U.x),F=4*((U.y+U.height)*n+U.x),W=R,K=4*X;U.interlaced===!0&&(K+=4*n*7);for(var q=8,Q=0,ae=oe.length;Q<ae;++Q){var fe=oe[Q];if(z===0&&(z=Z,(W+=K)>=F&&(K=4*X+4*n*(q-1),W=R+(Z+X)*(q<<1),q>>=1)),fe===te)W+=4;else{var he=t[se+3*fe],be=t[se+3*fe+1],Le=t[se+3*fe+2];I[W++]=Le,I[W++]=be,I[W++]=he,I[W++]=255}--z}},this.decodeAndBlitFrameRGBA=function(S,I){var U=this.frameInfo(S),G=U.width*U.height,oe=new Uint8Array(G);Ex(t,U.data_offset,oe,G);var se=U.palette_offset,te=U.transparent_index;te===null&&(te=256);var Z=U.width,X=n-Z,z=Z,R=4*(U.y*n+U.x),F=4*((U.y+U.height)*n+U.x),W=R,K=4*X;U.interlaced===!0&&(K+=4*n*7);for(var q=8,Q=0,ae=oe.length;Q<ae;++Q){var fe=oe[Q];if(z===0&&(z=Z,(W+=K)>=F&&(K=4*X+4*n*(q-1),W=R+(Z+X)*(q<<1),q>>=1)),fe===te)W+=4;else{var he=t[se+3*fe],be=t[se+3*fe+1],Le=t[se+3*fe+2];I[W++]=he,I[W++]=be,I[W++]=Le,I[W++]=255}--z}}}function Ex(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,c=0,h=0,d=0,f=t[e++],y=new Int32Array(4096),_=null;;){for(;c<16&&f!==0;)h|=t[e++]<<c,c+=8,f===1?f=t[e++]:--f;if(c<l)break;var x=h&u;if(h>>=l,c-=l,x!==o){if(x===s)break;for(var p=x<a?x:_,v=0,A=p;A>o;)A=y[A]>>8,++v;var w=A;if(d+v+(p!==x?1:0)>r)return void pn.log("Warning, gif stream longer than expected.");n[d++]=w;var C=d+=v;for(p!==x&&(n[d++]=w),A=p;v--;)A=y[A],n[--C]=255&A,A>>=8;_!==null&&a<4096&&(y[a++]=_<<8|w,a>=u+1&&l<12&&(++l,u=u<<1|1)),_=x}else a=s+1,u=(1<<(l=i+1))-1,_=null}return d!==r&&pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function R0(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),y=new Array(64),_=[],x=0,p=7,v=new Array(64),A=new Array(64),w=new Array(64),C=new Array(256),B=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(R,F){for(var W=0,K=0,q=new Array,Q=1;Q<=16;Q++){for(var ae=1;ae<=R[Q];ae++)q[F[K]]=[],q[F[K]][0]=W,q[F[K]][1]=Q,K++,W++;W*=2}return q}function se(R){for(var F=R[0],W=R[1]-1;W>=0;)F&1<<W&&(x|=1<<p),W--,--p<0&&(x==255?(te(255),te(0)):te(x),p=7,x=0)}function te(R){_.push(R)}function Z(R){te(R>>8&255),te(255&R)}function X(R,F,W,K,q){for(var Q,ae=q[0],fe=q[240],he=function(pe,Te){var Ne,Se,Fe,We,$e,Ge,at,Ze,nt,Xe,Ke=0;for(nt=0;nt<8;++nt){Ne=pe[Ke],Se=pe[Ke+1],Fe=pe[Ke+2],We=pe[Ke+3],$e=pe[Ke+4],Ge=pe[Ke+5],at=pe[Ke+6];var cn=Ne+(Ze=pe[Ke+7]),Mt=Ne-Ze,It=Se+at,Tt=Se-at,gn=Fe+Ge,ht=Fe-Ge,Jt=We+$e,mt=We-$e,bt=cn+Jt,Zt=cn-Jt,Pt=It+gn,dt=It-gn;pe[Ke]=bt+Pt,pe[Ke+4]=bt-Pt;var Rt=.707106781*(dt+Zt);pe[Ke+2]=Zt+Rt,pe[Ke+6]=Zt-Rt;var qo=.382683433*((bt=mt+ht)-(dt=Tt+Mt)),Wn=.5411961*bt+qo,Yi=1.306562965*dt+qo,Br=.707106781*(Pt=ht+Tt),gt=Mt+Br,_n=Mt-Br;pe[Ke+5]=_n+Wn,pe[Ke+3]=_n-Wn,pe[Ke+1]=gt+Yi,pe[Ke+7]=gt-Yi,Ke+=8}for(Ke=0,nt=0;nt<8;++nt){Ne=pe[Ke],Se=pe[Ke+8],Fe=pe[Ke+16],We=pe[Ke+24],$e=pe[Ke+32],Ge=pe[Ke+40],at=pe[Ke+48];var Qi=Ne+(Ze=pe[Ke+56]),yr=Ne-Ze,_r=Se+at,Nn=Se-at,rr=Fe+Ge,Tn=Fe-Ge,ms=We+$e,zo=We-$e,Ur=Qi+ms,Ni=Qi-ms,ni=_r+rr,Vr=_r-rr;pe[Ke]=Ur+ni,pe[Ke+32]=Ur-ni;var Gn=.707106781*(Vr+Ni);pe[Ke+16]=Ni+Gn,pe[Ke+48]=Ni-Gn;var Ho=.382683433*((Ur=zo+Tn)-(Vr=Nn+yr)),Ti=.5411961*Ur+Ho,bo=1.306562965*Vr+Ho,$o=.707106781*(ni=Tn+Nn),vs=yr+$o,ys=yr-$o;pe[Ke+40]=ys+Ti,pe[Ke+24]=ys-Ti,pe[Ke+8]=vs+bo,pe[Ke+56]=vs-bo,Ke++}for(nt=0;nt<64;++nt)Xe=pe[nt]*Te[nt],f[nt]=Xe>0?Xe+.5|0:Xe-.5|0;return f}(R,F),be=0;be<64;++be)y[L[be]]=he[be];var Le=y[0]-W;W=y[0],Le==0?se(K[0]):(se(K[d[Q=32767+Le]]),se(h[Q]));for(var Oe=63;Oe>0&&y[Oe]==0;)Oe--;if(Oe==0)return se(ae),W;for(var Ue,re=1;re<=Oe;){for(var qe=re;y[re]==0&&re<=Oe;)++re;var it=re-qe;if(it>=16){Ue=it>>4;for(var ye=1;ye<=Ue;++ye)se(fe);it&=15}Q=32767+y[re],se(q[(it<<4)+d[Q]]),se(h[Q]),re++}return Oe!=63&&se(ae),W}function z(R){R=Math.min(Math.max(R,1),100),o!=R&&(function(F){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var q=s((W[K]*F+50)/100);q=Math.min(Math.max(q,1),255),a[L[K]]=q}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var fe=s((Q[ae]*F+50)/100);fe=Math.min(Math.max(fe,1),255),l[L[ae]]=fe}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,Le=0;Le<8;Le++)for(var Oe=0;Oe<8;Oe++)u[be]=1/(a[L[be]]*he[Le]*he[Oe]*8),c[be]=1/(l[L[be]]*he[Le]*he[Oe]*8),be++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,F){F&&z(F),_=new Array,x=0,p=7,Z(65496),Z(65504),Z(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),Z(1),Z(1),te(0),te(0),function(){Z(65499),Z(132),te(0);for(var Se=0;Se<64;Se++)te(a[Se]);te(1);for(var Fe=0;Fe<64;Fe++)te(l[Fe])}(),function(Se,Fe){Z(65472),Z(17),te(8),Z(Fe),Z(Se),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(R.width,R.height),function(){Z(65476),Z(418),te(0);for(var Se=0;Se<16;Se++)te(N[Se+1]);for(var Fe=0;Fe<=11;Fe++)te(T[Fe]);te(16);for(var We=0;We<16;We++)te(k[We+1]);for(var $e=0;$e<=161;$e++)te(E[$e]);te(1);for(var Ge=0;Ge<16;Ge++)te(S[Ge+1]);for(var at=0;at<=11;at++)te(I[at]);te(17);for(var Ze=0;Ze<16;Ze++)te(U[Ze+1]);for(var nt=0;nt<=161;nt++)te(G[nt])}(),Z(65498),Z(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var W=0,K=0,q=0;x=0,p=7,this.encode.displayName="_encode_";for(var Q,ae,fe,he,be,Le,Oe,Ue,re,qe=R.data,it=R.width,ye=R.height,pe=4*it,Te=0;Te<ye;){for(Q=0;Q<pe;){for(be=pe*Te+Q,Oe=-1,Ue=0,re=0;re<64;re++)Le=be+(Ue=re>>3)*pe+(Oe=4*(7&re)),Te+Ue>=ye&&(Le-=pe*(Te+1+Ue-ye)),Q+Oe>=pe&&(Le-=Q+Oe-pe+4),ae=qe[Le++],fe=qe[Le++],he=qe[Le++],v[re]=(B[ae]+B[fe+256|0]+B[he+512|0]>>16)-128,A[re]=(B[ae+768|0]+B[fe+1024|0]+B[he+1280|0]>>16)-128,w[re]=(B[ae+1280|0]+B[fe+1536|0]+B[he+1792|0]>>16)-128;W=X(v,u,W,e,r),K=X(A,c,K,n,i),q=X(w,c,q,n,i),Q+=32}Te+=8}if(p>=0){var Ne=[];Ne[1]=p+1,Ne[0]=(1<<p+1)-1,se(Ne)}return Z(65497),new Uint8Array(_)},t=t||50,function(){for(var R=String.fromCharCode,F=0;F<256;F++)C[F]=R(F)}(),e=oe(N,T),n=oe(S,I),r=oe(k,E),i=oe(U,G),function(){for(var R=1,F=2,W=1;W<=15;W++){for(var K=R;K<F;K++)d[32767+K]=W,h[32767+K]=[],h[32767+K][1]=W,h[32767+K][0]=K;for(var q=-(F-1);q<=-R;q++)d[32767+q]=W,h[32767+q]=[],h[32767+q][1]=W,h[32767+q][0]=F-1+q;R<<=1,F<<=1}}(),function(){for(var R=0;R<256;R++)B[R]=19595*R,B[R+256|0]=38470*R,B[R+512|0]=7471*R+32768,B[R+768|0]=-11059*R,B[R+1024|0]=-21709*R,B[R+1280|0]=32768*R+8421375,B[R+1536|0]=-27439*R,B[R+1792|0]=-5329*R}(),z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Io(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ax(t){function e(T){if(!T)throw Error("assert :P")}function n(T,k,E){for(var S=0;4>S;S++)if(T[k+S]!=E.charCodeAt(S))return!0;return!1}function r(T,k,E,S,I){for(var U=0;U<I;U++)T[k+U]=E[S+U]}function i(T,k,E,S){for(var I=0;I<S;I++)T[k+I]=E}function o(T){return new Int32Array(T)}function s(T,k){for(var E=[],S=0;S<T;S++)E.push(new k);return E}function a(T,k){var E=[];return function S(I,U,G){for(var oe=G[U],se=0;se<oe&&(I.push(G.length>U+1?[]:new k),!(G.length<U+1));se++)S(I[se],U+1,G)}(E,0,T),E}var l=function(){var T=this;function k(g,b){for(var O=1<<b-1>>>0;g&O;)O>>>=1;return O?(g&O-1)+O:g}function E(g,b,O,j,$){e(!(j%O));do g[b+(j-=O)]=$;while(0<j)}function S(g,b,O,j,$){if(e(2328>=$),512>=$)var Y=o(512);else if((Y=o($))==null)return 0;return function(J,ee,ie,ue,ge,Ee){var ce,me,we=ee,ke=1<<ie,xe=o(16),Pe=o(16);for(e(ge!=0),e(ue!=null),e(J!=null),e(0<ie),me=0;me<ge;++me){if(15<ue[me])return 0;++xe[ue[me]]}if(xe[0]==ge)return 0;for(Pe[1]=0,ce=1;15>ce;++ce){if(xe[ce]>1<<ce)return 0;Pe[ce+1]=Pe[ce]+xe[ce]}for(me=0;me<ge;++me)ce=ue[me],0<ue[me]&&(Ee[Pe[ce]++]=me);if(Pe[15]==1)return(ue=new I).g=0,ue.value=Ee[0],E(J,we,1,ke,ue),ke;var Ce,Be=-1,je=ke-1,ft=0,et=1,Ct=1,lt=1<<ie;for(me=0,ce=1,ge=2;ce<=ie;++ce,ge<<=1){if(et+=Ct<<=1,0>(Ct-=xe[ce]))return 0;for(;0<xe[ce];--xe[ce])(ue=new I).g=ce,ue.value=Ee[me++],E(J,we+ft,ge,lt,ue),ft=k(ft,ce)}for(ce=ie+1,ge=2;15>=ce;++ce,ge<<=1){if(et+=Ct<<=1,0>(Ct-=xe[ce]))return 0;for(;0<xe[ce];--xe[ce]){if(ue=new I,(ft&je)!=Be){for(we+=lt,Ce=1<<(Be=ce)-ie;15>Be&&!(0>=(Ce-=xe[Be]));)++Be,Ce<<=1;ke+=lt=1<<(Ce=Be-ie),J[ee+(Be=ft&je)].g=Ce+ie,J[ee+Be].value=we-ee-Be}ue.g=ce-ie,ue.value=Ee[me++],E(J,we+(ft>>ie),ge,lt,ue),ft=k(ft,ce)}}return et!=2*Pe[15]-1?0:ke}(g,b,O,j,$,Y)}function I(){this.value=this.g=0}function U(){this.value=this.g=0}function G(){this.G=s(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Sl,U)}function oe(g,b,O,j){e(g!=null),e(b!=null),e(2147483648>j),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=O,g.Jd=b,g.Yc=O+j,g.Zc=4<=j?O+j-4+1:O,ae(g)}function se(g,b){for(var O=0;0<b--;)O|=he(g,128)<<b;return O}function te(g,b){var O=se(g,b);return fe(g)?-O:O}function Z(g,b,O,j){var $,Y=0;for(e(g!=null),e(b!=null),e(4294967288>j),g.Sb=j,g.Ra=0,g.u=0,g.h=0,4<j&&(j=4),$=0;$<j;++$)Y+=b[O+$]<<8*$;g.Ra=Y,g.bb=j,g.oa=b,g.pa=O}function X(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<ma-8>>>0,++g.bb,g.u-=8;K(g)&&(g.h=1,g.u=0)}function z(g,b){if(e(0<=b),!g.h&&b<=Ci){var O=W(g)&Li[b];return g.u+=b,X(g),O}return g.h=1,g.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(g){return g.Ra>>>(g.u&ma-1)>>>0}function K(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>ma}function q(g,b){g.u=b,g.h=K(g)}function Q(g){g.u>=Ss&&(e(g.u>=Ss),X(g))}function ae(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function fe(g){return se(g,1)}function he(g,b){var O=g.Ca;0>g.b&&ae(g);var j=g.b,$=O*b>>>8,Y=(g.I>>>j>$)+0;for(Y?(O-=$,g.I-=$+1<<j>>>0):O=$+1,j=O,$=0;256<=j;)$+=8,j>>=8;return j=7^$+va[j],g.b-=j,g.Ca=(O<<j)-1,Y}function be(g,b,O){g[b+0]=O>>24&255,g[b+1]=O>>16&255,g[b+2]=O>>8&255,g[b+3]=255&O}function Le(g,b){return g[b+0]|g[b+1]<<8}function Oe(g,b){return Le(g,b)|g[b+2]<<16}function Ue(g,b){return Le(g,b)|Le(g,b+2)<<16}function re(g,b){var O=1<<b;return e(g!=null),e(0<b),g.X=o(O),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function qe(g,b){e(g!=null),e(b!=null),e(g.Xa==b.Xa),r(b.X,0,g.X,0,1<<b.Xa)}function it(){this.X=[],this.Xa=this.Mb=0}function ye(g,b,O,j){e(O!=null),e(j!=null);var $=O[0],Y=j[0];return $==0&&($=(g*Y+b/2)/b),Y==0&&(Y=(b*$+g/2)/g),0>=$||0>=Y?0:(O[0]=$,j[0]=Y,1)}function pe(g,b){return g+(1<<b)-1>>>b}function Te(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function Ne(g,b){T[b]=function(O,j,$,Y,J,ee,ie){var ue;for(ue=0;ue<J;++ue){var ge=T[g](ee[ie+ue-1],$,Y+ue);ee[ie+ue]=Te(O[j+ue],ge)}}}function Se(){this.ud=this.hd=this.jd=0}function Fe(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function We(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function $e(g,b){return We(g+(g-b+.5>>1))}function Ge(g,b,O){return Math.abs(b-O)-Math.abs(g-O)}function at(g,b,O,j,$,Y,J){for(j=Y[J-1],O=0;O<$;++O)Y[J+O]=j=Te(g[b+O],j)}function Ze(g,b,O,j,$){var Y;for(Y=0;Y<O;++Y){var J=g[b+Y],ee=J>>8&255,ie=16711935&(ie=(ie=16711935&J)+((ee<<16)+ee));j[$+Y]=(4278255360&J)+ie>>>0}}function nt(g,b){b.jd=255&g,b.hd=g>>8&255,b.ud=g>>16&255}function Xe(g,b,O,j,$,Y){var J;for(J=0;J<j;++J){var ee=b[O+J],ie=ee>>>8,ue=ee,ge=255&(ge=(ge=ee>>>16)+((g.jd<<24>>24)*(ie<<24>>24)>>>5));ue=255&(ue=(ue+=(g.hd<<24>>24)*(ie<<24>>24)>>>5)+((g.ud<<24>>24)*(ge<<24>>24)>>>5)),$[Y+J]=(4278255360&ee)+(ge<<16)+ue}}function Ke(g,b,O,j,$){T[b]=function(Y,J,ee,ie,ue,ge,Ee,ce,me){for(ie=Ee;ie<ce;++ie)for(Ee=0;Ee<me;++Ee)ue[ge++]=$(ee[j(Y[J++])])},T[g]=function(Y,J,ee,ie,ue,ge,Ee){var ce=8>>Y.b,me=Y.Ea,we=Y.K[0],ke=Y.w;if(8>ce)for(Y=(1<<Y.b)-1,ke=(1<<ce)-1;J<ee;++J){var xe,Pe=0;for(xe=0;xe<me;++xe)xe&Y||(Pe=j(ie[ue++])),ge[Ee++]=$(we[Pe&ke]),Pe>>=ce}else T["VP8LMapColor"+O](ie,ue,we,ke,ge,Ee,J,ee,me)}}function cn(g,b,O,j,$){for(O=b+O;b<O;){var Y=g[b++];j[$++]=Y>>16&255,j[$++]=Y>>8&255,j[$++]=255&Y}}function Mt(g,b,O,j,$){for(O=b+O;b<O;){var Y=g[b++];j[$++]=Y>>16&255,j[$++]=Y>>8&255,j[$++]=255&Y,j[$++]=Y>>24&255}}function It(g,b,O,j,$){for(O=b+O;b<O;){var Y=(J=g[b++])>>16&240|J>>12&15,J=240&J|J>>28&15;j[$++]=Y,j[$++]=J}}function Tt(g,b,O,j,$){for(O=b+O;b<O;){var Y=(J=g[b++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;j[$++]=Y,j[$++]=J}}function gn(g,b,O,j,$){for(O=b+O;b<O;){var Y=g[b++];j[$++]=255&Y,j[$++]=Y>>8&255,j[$++]=Y>>16&255}}function ht(g,b,O,j,$,Y){if(Y==0)for(O=b+O;b<O;)be(j,((Y=g[b++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),$+=32;else r(j,$,g,b,O)}function Jt(g,b){T[b][0]=T[g+"0"],T[b][1]=T[g+"1"],T[b][2]=T[g+"2"],T[b][3]=T[g+"3"],T[b][4]=T[g+"4"],T[b][5]=T[g+"5"],T[b][6]=T[g+"6"],T[b][7]=T[g+"7"],T[b][8]=T[g+"8"],T[b][9]=T[g+"9"],T[b][10]=T[g+"10"],T[b][11]=T[g+"11"],T[b][12]=T[g+"12"],T[b][13]=T[g+"13"],T[b][14]=T[g+"0"],T[b][15]=T[g+"0"]}function mt(g){return g==dm||g==pm||g==ed||g==gm}function bt(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new Zt,this.sd=null}function dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qo(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Wn(g,b){var O=g.T,j=b.ba.f.RGBA,$=j.eb,Y=j.fb+g.ka*j.A,J=lo[b.ba.S],ee=g.y,ie=g.O,ue=g.f,ge=g.N,Ee=g.ea,ce=g.W,me=b.cc,we=b.dc,ke=b.Mc,xe=b.Nc,Pe=g.ka,Ce=g.ka+g.T,Be=g.U,je=Be+1>>1;for(Pe==0?J(ee,ie,null,null,ue,ge,Ee,ce,ue,ge,Ee,ce,$,Y,null,null,Be):(J(b.ec,b.fc,ee,ie,me,we,ke,xe,ue,ge,Ee,ce,$,Y-j.A,$,Y,Be),++O);Pe+2<Ce;Pe+=2)me=ue,we=ge,ke=Ee,xe=ce,ge+=g.Rc,ce+=g.Rc,Y+=2*j.A,J(ee,(ie+=2*g.fa)-g.fa,ee,ie,me,we,ke,xe,ue,ge,Ee,ce,$,Y-j.A,$,Y,Be);return ie+=g.fa,g.j+Ce<g.o?(r(b.ec,b.fc,ee,ie,Be),r(b.cc,b.dc,ue,ge,je),r(b.Mc,b.Nc,Ee,ce,je),O--):1&Ce||J(ee,ie,null,null,ue,ge,Ee,ce,ue,ge,Ee,ce,$,Y+j.A,null,null,Be),O}function Yi(g,b,O){var j=g.F,$=[g.J];if(j!=null){var Y=g.U,J=b.ba.S,ee=J==Zh||J==ed;b=b.ba.f.RGBA;var ie=[0],ue=g.ka;ie[0]=g.T,g.Kb&&(ue==0?--ie[0]:(--ue,$[0]-=g.width),g.j+g.ka+g.T==g.o&&(ie[0]=g.o-g.j-ue));var ge=b.eb;ue=b.fb+ue*b.A,g=R2(j,$[0],g.width,Y,ie,ge,ue+(ee?0:3),b.A),e(O==ie),g&&mt(J)&&rf(ge,ue,ee,Y,ie,b.A)}return 0}function Br(g){var b=g.ma,O=b.ba.S,j=11>O,$=O==Xh||O==Jh||O==Zh||O==hm||O==12||mt(O);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Yc(b.Oa,g,$?11:12))return 0;if($&&mt(O)&&oo(),g.da)alert("todo:use_scaling");else{if(j){if(b.Ib=qo,g.Kb){if(O=g.U+1>>1,b.memory=o(g.U+2*O),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+O,b.Ib=Wn,oo()}}else alert("todo:EmitYUV");$&&(b.Jb=Yi,j&&mi())}if(j&&!Q2){for(g=0;256>g;++g)iT[g]=89858*(g-128)+nd>>td,aT[g]=-22014*(g-128)+nd,sT[g]=-45773*(g-128),oT[g]=113618*(g-128)+nd>>td;for(g=sf;g<ym;++g)b=76283*(g-16)+nd>>td,lT[g-sf]=pi(b,255),uT[g-sf]=pi(b+8>>4,15);Q2=1}return 1}function gt(g){var b=g.ma,O=g.U,j=g.T;return e(!(1&g.ka)),0>=O||0>=j?0:(O=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,O),b.Dc+=O,1)}function _n(g){g.ma.memory=null}function Qi(g,b,O,j){return z(g,8)!=47?0:(b[0]=z(g,14)+1,O[0]=z(g,14)+1,j[0]=z(g,1),z(g,3)!=0?0:!g.h)}function yr(g,b){if(4>g)return g+1;var O=g-2>>1;return(2+(1&g)<<O)+z(b,O)+1}function _r(g,b){return 120<b?b-120:1<=(O=((O=HN[b-1])>>4)*g+(8-(15&O)))?O:1;var O}function Nn(g,b,O){var j=W(O),$=g[b+=255&j].g-8;return 0<$&&(q(O,O.u+8),j=W(O),b+=g[b].value,b+=j&(1<<$)-1),q(O,O.u+g[b].g),g[b].value}function rr(g,b,O){return O.g+=g.g,O.value+=g.value<<b>>>0,e(8>=O.g),g.g}function Tn(g,b,O){var j=g.xc;return e((b=j==0?0:g.vc[g.md*(O>>j)+(b>>j)])<g.Wb),g.Ya[b]}function ms(g,b,O,j){var $=g.ab,Y=g.c*b,J=g.C;b=J+b;var ee=O,ie=j;for(j=g.Ta,O=g.Ua;0<$--;){var ue=g.gc[$],ge=J,Ee=b,ce=ee,me=ie,we=(ie=j,ee=O,ue.Ea);switch(e(ge<Ee),e(Ee<=ue.nc),ue.hc){case 2:Kn(ce,me,(Ee-ge)*we,ie,ee);break;case 0:var ke=ge,xe=Ee,Pe=ie,Ce=ee,Be=(lt=ue).Ea;ke==0&&(Xc(ce,me,null,null,1,Pe,Ce),at(ce,me+1,0,0,Be-1,Pe,Ce+1),me+=Be,Ce+=Be,++ke);for(var je=1<<lt.b,ft=je-1,et=pe(Be,lt.b),Ct=lt.K,lt=lt.w+(ke>>lt.b)*et;ke<xe;){var qt=Ct,cr=lt,Ot=1;for(xu(ce,me,Pe,Ce-Be,1,Pe,Ce);Ot<Be;){var ut=(Ot&~ft)+je;ut>Be&&(ut=Be),(0,Zc[qt[cr++]>>8&15])(ce,me+ +Ot,Pe,Ce+Ot-Be,ut-Ot,Pe,Ce+Ot),Ot=ut}me+=Be,Ce+=Be,++ke&ft||(lt+=et)}Ee!=ue.nc&&r(ie,ee-we,ie,ee+(Ee-ge-1)*we,we);break;case 1:for(we=ce,xe=me,Be=(ce=ue.Ea)-(Ce=ce&~(Pe=(me=1<<ue.b)-1)),ke=pe(ce,ue.b),je=ue.K,ue=ue.w+(ge>>ue.b)*ke;ge<Ee;){for(ft=je,et=ue,Ct=new Se,lt=xe+Ce,qt=xe+ce;xe<lt;)nt(ft[et++],Ct),ef(Ct,we,xe,me,ie,ee),xe+=me,ee+=me;xe<qt&&(nt(ft[et++],Ct),ef(Ct,we,xe,Be,ie,ee),xe+=Be,ee+=Be),++ge&Pe||(ue+=ke)}break;case 3:if(ce==ie&&me==ee&&0<ue.b){for(xe=ie,ce=we=ee+(Ee-ge)*we-(Ce=(Ee-ge)*pe(ue.Ea,ue.b)),me=ie,Pe=ee,ke=[],Ce=(Be=Ce)-1;0<=Ce;--Ce)ke[Ce]=me[Pe+Ce];for(Ce=Be-1;0<=Ce;--Ce)xe[ce+Ce]=ke[Ce];Gh(ue,ge,Ee,ie,we,ie,ee)}else Gh(ue,ge,Ee,ce,me,ie,ee)}ee=j,ie=O}ie!=O&&r(j,O,ee,ie,Y)}function zo(g,b){var O=g.V,j=g.Ba+g.c*g.C,$=b-g.C;if(e(b<=g.l.o),e(16>=$),0<$){var Y=g.l,J=g.Ta,ee=g.Ua,ie=Y.width;if(ms(g,$,O,j),$=ee=[ee],e((O=g.C)<(j=b)),e(Y.v<Y.va),j>Y.o&&(j=Y.o),O<Y.j){var ue=Y.j-O;O=Y.j,$[0]+=ue*ie}if(O>=j?O=0:($[0]+=4*Y.v,Y.ka=O-Y.j,Y.U=Y.va-Y.v,Y.T=j-O,O=1),O){if(ee=ee[0],11>(O=g.ca).S){var ge=O.f.RGBA,Ee=(j=O.S,$=Y.U,Y=Y.T,ue=ge.eb,ge.A),ce=Y;for(ge=ge.fb+g.Ma*ge.A;0<ce--;){var me=J,we=ee,ke=$,xe=ue,Pe=ge;switch(j){case Qh:tf(me,we,ke,xe,Pe);break;case Xh:ya(me,we,ke,xe,Pe);break;case dm:ya(me,we,ke,xe,Pe),rf(xe,Pe,0,ke,1,0);break;case V2:Nl(me,we,ke,xe,Pe);break;case Jh:ht(me,we,ke,xe,Pe,1);break;case pm:ht(me,we,ke,xe,Pe,1),rf(xe,Pe,0,ke,1,0);break;case Zh:ht(me,we,ke,xe,Pe,0);break;case ed:ht(me,we,ke,xe,Pe,0),rf(xe,Pe,1,ke,1,0);break;case hm:_a(me,we,ke,xe,Pe);break;case gm:_a(me,we,ke,xe,Pe),O2(xe,Pe,ke,1,0);break;case q2:wa(me,we,ke,xe,Pe);break;default:e(0)}ee+=ie,ge+=Ee}g.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=O.height)}}g.C=b,e(g.C<=g.i)}function Ur(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var O=g.Ya[b].G,j=g.Ya[b].H;if(0<O[1][j[1]+0].g||0<O[2][j[2]+0].g||0<O[3][j[3]+0].g)return 0}return 1}function Ni(g,b,O,j,$,Y){if(g.Z!=0){var J=g.qd,ee=g.rd;for(e(Ea[g.Z]!=null);b<O;++b)Ea[g.Z](J,ee,j,$,j,$,Y),J=j,ee=$,$+=Y;g.qd=J,g.rd=ee}}function ni(g,b){var O=g.l.ma,j=O.Z==0||O.Z==1?g.l.j:g.C;if(j=g.C<j?j:g.C,e(b<=g.l.o),b>j){var $=g.l.width,Y=O.ca,J=O.tb+$*j,ee=g.V,ie=g.Ba+g.c*j,ue=g.gc;e(g.ab==1),e(ue[0].hc==3),Zo(ue[0],j,b,ee,ie,Y,J),Ni(O,j,b,Y,J,$)}g.C=g.Ma=b}function Vr(g,b,O,j,$,Y,J){var ee=g.$/j,ie=g.$%j,ue=g.m,ge=g.s,Ee=O+g.$,ce=Ee;$=O+j*$;var me=O+j*Y,we=280+ge.ua,ke=g.Pb?ee:16777216,xe=0<ge.ua?ge.Wa:null,Pe=ge.wc,Ce=Ee<me?Tn(ge,ie,ee):null;e(g.C<Y),e(me<=$);var Be=!1;e:for(;;){for(;Be||Ee<me;){var je=0;if(ee>=ke){var ft=Ee-O;e((ke=g).Pb),ke.wd=ke.m,ke.xd=ft,0<ke.s.ua&&qe(ke.s.Wa,ke.s.vb),ke=ee+WN}if(ie&Pe||(Ce=Tn(ge,ie,ee)),e(Ce!=null),Ce.Qb&&(b[Ee]=Ce.qb,Be=!0),!Be)if(Q(ue),Ce.jc){je=ue,ft=b;var et=Ee,Ct=Ce.pd[W(je)&Sl-1];e(Ce.jc),256>Ct.g?(q(je,je.u+Ct.g),ft[et]=Ct.value,je=0):(q(je,je.u+Ct.g-256),e(256<=Ct.value),je=Ct.value),je==0&&(Be=!0)}else je=Nn(Ce.G[0],Ce.H[0],ue);if(ue.h)break;if(Be||256>je){if(!Be)if(Ce.nd)b[Ee]=(Ce.qb|je<<8)>>>0;else{if(Q(ue),Be=Nn(Ce.G[1],Ce.H[1],ue),Q(ue),ft=Nn(Ce.G[2],Ce.H[2],ue),et=Nn(Ce.G[3],Ce.H[3],ue),ue.h)break;b[Ee]=(et<<24|Be<<16|je<<8|ft)>>>0}if(Be=!1,++Ee,++ie>=j&&(ie=0,++ee,J!=null&&ee<=Y&&!(ee%16)&&J(g,ee),xe!=null))for(;ce<Ee;)je=b[ce++],xe.X[(506832829*je&4294967295)>>>xe.Mb]=je}else if(280>je){if(je=yr(je-256,ue),ft=Nn(Ce.G[4],Ce.H[4],ue),Q(ue),ft=_r(j,ft=yr(ft,ue)),ue.h)break;if(Ee-O<ft||$-Ee<je)break e;for(et=0;et<je;++et)b[Ee+et]=b[Ee+et-ft];for(Ee+=je,ie+=je;ie>=j;)ie-=j,++ee,J!=null&&ee<=Y&&!(ee%16)&&J(g,ee);if(e(Ee<=$),ie&Pe&&(Ce=Tn(ge,ie,ee)),xe!=null)for(;ce<Ee;)je=b[ce++],xe.X[(506832829*je&4294967295)>>>xe.Mb]=je}else{if(!(je<we))break e;for(Be=je-280,e(xe!=null);ce<Ee;)je=b[ce++],xe.X[(506832829*je&4294967295)>>>xe.Mb]=je;je=Ee,e(!(Be>>>(ft=xe).Xa)),b[je]=ft.X[Be],Be=!0}Be||e(ue.h==K(ue))}if(g.Pb&&ue.h&&Ee<$)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&qe(g.s.vb,g.s.Wa);else{if(ue.h)break e;J!=null&&J(g,ee>Y?Y:ee),g.a=0,g.$=Ee-O}return 1}return g.a=3,0}function Gn(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,e(g!=null)}function Ho(){var g=new yt;return g==null?null:(g.a=0,g.xb=$2,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),Kn=Ze,ef=Xe,tf=cn,ya=Mt,_a=It,wa=Tt,Nl=gn,T.VP8LMapColor32b=Jo,T.VP8LMapColor8b=Jc,g)}function Ti(g,b,O,j,$){var Y=1,J=[g],ee=[b],ie=j.m,ue=j.s,ge=null,Ee=0;e:for(;;){if(O)for(;Y&&z(ie,1);){var ce=J,me=ee,we=j,ke=1,xe=we.m,Pe=we.gc[we.ab],Ce=z(xe,2);if(we.Oc&1<<Ce)Y=0;else{switch(we.Oc|=1<<Ce,Pe.hc=Ce,Pe.Ea=ce[0],Pe.nc=me[0],Pe.K=[null],++we.ab,e(4>=we.ab),Ce){case 0:case 1:Pe.b=z(xe,3)+2,ke=Ti(pe(Pe.Ea,Pe.b),pe(Pe.nc,Pe.b),0,we,Pe.K),Pe.K=Pe.K[0];break;case 3:var Be,je=z(xe,8)+1,ft=16<je?0:4<je?1:2<je?2:3;if(ce[0]=pe(Pe.Ea,ft),Pe.b=ft,Be=ke=Ti(je,1,0,we,Pe.K)){var et,Ct=je,lt=Pe,qt=1<<(8>>lt.b),cr=o(qt);if(cr==null)Be=0;else{var Ot=lt.K[0],ut=lt.w;for(cr[0]=lt.K[0][0],et=1;et<1*Ct;++et)cr[et]=Te(Ot[ut+et],cr[et-1]);for(;et<4*qt;++et)cr[et]=0;lt.K[0]=null,lt.K[0]=cr,Be=1}}ke=Be;break;case 2:break;default:e(0)}Y=ke}}if(J=J[0],ee=ee[0],Y&&z(ie,1)&&!(Y=1<=(Ee=z(ie,4))&&11>=Ee)){j.a=3;break e}var He;if(He=Y)t:{var Qn,kt,Ht,wn=j,kr=J,oi=ee,qn=Ee,zr=O,si=wn.m,fr=wn.s,Wt=[null],nn=1,zn=0,rn=$N[qn];n:for(;;){if(zr&&z(si,1)){var Ir=z(si,3)+2,No=pe(kr,Ir),Xn=pe(oi,Ir),vi=No*Xn;if(!Ti(No,Xn,0,wn,Wt))break n;for(Wt=Wt[0],fr.xc=Ir,Qn=0;Qn<vi;++Qn){var dn=Wt[Qn]>>8&65535;Wt[Qn]=dn,dn>=nn&&(nn=dn+1)}}if(si.h)break n;for(kt=0;5>kt;++kt){var hr=z2[kt];!kt&&0<qn&&(hr+=1<<qn),zn<hr&&(zn=hr)}var Ri=s(nn*rn,I),ai=nn,Di=s(ai,G);if(Di==null)var ji=null;else e(65536>=ai),ji=Di;var yi=o(zn);if(ji==null||yi==null||Ri==null){wn.a=1;break n}var Mi=Ri;for(Qn=Ht=0;Qn<nn;++Qn){var vn=ji[Qn],Fi=vn.G,To=vn.H,kl=0,ks=1,Pr=0;for(kt=0;5>kt;++kt){hr=z2[kt],Fi[kt]=Mi,To[kt]=Ht,!kt&&0<qn&&(hr+=1<<qn);i:{var id,_m=hr,od=wn,af=yi,hT=Mi,dT=Ht,wm=0,Aa=od.m,pT=z(Aa,1);if(i(af,0,0,_m),pT){var gT=z(Aa,1)+1,mT=z(Aa,1),Z2=z(Aa,mT==0?1:8);af[Z2]=1,gT==2&&(af[Z2=z(Aa,8)]=1);var sd=1}else{var e5=o(19),t5=z(Aa,4)+4;if(19<t5){od.a=3;var ad=0;break i}for(id=0;id<t5;++id)e5[zN[id]]=z(Aa,3);var bm=void 0,lf=void 0,n5=od,vT=e5,ld=_m,r5=af,xm=0,Sa=n5.m,i5=8,o5=s(128,I);r:for(;S(o5,0,7,vT,19);){if(z(Sa,1)){var yT=2+2*z(Sa,3);if((bm=2+z(Sa,yT))>ld)break r}else bm=ld;for(lf=0;lf<ld&&bm--;){Q(Sa);var s5=o5[0+(127&W(Sa))];q(Sa,Sa.u+s5.g);var Au=s5.value;if(16>Au)r5[lf++]=Au,Au!=0&&(i5=Au);else{var _T=Au==16,a5=Au-16,wT=VN[a5],l5=z(Sa,UN[a5])+wT;if(lf+l5>ld)break r;for(var bT=_T?i5:0;0<l5--;)r5[lf++]=bT}}xm=1;break r}xm||(n5.a=3),sd=xm}(sd=sd&&!Aa.h)&&(wm=S(hT,dT,8,af,_m)),sd&&wm!=0?ad=wm:(od.a=3,ad=0)}if(ad==0)break n;if(ks&&qN[kt]==1&&(ks=Mi[Ht].g==0),kl+=Mi[Ht].g,Ht+=ad,3>=kt){var uf,Em=yi[0];for(uf=1;uf<hr;++uf)yi[uf]>Em&&(Em=yi[uf]);Pr+=Em}}if(vn.nd=ks,vn.Qb=0,ks&&(vn.qb=(Fi[3][To[3]+0].value<<24|Fi[1][To[1]+0].value<<16|Fi[2][To[2]+0].value)>>>0,kl==0&&256>Fi[0][To[0]+0].value&&(vn.Qb=1,vn.qb+=Fi[0][To[0]+0].value<<8)),vn.jc=!vn.Qb&&6>Pr,vn.jc){var ud,Is=vn;for(ud=0;ud<Sl;++ud){var Na=ud,Ta=Is.pd[Na],cd=Is.G[0][Is.H[0]+Na];256<=cd.value?(Ta.g=cd.g+256,Ta.value=cd.value):(Ta.g=0,Ta.value=0,Na>>=rr(cd,8,Ta),Na>>=rr(Is.G[1][Is.H[1]+Na],16,Ta),Na>>=rr(Is.G[2][Is.H[2]+Na],0,Ta),rr(Is.G[3][Is.H[3]+Na],24,Ta))}}}fr.vc=Wt,fr.Wb=nn,fr.Ya=ji,fr.yc=Ri,He=1;break t}He=0}if(!(Y=He)){j.a=3;break e}if(0<Ee){if(ue.ua=1<<Ee,!re(ue.Wa,Ee)){j.a=1,Y=0;break e}}else ue.ua=0;var Am=j,u5=J,xT=ee,Sm=Am.s,Nm=Sm.xc;if(Am.c=u5,Am.i=xT,Sm.md=pe(u5,Nm),Sm.wc=Nm==0?-1:(1<<Nm)-1,O){j.xb=ZN;break e}if((ge=o(J*ee))==null){j.a=1,Y=0;break e}Y=(Y=Vr(j,ge,0,J,ee,ee,null))&&!ie.h;break e}return Y?($!=null?$[0]=ge:(e(ge==null),e(O)),j.$=0,O||Gn(ue)):Gn(ue),Y}function bo(g,b){var O=g.c*g.i,j=O+b+16*b;return e(g.c<=b),g.V=o(j),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+O+b,1)}function $o(g,b){var O=g.C,j=b-O,$=g.V,Y=g.Ba+g.c*O;for(e(b<=g.l.o);0<j;){var J=16<j?16:j,ee=g.l.ma,ie=g.l.width,ue=ie*J,ge=ee.ca,Ee=ee.tb+ie*O,ce=g.Ta,me=g.Ua;ms(g,J,$,Y),D2(ce,me,ge,Ee,ue),Ni(ee,O,O+J,ge,Ee,ie),j-=J,$+=J*g.c,O+=J}e(O==b),g.C=g.Ma=b}function vs(){this.ub=this.yd=this.td=this.Rb=0}function ys(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qc(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Wo(){this.Yb=function(){var g=[];return function b(O,j,$){for(var Y=$[j],J=0;J<Y&&(O.push($.length>j+1?[]:0),!($.length<j+1));J++)b(O[J],j+1,$)}(g,0,[3,11]),g}()}function pl(){this.jb=o(3),this.Wc=a([4,8],Wo),this.Xc=a([4,17],Wo)}function aa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function ki(){this.Na=this.la=0}function la(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new gl),this.aa=0,this.l=new Go}function vl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function yl(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new vs,this.Kc=new ys,this.ed=new aa,this.Qa=new qc,this.Ic=this.$c=this.Aa=0,this.D=new ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,R),this.ia=0,this.pb=s(4,la),this.Pa=new pl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vl),this.Hd=0,this.rb=Array(new ki),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gl),this.L=this.aa=0,this.gd=a([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pi(g,b){return 0>g?0:g>b?b:g}function Go(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pu(){var g=new yl;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,of||(of=_s)),g}function Ln(g,b,O){return g.a==0&&(g.a=b,g.sc=O,g.cb=0),0}function gu(g,b,O){return 3<=O&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function Xi(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Ln(g,2,"null VP8Io passed to VP8GetHeaders()");var O=b.data,j=b.w,$=b.ha;if(4>$)return Ln(g,7,"Truncated header.");var Y=O[j+0]|O[j+1]<<8|O[j+2]<<16,J=g.Od;if(J.Rb=!(1&Y),J.td=Y>>1&7,J.yd=Y>>4&1,J.ub=Y>>5,3<J.td)return Ln(g,3,"Incorrect keyframe parameters.");if(!J.yd)return Ln(g,4,"Frame not displayable.");j+=3,$-=3;var ee=g.Kc;if(J.Rb){if(7>$)return Ln(g,7,"cannot parse picture header");if(!gu(O,j,$))return Ln(g,3,"Bad code word");ee.c=16383&(O[j+4]<<8|O[j+3]),ee.Td=O[j+4]>>6,ee.i=16383&(O[j+6]<<8|O[j+5]),ee.Ud=O[j+6]>>6,j+=7,$-=7,g.za=ee.c+15>>4,g.Ub=ee.i+15>>4,b.width=ee.c,b.height=ee.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((Y=g.Pa).jb,0,255,Y.jb.length),e((Y=g.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(J.ub>$)return Ln(g,7,"bad partition length");oe(Y=g.m,O,j,J.ub),j+=J.ub,$-=J.ub,J.Rb&&(ee.Ld=fe(Y),ee.Kd=fe(Y)),ee=g.Qa;var ie,ue=g.Pa;if(e(Y!=null),e(ee!=null),ee.Cb=fe(Y),ee.Cb){if(ee.Bb=fe(Y),fe(Y)){for(ee.Fb=fe(Y),ie=0;4>ie;++ie)ee.Zb[ie]=fe(Y)?te(Y,7):0;for(ie=0;4>ie;++ie)ee.Lb[ie]=fe(Y)?te(Y,6):0}if(ee.Bb)for(ie=0;3>ie;++ie)ue.jb[ie]=fe(Y)?se(Y,8):255}else ee.Bb=0;if(Y.Ka)return Ln(g,3,"cannot parse segment header");if((ee=g.ed).zd=fe(Y),ee.Tb=se(Y,6),ee.wb=se(Y,3),ee.Pc=fe(Y),ee.Pc&&fe(Y)){for(ue=0;4>ue;++ue)fe(Y)&&(ee.vd[ue]=te(Y,6));for(ue=0;4>ue;++ue)fe(Y)&&(ee.od[ue]=te(Y,6))}if(g.L=ee.Tb==0?0:ee.zd?1:2,Y.Ka)return Ln(g,3,"cannot parse filter header");var ge=$;if($=ie=j,j=ie+ge,ee=ge,g.Xb=(1<<se(g.m,2))-1,ge<3*(ue=g.Xb))O=7;else{for(ie+=3*ue,ee-=3*ue,ge=0;ge<ue;++ge){var Ee=O[$+0]|O[$+1]<<8|O[$+2]<<16;Ee>ee&&(Ee=ee),oe(g.Jc[+ge],O,ie,Ee),ie+=Ee,ee-=Ee,$+=3}oe(g.Jc[+ue],O,ie,ee),O=ie<j?0:5}if(O!=0)return Ln(g,O,"cannot parse partitions");for(O=se(ie=g.m,7),$=fe(ie)?te(ie,4):0,j=fe(ie)?te(ie,4):0,ee=fe(ie)?te(ie,4):0,ue=fe(ie)?te(ie,4):0,ie=fe(ie)?te(ie,4):0,ge=g.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var ce=ge.Zb[Ee];ge.Fb||(ce+=O)}else{if(0<Ee){g.pb[Ee]=g.pb[0];continue}ce=O}var me=g.pb[Ee];me.Sc[0]=mm[pi(ce+$,127)],me.Sc[1]=vm[pi(ce+0,127)],me.Eb[0]=2*mm[pi(ce+j,127)],me.Eb[1]=101581*vm[pi(ce+ee,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=mm[pi(ce+ue,117)],me.Qc[1]=vm[pi(ce+ie,127)],me.lc=ce+ie}if(!J.Rb)return Ln(g,4,"Not a key frame.");for(fe(Y),J=g.Pa,O=0;4>O;++O){for($=0;8>$;++$)for(j=0;3>j;++j)for(ee=0;11>ee;++ee)ue=he(Y,XN[O][$][j][ee])?se(Y,8):YN[O][$][j][ee],J.Wc[O][$].Yb[j][ee]=ue;for($=0;17>$;++$)J.Xc[O][$]=J.Wc[O][JN[$]]}return g.kc=fe(Y),g.kc&&(g.Bd=se(Y,8)),g.cb=1}function _s(g,b,O,j,$,Y,J){var ee=b[$].Yb[O];for(O=0;16>$;++$){if(!he(g,ee[O+0]))return $;for(;!he(g,ee[O+1]);)if(ee=b[++$].Yb[0],O=0,$==16)return 16;var ie=b[$+1].Yb;if(he(g,ee[O+2])){var ue=g,ge=0;if(he(ue,(ce=ee)[(Ee=O)+3]))if(he(ue,ce[Ee+6])){for(ee=0,Ee=2*(ge=he(ue,ce[Ee+8]))+(ce=he(ue,ce[Ee+9+ge])),ge=0,ce=GN[Ee];ce[ee];++ee)ge+=ge+he(ue,ce[ee]);ge+=3+(8<<Ee)}else he(ue,ce[Ee+7])?(ge=7+2*he(ue,165),ge+=he(ue,145)):ge=5+he(ue,159);else ge=he(ue,ce[Ee+4])?3+he(ue,ce[Ee+5]):2;ee=ie[2]}else ge=1,ee=ie[1];ie=J+KN[$],0>(ue=g).b&&ae(ue);var Ee,ce=ue.b,me=(Ee=ue.Ca>>1)-(ue.I>>ce)>>31;--ue.b,ue.Ca+=me,ue.Ca|=1,ue.I-=(Ee+1&me)<<ce,Y[ie]=((ge^me)-me)*j[(0<$)+0]}return 16}function _l(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function gi(g,b,O,j,$){$=g[b+O+32*j]+($>>3),g[b+O+32*j]=-256&$?0>$?0:255:$}function fn(g,b,O,j,$,Y){gi(g,b,0,O,j+$),gi(g,b,1,O,j+Y),gi(g,b,2,O,j-Y),gi(g,b,3,O,j-$)}function lr(g){return(20091*g>>16)+g}function ws(g,b,O,j){var $,Y=0,J=o(16);for($=0;4>$;++$){var ee=g[b+0]+g[b+8],ie=g[b+0]-g[b+8],ue=(35468*g[b+4]>>16)-lr(g[b+12]),ge=lr(g[b+4])+(35468*g[b+12]>>16);J[Y+0]=ee+ge,J[Y+1]=ie+ue,J[Y+2]=ie-ue,J[Y+3]=ee-ge,Y+=4,b++}for($=Y=0;4>$;++$)ee=(g=J[Y+0]+4)+J[Y+8],ie=g-J[Y+8],ue=(35468*J[Y+4]>>16)-lr(J[Y+12]),gi(O,j,0,0,ee+(ge=lr(J[Y+4])+(35468*J[Y+12]>>16))),gi(O,j,1,0,ie+ue),gi(O,j,2,0,ie-ue),gi(O,j,3,0,ee-ge),Y++,j+=32}function ua(g,b,O,j){var $=g[b+0]+4,Y=35468*g[b+4]>>16,J=lr(g[b+4]),ee=35468*g[b+1]>>16;fn(O,j,0,$+J,g=lr(g[b+1]),ee),fn(O,j,1,$+Y,g,ee),fn(O,j,2,$-Y,g,ee),fn(O,j,3,$-J,g,ee)}function mu(g,b,O,j,$){ws(g,b,O,j),$&&ws(g,b+16,O,j+4)}function Ft(g,b,O,j){Tl(g,b+0,O,j,1),Tl(g,b+32,O,j+128,1)}function bs(g,b,O,j){var $;for(g=g[b+0]+4,$=0;4>$;++$)for(b=0;4>b;++b)gi(O,j,b,$,g)}function Ko(g,b,O,j){g[b+0]&&en(g,b+0,O,j),g[b+16]&&en(g,b+16,O,j+4),g[b+32]&&en(g,b+32,O,j+128),g[b+48]&&en(g,b+48,O,j+128+4)}function Ji(g,b,O,j){var $,Y=o(16);for($=0;4>$;++$){var J=g[b+0+$]+g[b+12+$],ee=g[b+4+$]+g[b+8+$],ie=g[b+4+$]-g[b+8+$],ue=g[b+0+$]-g[b+12+$];Y[0+$]=J+ee,Y[8+$]=J-ee,Y[4+$]=ue+ie,Y[12+$]=ue-ie}for($=0;4>$;++$)J=(g=Y[0+4*$]+3)+Y[3+4*$],ee=Y[1+4*$]+Y[2+4*$],ie=Y[1+4*$]-Y[2+4*$],ue=g-Y[3+4*$],O[j+0]=J+ee>>3,O[j+16]=ue+ie>>3,O[j+32]=J-ee>>3,O[j+48]=ue-ie>>3,j+=64}function xs(g,b,O){var j,$=b-32,Y=Oi,J=255-g[$-1];for(j=0;j<O;++j){var ee,ie=Y,ue=J+g[b-1];for(ee=0;ee<O;++ee)g[b+ee]=ie[ue+g[$+ee]];b+=32}}function vu(g,b){xs(g,b,4)}function zc(g,b){xs(g,b,8)}function Hc(g,b){xs(g,b,16)}function wl(g,b){var O;for(O=0;16>O;++O)r(g,b+32*O,g,b-32,16)}function yu(g,b){var O;for(O=16;0<O;--O)i(g,b,g[b-1],16),b+=32}function Nr(g,b,O){var j;for(j=0;16>j;++j)i(b,O+32*j,g,16)}function Zi(g,b){var O,j=16;for(O=0;16>O;++O)j+=g[b-1+32*O]+g[b+O-32];Nr(j>>5,g,b)}function Yo(g,b){var O,j=8;for(O=0;16>O;++O)j+=g[b-1+32*O];Nr(j>>4,g,b)}function ca(g,b){var O,j=8;for(O=0;16>O;++O)j+=g[b+O-32];Nr(j>>4,g,b)}function _u(g,b){Nr(128,g,b)}function vt(g,b,O){return g+2*b+O+2>>2}function $c(g,b){var O,j=b-32;for(j=new Uint8Array([vt(g[j-1],g[j+0],g[j+1]),vt(g[j+0],g[j+1],g[j+2]),vt(g[j+1],g[j+2],g[j+3]),vt(g[j+2],g[j+3],g[j+4])]),O=0;4>O;++O)r(g,b+32*O,j,0,j.length)}function Wc(g,b){var O=g[b-1],j=g[b-1+32],$=g[b-1+64],Y=g[b-1+96];be(g,b+0,16843009*vt(g[b-1-32],O,j)),be(g,b+32,16843009*vt(O,j,$)),be(g,b+64,16843009*vt(j,$,Y)),be(g,b+96,16843009*vt($,Y,Y))}function Gc(g,b){var O,j=4;for(O=0;4>O;++O)j+=g[b+O-32]+g[b-1+32*O];for(j>>=3,O=0;4>O;++O)i(g,b+32*O,j,4)}function br(g,b){var O=g[b-1+0],j=g[b-1+32],$=g[b-1+64],Y=g[b-1-32],J=g[b+0-32],ee=g[b+1-32],ie=g[b+2-32],ue=g[b+3-32];g[b+0+96]=vt(j,$,g[b-1+96]),g[b+1+96]=g[b+0+64]=vt(O,j,$),g[b+2+96]=g[b+1+64]=g[b+0+32]=vt(Y,O,j),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=vt(J,Y,O),g[b+3+64]=g[b+2+32]=g[b+1+0]=vt(ee,J,Y),g[b+3+32]=g[b+2+0]=vt(ie,ee,J),g[b+3+0]=vt(ue,ie,ee)}function xo(g,b){var O=g[b+1-32],j=g[b+2-32],$=g[b+3-32],Y=g[b+4-32],J=g[b+5-32],ee=g[b+6-32],ie=g[b+7-32];g[b+0+0]=vt(g[b+0-32],O,j),g[b+1+0]=g[b+0+32]=vt(O,j,$),g[b+2+0]=g[b+1+32]=g[b+0+64]=vt(j,$,Y),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=vt($,Y,J),g[b+3+32]=g[b+2+64]=g[b+1+96]=vt(Y,J,ee),g[b+3+64]=g[b+2+96]=vt(J,ee,ie),g[b+3+96]=vt(ee,ie,ie)}function Kc(g,b){var O=g[b-1+0],j=g[b-1+32],$=g[b-1+64],Y=g[b-1-32],J=g[b+0-32],ee=g[b+1-32],ie=g[b+2-32],ue=g[b+3-32];g[b+0+0]=g[b+1+64]=Y+J+1>>1,g[b+1+0]=g[b+2+64]=J+ee+1>>1,g[b+2+0]=g[b+3+64]=ee+ie+1>>1,g[b+3+0]=ie+ue+1>>1,g[b+0+96]=vt($,j,O),g[b+0+64]=vt(j,O,Y),g[b+0+32]=g[b+1+96]=vt(O,Y,J),g[b+1+32]=g[b+2+96]=vt(Y,J,ee),g[b+2+32]=g[b+3+96]=vt(J,ee,ie),g[b+3+32]=vt(ee,ie,ue)}function fa(g,b){var O=g[b+0-32],j=g[b+1-32],$=g[b+2-32],Y=g[b+3-32],J=g[b+4-32],ee=g[b+5-32],ie=g[b+6-32],ue=g[b+7-32];g[b+0+0]=O+j+1>>1,g[b+1+0]=g[b+0+64]=j+$+1>>1,g[b+2+0]=g[b+1+64]=$+Y+1>>1,g[b+3+0]=g[b+2+64]=Y+J+1>>1,g[b+0+32]=vt(O,j,$),g[b+1+32]=g[b+0+96]=vt(j,$,Y),g[b+2+32]=g[b+1+96]=vt($,Y,J),g[b+3+32]=g[b+2+96]=vt(Y,J,ee),g[b+3+64]=vt(J,ee,ie),g[b+3+96]=vt(ee,ie,ue)}function Eo(g,b){var O=g[b-1+0],j=g[b-1+32],$=g[b-1+64],Y=g[b-1+96];g[b+0+0]=O+j+1>>1,g[b+2+0]=g[b+0+32]=j+$+1>>1,g[b+2+32]=g[b+0+64]=$+Y+1>>1,g[b+1+0]=vt(O,j,$),g[b+3+0]=g[b+1+32]=vt(j,$,Y),g[b+3+32]=g[b+1+64]=vt($,Y,Y),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=Y}function ha(g,b){var O=g[b-1+0],j=g[b-1+32],$=g[b-1+64],Y=g[b-1+96],J=g[b-1-32],ee=g[b+0-32],ie=g[b+1-32],ue=g[b+2-32];g[b+0+0]=g[b+2+32]=O+J+1>>1,g[b+0+32]=g[b+2+64]=j+O+1>>1,g[b+0+64]=g[b+2+96]=$+j+1>>1,g[b+0+96]=Y+$+1>>1,g[b+3+0]=vt(ee,ie,ue),g[b+2+0]=vt(J,ee,ie),g[b+1+0]=g[b+3+32]=vt(O,J,ee),g[b+1+32]=g[b+3+64]=vt(j,O,J),g[b+1+64]=g[b+3+96]=vt($,j,O),g[b+1+96]=vt(Y,$,j)}function Ii(g,b){var O;for(O=0;8>O;++O)r(g,b+32*O,g,b-32,8)}function Es(g,b){var O;for(O=0;8>O;++O)i(g,b,g[b-1],8),b+=32}function eo(g,b,O){var j;for(j=0;8>j;++j)i(b,O+32*j,g,8)}function bl(g,b){var O,j=8;for(O=0;8>O;++O)j+=g[b+O-32]+g[b-1+32*O];eo(j>>4,g,b)}function un(g,b){var O,j=4;for(O=0;8>O;++O)j+=g[b+O-32];eo(j>>3,g,b)}function xl(g,b){var O,j=4;for(O=0;8>O;++O)j+=g[b-1+32*O];eo(j>>3,g,b)}function wu(g,b){eo(128,g,b)}function to(g,b,O){var j=g[b-O],$=g[b+0],Y=3*($-j)+fm[1020+g[b-2*O]-g[b+O]],J=Yh[112+(Y+4>>3)];g[b-O]=Oi[255+j+Yh[112+(Y+3>>3)]],g[b+0]=Oi[255+$-J]}function da(g,b,O,j){var $=g[b+0],Y=g[b+O];return ao[255+g[b-2*O]-g[b-O]]>j||ao[255+Y-$]>j}function As(g,b,O,j){return 4*ao[255+g[b-O]-g[b+0]]+ao[255+g[b-2*O]-g[b+O]]<=j}function Qo(g,b,O,j,$){var Y=g[b-3*O],J=g[b-2*O],ee=g[b-O],ie=g[b+0],ue=g[b+O],ge=g[b+2*O],Ee=g[b+3*O];return 4*ao[255+ee-ie]+ao[255+J-ue]>j?0:ao[255+g[b-4*O]-Y]<=$&&ao[255+Y-J]<=$&&ao[255+J-ee]<=$&&ao[255+Ee-ge]<=$&&ao[255+ge-ue]<=$&&ao[255+ue-ie]<=$}function Xo(g,b,O,j){var $=2*j+1;for(j=0;16>j;++j)As(g,b+j,O,$)&&to(g,b+j,O)}function ri(g,b,O,j){var $=2*j+1;for(j=0;16>j;++j)As(g,b+j*O,1,$)&&to(g,b+j*O,1)}function El(g,b,O,j){var $;for($=3;0<$;--$)Xo(g,b+=4*O,O,j)}function bu(g,b,O,j){var $;for($=3;0<$;--$)ri(g,b+=4,O,j)}function ii(g,b,O,j,$,Y,J,ee){for(Y=2*Y+1;0<$--;){if(Qo(g,b,O,Y,J))if(da(g,b,O,ee))to(g,b,O);else{var ie=g,ue=b,ge=O,Ee=ie[ue-2*ge],ce=ie[ue-ge],me=ie[ue+0],we=ie[ue+ge],ke=ie[ue+2*ge],xe=27*(Ce=fm[1020+3*(me-ce)+fm[1020+Ee-we]])+63>>7,Pe=18*Ce+63>>7,Ce=9*Ce+63>>7;ie[ue-3*ge]=Oi[255+ie[ue-3*ge]+Ce],ie[ue-2*ge]=Oi[255+Ee+Pe],ie[ue-ge]=Oi[255+ce+xe],ie[ue+0]=Oi[255+me-xe],ie[ue+ge]=Oi[255+we-Pe],ie[ue+2*ge]=Oi[255+ke-Ce]}b+=j}}function no(g,b,O,j,$,Y,J,ee){for(Y=2*Y+1;0<$--;){if(Qo(g,b,O,Y,J))if(da(g,b,O,ee))to(g,b,O);else{var ie=g,ue=b,ge=O,Ee=ie[ue-ge],ce=ie[ue+0],me=ie[ue+ge],we=Yh[112+(4+(ke=3*(ce-Ee))>>3)],ke=Yh[112+(ke+3>>3)],xe=we+1>>1;ie[ue-2*ge]=Oi[255+ie[ue-2*ge]+xe],ie[ue-ge]=Oi[255+Ee+ke],ie[ue+0]=Oi[255+ce-we],ie[ue+ge]=Oi[255+me-xe]}b+=j}}function pa(g,b,O,j,$,Y){ii(g,b,O,1,16,j,$,Y)}function ro(g,b,O,j,$,Y){ii(g,b,1,O,16,j,$,Y)}function Al(g,b,O,j,$,Y){var J;for(J=3;0<J;--J)no(g,b+=4*O,O,1,16,j,$,Y)}function P(g,b,O,j,$,Y){var J;for(J=3;0<J;--J)no(g,b+=4,1,O,16,j,$,Y)}function H(g,b,O,j,$,Y,J,ee){ii(g,b,$,1,8,Y,J,ee),ii(O,j,$,1,8,Y,J,ee)}function le(g,b,O,j,$,Y,J,ee){ii(g,b,1,$,8,Y,J,ee),ii(O,j,1,$,8,Y,J,ee)}function de(g,b,O,j,$,Y,J,ee){no(g,b+4*$,$,1,8,Y,J,ee),no(O,j+4*$,$,1,8,Y,J,ee)}function ve(g,b,O,j,$,Y,J,ee){no(g,b+4,1,$,8,Y,J,ee),no(O,j+4,1,$,8,Y,J,ee)}function Ie(){this.ba=new Pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Re(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ot(){this.ua=0,this.Wa=new it,this.vb=new it,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new I}function yt(){this.xb=this.a=0,this.l=new Go,this.ca=new Pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ot,this.ab=0,this.gc=s(4,Ye),this.Oc=0}function Et(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Go,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bt(g,b,O,j,$,Y,J){for(g=g==null?0:g[b+0],b=0;b<J;++b)$[Y+b]=g+O[j+b]&255,g=$[Y+b]}function Xt(g,b,O,j,$,Y,J){var ee;if(g==null)Bt(null,null,O,j,$,Y,J);else for(ee=0;ee<J;++ee)$[Y+ee]=g[b+ee]+O[j+ee]&255}function Cn(g,b,O,j,$,Y,J){if(g==null)Bt(null,null,O,j,$,Y,J);else{var ee,ie=g[b+0],ue=ie,ge=ie;for(ee=0;ee<J;++ee)ue=ge+(ie=g[b+ee])-ue,ge=O[j+ee]+(-256&ue?0>ue?0:255:ue)&255,ue=ie,$[Y+ee]=ge}}function tn(g,b,O,j){var $=b.width,Y=b.o;if(e(g!=null&&b!=null),0>O||0>=j||O+j>Y)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new Et,(J=g.ga==null)||(J=b.width*b.o,e(g.Gb.length==0),g.Gb=o(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var ee=g.Fa,ie=g.P,ue=g.qc,ge=g.mb,Ee=g.nb,ce=ie+1,me=ue-1,we=J.l;if(e(ee!=null&&ge!=null&&b!=null),Ea[0]=null,Ea[1]=Bt,Ea[2]=Xt,Ea[3]=Cn,J.ca=ge,J.tb=Ee,J.c=b.width,J.i=b.height,e(0<J.c&&0<J.i),1>=ue)b=0;else if(J.$a=3&ee[ie+0],J.Z=ee[ie+0]>>2&3,J.Lc=ee[ie+0]>>4&3,ie=ee[ie+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ie)b=0;else if(we.put=gt,we.ac=Br,we.bc=_n,we.ma=J,we.width=b.width,we.height=b.height,we.Da=b.Da,we.v=b.v,we.va=b.va,we.j=b.j,we.o=b.o,J.$a)e:{e(J.$a==1),b=Ho();t:for(;;){if(b==null){b=0;break e}if(e(J!=null),J.mc=b,b.c=J.c,b.i=J.i,b.l=J.l,b.l.ma=J,b.l.width=J.c,b.l.height=J.i,b.a=0,Z(b.m,ee,ce,me),!Ti(J.c,J.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ur(b.s)?(J.ic=1,ee=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(ee),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(J.ic=0,b=bo(b,J.c)),!b))break t;b=1;break e}J.mc=null,b=0}else b=me>=J.c*J.i;J=!b}if(J)return null;g.ga.Lc!=1?g.Ga=0:j=Y-O}e(g.ga!=null),e(O+j<=Y);e:{if(b=(ee=g.ga).c,Y=ee.l.o,ee.$a==0){if(ce=g.rc,me=g.Vc,we=g.Fa,ie=g.P+1+O*b,ue=g.mb,ge=g.nb+O*b,e(ie<=g.P+g.qc),ee.Z!=0)for(e(Ea[ee.Z]!=null),J=0;J<j;++J)Ea[ee.Z](ce,me,we,ie,ue,ge,b),ce=ue,me=ge,ge+=b,ie+=b;else for(J=0;J<j;++J)r(ue,ge,we,ie,b),ce=ue,me=ge,ge+=b,ie+=b;g.rc=ce,g.Vc=me}else{if(e(ee.mc!=null),b=O+j,e((J=ee.mc)!=null),e(b<=J.i),J.C>=b)b=1;else if(ee.ic||mi(),ee.ic){ee=J.V,ce=J.Ba,me=J.c;var ke=J.i,xe=(we=1,ie=J.$/me,ue=J.$%me,ge=J.m,Ee=J.s,J.$),Pe=me*ke,Ce=me*b,Be=Ee.wc,je=xe<Ce?Tn(Ee,ue,ie):null;e(xe<=Pe),e(b<=ke),e(Ur(Ee));t:for(;;){for(;!ge.h&&xe<Ce;){if(ue&Be||(je=Tn(Ee,ue,ie)),e(je!=null),Q(ge),256>(ke=Nn(je.G[0],je.H[0],ge)))ee[ce+xe]=ke,++xe,++ue>=me&&(ue=0,++ie<=b&&!(ie%16)&&ni(J,ie));else{if(!(280>ke)){we=0;break t}ke=yr(ke-256,ge);var ft,et=Nn(je.G[4],je.H[4],ge);if(Q(ge),!(xe>=(et=_r(me,et=yr(et,ge)))&&Pe-xe>=ke)){we=0;break t}for(ft=0;ft<ke;++ft)ee[ce+xe+ft]=ee[ce+xe+ft-et];for(xe+=ke,ue+=ke;ue>=me;)ue-=me,++ie<=b&&!(ie%16)&&ni(J,ie);xe<Ce&&ue&Be&&(je=Tn(Ee,ue,ie))}e(ge.h==K(ge))}ni(J,ie>b?b:ie);break t}!we||ge.h&&xe<Pe?(we=0,J.a=ge.h?5:3):J.$=xe,b=we}else b=Vr(J,J.V,J.Ba,J.c,J.i,b,$o);if(!b){j=0;break e}}O+j>=Y&&(g.Cc=1),j=1}if(!j)return null;if(g.Cc&&((j=g.ga)!=null&&(j.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+O*$}function Un(g,b,O,j,$,Y){for(;0<$--;){var J,ee=g,ie=b+(O?1:0),ue=g,ge=b+(O?0:3);for(J=0;J<j;++J){var Ee=ue[ge+4*J];Ee!=255&&(Ee*=32897,ee[ie+4*J+0]=ee[ie+4*J+0]*Ee>>23,ee[ie+4*J+1]=ee[ie+4*J+1]*Ee>>23,ee[ie+4*J+2]=ee[ie+4*J+2]*Ee>>23)}b+=Y}}function On(g,b,O,j,$){for(;0<j--;){var Y;for(Y=0;Y<O;++Y){var J=g[b+2*Y+0],ee=15&(ue=g[b+2*Y+1]),ie=4369*ee,ue=(240&ue|ue>>4)*ie>>16;g[b+2*Y+0]=(240&J|J>>4)*ie>>16&240|(15&J|J<<4)*ie>>16>>4&15,g[b+2*Y+1]=240&ue|ee}b+=$}}function Vn(g,b,O,j,$,Y,J,ee){var ie,ue,ge=255;for(ue=0;ue<$;++ue){for(ie=0;ie<j;++ie){var Ee=g[b+ie];Y[J+4*ie]=Ee,ge&=Ee}b+=O,J+=ee}return ge!=255}function Rn(g,b,O,j,$){var Y;for(Y=0;Y<$;++Y)O[j+Y]=g[b+Y]>>8}function mi(){rf=Un,O2=On,R2=Vn,D2=Rn}function io(g,b,O){T[g]=function(j,$,Y,J,ee,ie,ue,ge,Ee,ce,me,we,ke,xe,Pe,Ce,Be){var je,ft=Be-1>>1,et=ee[ie+0]|ue[ge+0]<<16,Ct=Ee[ce+0]|me[we+0]<<16;e(j!=null);var lt=3*et+Ct+131074>>2;for(b(j[$+0],255&lt,lt>>16,ke,xe),Y!=null&&(lt=3*Ct+et+131074>>2,b(Y[J+0],255&lt,lt>>16,Pe,Ce)),je=1;je<=ft;++je){var qt=ee[ie+je]|ue[ge+je]<<16,cr=Ee[ce+je]|me[we+je]<<16,Ot=et+qt+Ct+cr+524296,ut=Ot+2*(qt+Ct)>>3;lt=ut+et>>1,et=(Ot=Ot+2*(et+cr)>>3)+qt>>1,b(j[$+2*je-1],255&lt,lt>>16,ke,xe+(2*je-1)*O),b(j[$+2*je-0],255&et,et>>16,ke,xe+(2*je-0)*O),Y!=null&&(lt=Ot+Ct>>1,et=ut+cr>>1,b(Y[J+2*je-1],255&lt,lt>>16,Pe,Ce+(2*je-1)*O),b(Y[J+2*je+0],255&et,et>>16,Pe,Ce+(2*je+0)*O)),et=qt,Ct=cr}1&Be||(lt=3*et+Ct+131074>>2,b(j[$+Be-1],255&lt,lt>>16,ke,xe+(Be-1)*O),Y!=null&&(lt=3*Ct+et+131074>>2,b(Y[J+Be-1],255&lt,lt>>16,Pe,Ce+(Be-1)*O)))}}function oo(){lo[Qh]=eT,lo[Xh]=W2,lo[V2]=tT,lo[Jh]=G2,lo[Zh]=K2,lo[hm]=Y2,lo[q2]=nT,lo[dm]=W2,lo[pm]=G2,lo[ed]=K2,lo[gm]=Y2}function m(g){return g&-16384?0>g?0:255:g>>rT}function D(g,b){return m((19077*g>>8)+(26149*b>>8)-14234)}function V(g,b,O){return m((19077*g>>8)-(6419*b>>8)-(13320*O>>8)+8708)}function ne(g,b){return m((19077*g>>8)+(33050*b>>8)-17685)}function _e(g,b,O,j,$){j[$+0]=D(g,O),j[$+1]=V(g,b,O),j[$+2]=ne(g,b)}function Ae(g,b,O,j,$){j[$+0]=ne(g,b),j[$+1]=V(g,b,O),j[$+2]=D(g,O)}function ze(g,b,O,j,$){var Y=V(g,b,O);b=Y<<3&224|ne(g,b)>>3,j[$+0]=248&D(g,O)|Y>>5,j[$+1]=b}function Vt(g,b,O,j,$){var Y=240&ne(g,b)|15;j[$+0]=240&D(g,O)|V(g,b,O)>>4,j[$+1]=Y}function Dn(g,b,O,j,$){j[$+0]=255,_e(g,b,O,j,$+1)}function Dt(g,b,O,j,$){Ae(g,b,O,j,$),j[$+3]=255}function Yt(g,b,O,j,$){_e(g,b,O,j,$),j[$+3]=255}function mn(g,b,O){T[g]=function(j,$,Y,J,ee,ie,ue,ge,Ee){for(var ce=ge+(-2&Ee)*O;ge!=ce;)b(j[$+0],Y[J+0],ee[ie+0],ue,ge),b(j[$+1],Y[J+0],ee[ie+0],ue,ge+O),$+=2,++J,++ie,ge+=2*O;1&Ee&&b(j[$+0],Y[J+0],ee[ie+0],ue,ge)}}function Pi(g,b,O){return O==0?g==0?b==0?6:5:b==0?4:0:O}function qr(g,b,O,j,$){switch(g>>>30){case 3:Tl(b,O,j,$,0);break;case 2:so(b,O,j,$);break;case 1:en(b,O,j,$)}}function Tr(g,b){var O,j,$=b.M,Y=b.Nb,J=g.oc,ee=g.pc+40,ie=g.oc,ue=g.pc+584,ge=g.oc,Ee=g.pc+600;for(O=0;16>O;++O)J[ee+32*O-1]=129;for(O=0;8>O;++O)ie[ue+32*O-1]=129,ge[Ee+32*O-1]=129;for(0<$?J[ee-1-32]=ie[ue-1-32]=ge[Ee-1-32]=129:(i(J,ee-32-1,127,21),i(ie,ue-32-1,127,9),i(ge,Ee-32-1,127,9)),j=0;j<g.za;++j){var ce=b.ya[b.aa+j];if(0<j){for(O=-1;16>O;++O)r(J,ee+32*O-4,J,ee+32*O+12,4);for(O=-1;8>O;++O)r(ie,ue+32*O-4,ie,ue+32*O+4,4),r(ge,Ee+32*O-4,ge,Ee+32*O+4,4)}var me=g.Gd,we=g.Hd+j,ke=ce.ad,xe=ce.Hc;if(0<$&&(r(J,ee-32,me[we].y,0,16),r(ie,ue-32,me[we].f,0,8),r(ge,Ee-32,me[we].ea,0,8)),ce.Za){var Pe=J,Ce=ee-32+16;for(0<$&&(j>=g.za-1?i(Pe,Ce,me[we].y[15],4):r(Pe,Ce,me[we+1].y,0,4)),O=0;4>O;O++)Pe[Ce+128+O]=Pe[Ce+256+O]=Pe[Ce+384+O]=Pe[Ce+0+O];for(O=0;16>O;++O,xe<<=2)Pe=J,Ce=ee+X2[O],So[ce.Ob[O]](Pe,Ce),qr(xe,ke,16*+O,Pe,Ce)}else if(Pe=Pi(j,$,ce.Ob[0]),xa[Pe](J,ee),xe!=0)for(O=0;16>O;++O,xe<<=2)qr(xe,ke,16*+O,J,ee+X2[O]);for(O=ce.Gc,Pe=Pi(j,$,ce.Dd),Ts[Pe](ie,ue),Ts[Pe](ge,Ee),xe=ke,Pe=ie,Ce=ue,255&(ce=0|O)&&(170&ce?es(xe,256,Pe,Ce):hn(xe,256,Pe,Ce)),ce=ge,xe=Ee,255&(O>>=8)&&(170&O?es(ke,320,ce,xe):hn(ke,320,ce,xe)),$<g.Ub-1&&(r(me[we].y,0,J,ee+480,16),r(me[we].f,0,ie,ue+224,8),r(me[we].ea,0,ge,Ee+224,8)),O=8*Y*g.B,me=g.sa,we=g.ta+16*j+16*Y*g.R,ke=g.qa,ce=g.ra+8*j+O,xe=g.Ha,Pe=g.Ia+8*j+O,O=0;16>O;++O)r(me,we+O*g.R,J,ee+32*O,16);for(O=0;8>O;++O)r(ke,ce+O*g.B,ie,ue+32*O,8),r(xe,Pe+O*g.B,ge,Ee+32*O,8)}}function Ao(g,b,O,j,$,Y,J,ee,ie){var ue=[0],ge=[0],Ee=0,ce=ie!=null?ie.kd:0,me=ie??new Re;if(g==null||12>O)return 7;me.data=g,me.w=b,me.ha=O,b=[b],O=[O],me.gb=[me.gb];e:{var we=b,ke=O,xe=me.gb;if(e(g!=null),e(ke!=null),e(xe!=null),xe[0]=0,12<=ke[0]&&!n(g,we[0],"RIFF")){if(n(g,we[0]+8,"WEBP")){xe=3;break e}var Pe=Ue(g,we[0]+4);if(12>Pe||4294967286<Pe){xe=3;break e}if(ce&&Pe>ke[0]-8){xe=7;break e}xe[0]=Pe,we[0]+=12,ke[0]-=12}xe=0}if(xe!=0)return xe;for(Pe=0<me.gb[0],O=O[0];;){e:{var Ce=g;ke=b,xe=O;var Be=ue,je=ge,ft=we=[0];if((lt=Ee=[Ee])[0]=0,8>xe[0])xe=7;else{if(!n(Ce,ke[0],"VP8X")){if(Ue(Ce,ke[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var et=Ue(Ce,ke[0]+8),Ct=1+Oe(Ce,ke[0]+12);if(2147483648<=Ct*(Ce=1+Oe(Ce,ke[0]+15))){xe=3;break e}ft!=null&&(ft[0]=et),Be!=null&&(Be[0]=Ct),je!=null&&(je[0]=Ce),ke[0]+=18,xe[0]-=18,lt[0]=1}xe=0}}if(Ee=Ee[0],we=we[0],xe!=0)return xe;if(ke=!!(2&we),!Pe&&Ee)return 3;if(Y!=null&&(Y[0]=!!(16&we)),J!=null&&(J[0]=ke),ee!=null&&(ee[0]=0),J=ue[0],we=ge[0],Ee&&ke&&ie==null){xe=0;break}if(4>O){xe=7;break}if(Pe&&Ee||!Pe&&!Ee&&!n(g,b[0],"ALPH")){O=[O],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{et=g,xe=b,Pe=O;var lt=me.gb;Be=me.na,je=me.P,ft=me.Sa,Ct=22,e(et!=null),e(Pe!=null),Ce=xe[0];var qt=Pe[0];for(e(Be!=null),e(ft!=null),Be[0]=null,je[0]=null,ft[0]=0;;){if(xe[0]=Ce,Pe[0]=qt,8>qt){xe=7;break e}var cr=Ue(et,Ce+4);if(4294967286<cr){xe=3;break e}var Ot=8+cr+1&-2;if(Ct+=Ot,0<lt&&Ct>lt){xe=3;break e}if(!n(et,Ce,"VP8 ")||!n(et,Ce,"VP8L")){xe=0;break e}if(qt[0]<Ot){xe=7;break e}n(et,Ce,"ALPH")||(Be[0]=et,je[0]=Ce+8,ft[0]=cr),Ce+=Ot,qt-=Ot}}if(O=O[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],xe!=0)break}O=[O],me.Ja=[me.Ja],me.xa=[me.xa];e:if(lt=g,xe=b,Pe=O,Be=me.gb[0],je=me.Ja,ft=me.xa,et=xe[0],Ce=!n(lt,et,"VP8 "),Ct=!n(lt,et,"VP8L"),e(lt!=null),e(Pe!=null),e(je!=null),e(ft!=null),8>Pe[0])xe=7;else{if(Ce||Ct){if(lt=Ue(lt,et+4),12<=Be&&lt>Be-12){xe=3;break e}if(ce&&lt>Pe[0]-8){xe=7;break e}je[0]=lt,xe[0]+=8,Pe[0]-=8,ft[0]=Ct}else ft[0]=5<=Pe[0]&&lt[et+0]==47&&!(lt[et+4]>>5),je[0]=Pe[0];xe=0}if(O=O[0],me.Ja=me.Ja[0],me.xa=me.xa[0],b=b[0],xe!=0)break;if(4294967286<me.Ja)return 3;if(ee==null||ke||(ee[0]=me.xa?2:1),J=[J],we=[we],me.xa){if(5>O){xe=7;break}ee=J,ce=we,ke=Y,g==null||5>O?g=0:5<=O&&g[b+0]==47&&!(g[b+4]>>5)?(Pe=[0],lt=[0],Be=[0],Z(je=new F,g,b,O),Qi(je,Pe,lt,Be)?(ee!=null&&(ee[0]=Pe[0]),ce!=null&&(ce[0]=lt[0]),ke!=null&&(ke[0]=Be[0]),g=1):g=0):g=0}else{if(10>O){xe=7;break}ee=we,g==null||10>O||!gu(g,b+3,O-3)?g=0:(ce=g[b+0]|g[b+1]<<8|g[b+2]<<16,ke=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=me.Ja||!ke||!g?g=0:(J&&(J[0]=ke),ee&&(ee[0]=g),g=1))}if(!g||(J=J[0],we=we[0],Ee&&(ue[0]!=J||ge[0]!=we)))return 3;ie!=null&&(ie[0]=me,ie.offset=b-ie.w,e(4294967286>b-ie.w),e(ie.offset==ie.ha-O));break}return xe==0||xe==7&&Ee&&ie==null?(Y!=null&&(Y[0]|=me.na!=null&&0<me.na.length),j!=null&&(j[0]=J),$!=null&&($[0]=we),0):xe}function Yc(g,b,O){var j=b.width,$=b.height,Y=0,J=0,ee=j,ie=$;if(b.Da=g!=null&&0<g.Da,b.Da&&(ee=g.cd,ie=g.bd,Y=g.v,J=g.j,11>O||(Y&=-2,J&=-2),0>Y||0>J||0>=ee||0>=ie||Y+ee>j||J+ie>$))return 0;if(b.v=Y,b.j=J,b.va=Y+ee,b.o=J+ie,b.U=ee,b.T=ie,b.da=g!=null&&0<g.da,b.da){if(!ye(ee,ie,O=[g.ib],Y=[g.hb]))return 0;b.ib=O[0],b.hb=Y[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*j/4&&b.hb<3*$/4,b.Kb=0),1}function Qc(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function ga(g,b,O,j){if(j==null||0>=g||0>=b)return 2;if(O!=null){if(O.Da){var $=O.cd,Y=O.bd,J=-2&O.v,ee=-2&O.j;if(0>J||0>ee||0>=$||0>=Y||J+$>g||ee+Y>b)return 2;g=$,b=Y}if(O.da){if(!ye(g,b,$=[O.ib],Y=[O.hb]))return 2;g=$[0],b=Y[0]}}j.width=g,j.height=b;e:{var ie=j.width,ue=j.height;if(g=j.S,0>=ie||0>=ue||!(g>=Qh&&13>g))g=2;else{if(0>=j.Rd&&j.sd==null){J=Y=$=b=0;var ge=(ee=ie*J2[g])*ue;if(11>g||(Y=(ue+1)/2*(b=(ie+1)/2),g==12&&(J=($=ie)*ue)),(ue=o(ge+2*Y+J))==null){g=1;break e}j.sd=ue,11>g?((ie=j.f.RGBA).eb=ue,ie.fb=0,ie.A=ee,ie.size=ge):((ie=j.f.kb).y=ue,ie.O=0,ie.fa=ee,ie.Fd=ge,ie.f=ue,ie.N=0+ge,ie.Ab=b,ie.Cd=Y,ie.ea=ue,ie.W=0+ge+Y,ie.Db=b,ie.Ed=Y,g==12&&(ie.F=ue,ie.J=0+ge+2*Y),ie.Tc=J,ie.lb=$)}if(b=1,$=j.S,Y=j.width,J=j.height,$>=Qh&&13>$)if(11>$)g=j.f.RGBA,b&=(ee=Math.abs(g.A))*(J-1)+Y<=g.size,b&=ee>=Y*J2[$],b&=g.eb!=null;else{g=j.f.kb,ee=(Y+1)/2,ge=(J+1)/2,ie=Math.abs(g.fa),ue=Math.abs(g.Ab);var Ee=Math.abs(g.Db),ce=Math.abs(g.lb),me=ce*(J-1)+Y;b&=ie*(J-1)+Y<=g.Fd,b&=ue*(ge-1)+ee<=g.Cd,b=(b&=Ee*(ge-1)+ee<=g.Ed)&ie>=Y&ue>=ee&Ee>=ee,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,$==12&&(b&=ce>=Y,b&=me<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||O!=null&&O.fd&&(g=Qc(j)),g}var Sl=64,Li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ci=24,ma=32,Ss=8,va=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(g){return g},T.Predictor2=function(g,b,O){return b[O+0]},T.Predictor3=function(g,b,O){return b[O+1]},T.Predictor4=function(g,b,O){return b[O-1]},T.Predictor5=function(g,b,O){return Fe(Fe(g,b[O+1]),b[O+0])},T.Predictor6=function(g,b,O){return Fe(g,b[O-1])},T.Predictor7=function(g,b,O){return Fe(g,b[O+0])},T.Predictor8=function(g,b,O){return Fe(b[O-1],b[O+0])},T.Predictor9=function(g,b,O){return Fe(b[O+0],b[O+1])},T.Predictor10=function(g,b,O){return Fe(Fe(g,b[O-1]),Fe(b[O+0],b[O+1]))},T.Predictor11=function(g,b,O){var j=b[O+0];return 0>=Ge(j>>24&255,g>>24&255,(b=b[O-1])>>24&255)+Ge(j>>16&255,g>>16&255,b>>16&255)+Ge(j>>8&255,g>>8&255,b>>8&255)+Ge(255&j,255&g,255&b)?j:g},T.Predictor12=function(g,b,O){var j=b[O+0];return(We((g>>24&255)+(j>>24&255)-((b=b[O-1])>>24&255))<<24|We((g>>16&255)+(j>>16&255)-(b>>16&255))<<16|We((g>>8&255)+(j>>8&255)-(b>>8&255))<<8|We((255&g)+(255&j)-(255&b)))>>>0},T.Predictor13=function(g,b,O){var j=b[O-1];return($e((g=Fe(g,b[O+0]))>>24&255,j>>24&255)<<24|$e(g>>16&255,j>>16&255)<<16|$e(g>>8&255,j>>8&255)<<8|$e(255&g,255&j))>>>0};var Xc=T.PredictorAdd0;T.PredictorAdd1=at,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var xu=T.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Kn,Gh=T.ColorIndexInverseTransform,Jo=T.MapARGB,Zo=T.VP8LColorIndexInverseTransformAlpha,Jc=T.MapAlpha,Zc=T.VP8LPredictorsAdd=[];Zc.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var ef,tf,ya,_a,wa,Nl,ba,Tl,so,es,en,hn,Yn,ur,Ns,nf,Eu,Kh,T2,k2,I2,P2,L2,C2,rf,O2,R2,D2,j2=o(511),M2=o(2041),F2=o(225),B2=o(767),U2=0,fm=M2,Yh=F2,Oi=B2,ao=j2,Qh=0,Xh=1,V2=2,Jh=3,Zh=4,hm=5,q2=6,dm=7,pm=8,ed=9,gm=10,UN=[2,3,7],VN=[3,3,11],z2=[280,256,256,256,40],qN=[0,1,1,1,0],zN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],HN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$N=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],WN=8,mm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],of=null,GN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],KN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],H2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],YN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],QN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],XN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],JN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xa=[],So=[],Ts=[],ZN=1,$2=2,Ea=[],lo=[];io("UpsampleRgbLinePair",_e,3),io("UpsampleBgrLinePair",Ae,3),io("UpsampleRgbaLinePair",Yt,4),io("UpsampleBgraLinePair",Dt,4),io("UpsampleArgbLinePair",Dn,4),io("UpsampleRgba4444LinePair",Vt,2),io("UpsampleRgb565LinePair",ze,2);var eT=T.UpsampleRgbLinePair,tT=T.UpsampleBgrLinePair,W2=T.UpsampleRgbaLinePair,G2=T.UpsampleBgraLinePair,K2=T.UpsampleArgbLinePair,Y2=T.UpsampleRgba4444LinePair,nT=T.UpsampleRgb565LinePair,td=16,nd=1<<td-1,sf=-227,ym=482,rT=6,Q2=0,iT=o(256),oT=o(256),sT=o(256),aT=o(256),lT=o(ym-sf),uT=o(ym-sf);mn("YuvToRgbRow",_e,3),mn("YuvToBgrRow",Ae,3),mn("YuvToRgbaRow",Yt,4),mn("YuvToBgraRow",Dt,4),mn("YuvToArgbRow",Dn,4),mn("YuvToRgba4444Row",Vt,2),mn("YuvToRgb565Row",ze,2);var X2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rd=[0,2,8],cT=[8,7,6,4,4,2,2,2,1,1,1,1],fT=1;this.WebPDecodeRGBA=function(g,b,O,j,$){var Y=Xh,J=new Ie,ee=new Pt;J.ba=ee,ee.S=Y,ee.width=[ee.width],ee.height=[ee.height];var ie=ee.width,ue=ee.height,ge=new dt;if(ge==null||g==null)var Ee=2;else e(ge!=null),Ee=Ao(g,b,O,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?ie=0:(ie!=null&&(ie[0]=ge.width[0]),ue!=null&&(ue[0]=ge.height[0]),ie=1),ie){ee.width=ee.width[0],ee.height=ee.height[0],j!=null&&(j[0]=ee.width),$!=null&&($[0]=ee.height);e:{if(j=new Go,($=new Re).data=g,$.w=b,$.ha=O,$.kd=1,b=[0],e($!=null),((g=Ao($.data,$.w,$.ha,null,null,null,b,null,$))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(e(J!=null),j.data=$.data,j.w=$.w+$.offset,j.ha=$.ha-$.offset,j.put=gt,j.ac=Br,j.bc=_n,j.ma=J,$.xa){if((g=Ho())==null){J=1;break e}if(function(ce,me){var we=[0],ke=[0],xe=[0];t:for(;;){if(ce==null)return 0;if(me==null)return ce.a=2,0;if(ce.l=me,ce.a=0,Z(ce.m,me.data,me.w,me.ha),!Qi(ce.m,we,ke,xe)){ce.a=3;break t}if(ce.xb=$2,me.width=we[0],me.height=ke[0],!Ti(we[0],ke[0],1,ce,null))break t;return 1}return e(ce.a!=0),0}(g,j)){if(j=(b=ga(j.width,j.height,J.Oa,J.ba))==0){t:{j=g;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((O=j.l)!=null),e(($=O.ma)!=null),j.xb!=0){if(j.ca=$.ba,j.tb=$.tb,e(j.ca!=null),!Yc($.Oa,O,Jh)){j.a=2;break n}if(!bo(j,O.width)||O.da)break n;if((O.da||mt(j.ca.S))&&mi(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&mi()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!re(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Vr(j,j.V,j.Ba,j.c,j.i,O.o,zo))break n;$.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(b=g.a)}else b=g.a}else{if((g=new pu)==null){J=1;break e}if(g.Fa=$.na,g.P=$.P,g.qc=$.Sa,Xi(g,j)){if((b=ga(j.width,j.height,J.Oa,J.ba))==0){if(g.Aa=0,O=J.Oa,e(($=g)!=null),O!=null){if(0<(ie=0>(ie=O.Md)?0:100<ie?255:255*ie/100)){for(ue=ge=0;4>ue;++ue)12>(Ee=$.pb[ue]).lc&&(Ee.ia=ie*cT[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=O.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(ce,me){if(ce==null)return 0;if(me==null)return Ln(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!Xi(ce,me))return 0;if(e(ce.cb),me.ac==null||me.ac(me)){me.ob&&(ce.L=0);var we=rd[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=me.v-we>>4,ce.zb=me.j-we>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=me.o+15+we>>4,ce.Hb=me.va+15+we>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var ke=ce.ed;for(we=0;4>we;++we){var xe;if(ce.Qa.Cb){var Pe=ce.Qa.Lb[we];ce.Qa.Fb||(Pe+=ke.Tb)}else Pe=ke.Tb;for(xe=0;1>=xe;++xe){var Ce=ce.gd[we][xe],Be=Pe;if(ke.Pc&&(Be+=ke.vd[0],xe&&(Be+=ke.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var je=Be;0<ke.wb&&(je=4<ke.wb?je>>2:je>>1)>9-ke.wb&&(je=9-ke.wb),1>je&&(je=1),Ce.dd=je,Ce.tc=2*Be+je,Ce.ld=40<=Be?2:15<=Be?1:0}else Ce.tc=0;Ce.La=xe}}}we=0}else Ln(ce,6,"Frame setup failed"),we=ce.a;if(we=we==0){if(we){ce.$c=0,0<ce.Aa||(ce.Ic=fT);t:{we=ce.Ic,ke=4*(je=ce.za);var ft=32*je,et=je+1,Ct=0<ce.L?je*(0<ce.Aa?2:1):0,lt=(ce.Aa==2?2:1)*je;if((Ce=ke+832+(xe=3*(16*we+rd[ce.L])/2*ft)+(Pe=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ce)we=0;else{if(Ce>ce.Vb){if(ce.Vb=0,ce.Ec=o(Ce),ce.Fc=0,ce.Ec==null){we=Ln(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ce}Ce=ce.Ec,Be=ce.Fc,ce.Ac=Ce,ce.Bc=Be,Be+=ke,ce.Gd=s(ft,vl),ce.Hd=0,ce.rb=s(et+1,ki),ce.sb=1,ce.wa=Ct?s(Ct,wr):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=je),e(!0),ce.oc=Ce,ce.pc=Be,Be+=832,ce.ya=s(lt,gl),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=je),ce.R=16*je,ce.B=8*je,je=(ft=rd[ce.L])*ce.R,ft=ft/2*ce.B,ce.sa=Ce,ce.ta=Be+je,ce.qa=ce.sa,ce.ra=ce.ta+16*we*ce.R+ft,ce.Ha=ce.qa,ce.Ia=ce.ra+8*we*ce.B+ft,ce.$c=0,Be+=xe,ce.mb=Pe?Ce:null,ce.nb=Pe?Be:null,e(Be+Pe<=ce.Fc+ce.Vb),_l(ce),i(ce.Ac,ce.Bc,0,ke),we=1}}if(we){if(me.ka=0,me.y=ce.sa,me.O=ce.ta,me.f=ce.qa,me.N=ce.ra,me.ea=ce.Ha,me.Vd=ce.Ia,me.fa=ce.R,me.Rc=ce.B,me.F=null,me.J=0,!U2){for(we=-255;255>=we;++we)j2[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)M2[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)F2[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)B2[255+we]=0>we?0:255<we?255:we;U2=1}ba=Ji,Tl=mu,es=Ft,en=bs,hn=Ko,so=ua,Yn=pa,ur=ro,Ns=H,nf=le,Eu=Al,Kh=P,T2=de,k2=ve,I2=Xo,P2=ri,L2=El,C2=bu,So[0]=Gc,So[1]=vu,So[2]=$c,So[3]=Wc,So[4]=br,So[5]=Kc,So[6]=xo,So[7]=fa,So[8]=ha,So[9]=Eo,xa[0]=Zi,xa[1]=Hc,xa[2]=wl,xa[3]=yu,xa[4]=Yo,xa[5]=ca,xa[6]=_u,Ts[0]=bl,Ts[1]=zc,Ts[2]=Ii,Ts[3]=Es,Ts[4]=xl,Ts[5]=un,Ts[6]=wu,we=1}else we=0}we&&(we=function(qt,cr){for(qt.M=0;qt.M<qt.Va;++qt.M){var Ot,ut=qt.Jc[qt.M&qt.Xb],He=qt.m,Qn=qt;for(Ot=0;Ot<Qn.za;++Ot){var kt=He,Ht=Qn,wn=Ht.Ac,kr=Ht.Bc+4*Ot,oi=Ht.zc,qn=Ht.ya[Ht.aa+Ot];if(Ht.Qa.Bb?qn.$b=he(kt,Ht.Pa.jb[0])?2+he(kt,Ht.Pa.jb[2]):he(kt,Ht.Pa.jb[1]):qn.$b=0,Ht.kc&&(qn.Ad=he(kt,Ht.Bd)),qn.Za=!he(kt,145)+0,qn.Za){var zr=qn.Ob,si=0;for(Ht=0;4>Ht;++Ht){var fr,Wt=oi[0+Ht];for(fr=0;4>fr;++fr){Wt=QN[wn[kr+fr]][Wt];for(var nn=H2[he(kt,Wt[0])];0<nn;)nn=H2[2*nn+he(kt,Wt[nn])];Wt=-nn,wn[kr+fr]=Wt}r(zr,si,wn,kr,4),si+=4,oi[0+Ht]=Wt}}else Wt=he(kt,156)?he(kt,128)?1:3:he(kt,163)?2:0,qn.Ob[0]=Wt,i(wn,kr,Wt,4),i(oi,0,Wt,4);qn.Dd=he(kt,142)?he(kt,114)?he(kt,183)?1:3:2:0}if(Qn.m.Ka)return Ln(qt,7,"Premature end-of-partition0 encountered.");for(;qt.ja<qt.za;++qt.ja){if(Qn=ut,kt=(He=qt).rb[He.sb-1],wn=He.rb[He.sb+He.ja],Ot=He.ya[He.aa+He.ja],kr=He.kc?Ot.Ad:0)kt.la=wn.la=0,Ot.Za||(kt.Na=wn.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var zn,rn;if(kt=wn,wn=Qn,kr=He.Pa.Xc,oi=He.ya[He.aa+He.ja],qn=He.pb[oi.$b],Ht=oi.ad,zr=0,si=He.rb[He.sb-1],Wt=fr=0,i(Ht,zr,0,384),oi.Za)var Ir=0,No=kr[3];else{nn=o(16);var Xn=kt.Na+si.Na;if(Xn=of(wn,kr[1],Xn,qn.Eb,0,nn,0),kt.Na=si.Na=(0<Xn)+0,1<Xn)ba(nn,0,Ht,zr);else{var vi=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)Ht[zr+nn]=vi}Ir=1,No=kr[0]}var dn=15&kt.la,hr=15&si.la;for(nn=0;4>nn;++nn){var Ri=1&hr;for(vi=rn=0;4>vi;++vi)dn=dn>>1|(Ri=(Xn=of(wn,No,Xn=Ri+(1&dn),qn.Sc,Ir,Ht,zr))>Ir)<<7,rn=rn<<2|(3<Xn?3:1<Xn?2:Ht[zr+0]!=0),zr+=16;dn>>=4,hr=hr>>1|Ri<<7,fr=(fr<<8|rn)>>>0}for(No=dn,Ir=hr>>4,zn=0;4>zn;zn+=2){for(rn=0,dn=kt.la>>4+zn,hr=si.la>>4+zn,nn=0;2>nn;++nn){for(Ri=1&hr,vi=0;2>vi;++vi)Xn=Ri+(1&dn),dn=dn>>1|(Ri=0<(Xn=of(wn,kr[2],Xn,qn.Qc,0,Ht,zr)))<<3,rn=rn<<2|(3<Xn?3:1<Xn?2:Ht[zr+0]!=0),zr+=16;dn>>=2,hr=hr>>1|Ri<<5}Wt|=rn<<4*zn,No|=dn<<4<<zn,Ir|=(240&hr)<<zn}kt.la=No,si.la=Ir,oi.Hc=fr,oi.Gc=Wt,oi.ia=43690&Wt?0:qn.ia,kr=!(fr|Wt)}if(0<He.L&&(He.wa[He.Y+He.ja]=He.gd[Ot.$b][Ot.Za],He.wa[He.Y+He.ja].La|=!kr),Qn.Ka)return Ln(qt,7,"Premature end-of-file encountered.")}if(_l(qt),He=cr,Qn=1,Ot=(ut=qt).D,kt=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)t:{if(Ot.M=ut.M,Ot.uc=kt,Tr(ut,Ot),Qn=1,Ot=(rn=ut.D).Nb,kt=(Wt=rd[ut.L])*ut.R,wn=Wt/2*ut.B,nn=16*Ot*ut.R,vi=8*Ot*ut.B,kr=ut.sa,oi=ut.ta-kt+nn,qn=ut.qa,Ht=ut.ra-wn+vi,zr=ut.Ha,si=ut.Ia-wn+vi,hr=(dn=rn.M)==0,fr=dn>=ut.Va-1,ut.Aa==2&&Tr(ut,rn),rn.uc)for(Ri=(Xn=ut).D.M,e(Xn.D.uc),rn=Xn.yb;rn<Xn.Hb;++rn){Ir=rn,No=Ri;var ai=(Di=(Pr=Xn).D).Nb;zn=Pr.R;var Di=Di.wa[Di.Y+Ir],ji=Pr.sa,yi=Pr.ta+16*ai*zn+16*Ir,Mi=Di.dd,vn=Di.tc;if(vn!=0)if(e(3<=vn),Pr.L==1)0<Ir&&P2(ji,yi,zn,vn+4),Di.La&&C2(ji,yi,zn,vn),0<No&&I2(ji,yi,zn,vn+4),Di.La&&L2(ji,yi,zn,vn);else{var Fi=Pr.B,To=Pr.qa,kl=Pr.ra+8*ai*Fi+8*Ir,ks=Pr.Ha,Pr=Pr.Ia+8*ai*Fi+8*Ir;ai=Di.ld,0<Ir&&(ur(ji,yi,zn,vn+4,Mi,ai),nf(To,kl,ks,Pr,Fi,vn+4,Mi,ai)),Di.La&&(Kh(ji,yi,zn,vn,Mi,ai),k2(To,kl,ks,Pr,Fi,vn,Mi,ai)),0<No&&(Yn(ji,yi,zn,vn+4,Mi,ai),Ns(To,kl,ks,Pr,Fi,vn+4,Mi,ai)),Di.La&&(Eu(ji,yi,zn,vn,Mi,ai),T2(To,kl,ks,Pr,Fi,vn,Mi,ai))}}if(ut.ia&&alert("todo:DitherRow"),He.put!=null){if(rn=16*dn,dn=16*(dn+1),hr?(He.y=ut.sa,He.O=ut.ta+nn,He.f=ut.qa,He.N=ut.ra+vi,He.ea=ut.Ha,He.W=ut.Ia+vi):(rn-=Wt,He.y=kr,He.O=oi,He.f=qn,He.N=Ht,He.ea=zr,He.W=si),fr||(dn-=Wt),dn>He.o&&(dn=He.o),He.F=null,He.J=null,ut.Fa!=null&&0<ut.Fa.length&&rn<dn&&(He.J=tn(ut,He,rn,dn-rn),He.F=ut.mb,He.F==null&&He.F.length==0)){Qn=Ln(ut,3,"Could not decode alpha data.");break t}rn<He.j&&(Wt=He.j-rn,rn=He.j,e(!(1&Wt)),He.O+=ut.R*Wt,He.N+=ut.B*(Wt>>1),He.W+=ut.B*(Wt>>1),He.F!=null&&(He.J+=He.width*Wt)),rn<dn&&(He.O+=He.v,He.N+=He.v>>1,He.W+=He.v>>1,He.F!=null&&(He.J+=He.v),He.ka=rn-He.j,He.U=He.va-He.v,He.T=dn-rn,Qn=He.put(He))}Ot+1!=ut.Ic||fr||(r(ut.sa,ut.ta-kt,kr,oi+16*ut.R,kt),r(ut.qa,ut.ra-wn,qn,Ht+8*ut.B,wn),r(ut.Ha,ut.Ia-wn,zr,si+8*ut.B,wn))}if(!Qn)return Ln(qt,6,"Output aborted.")}return 1}(ce,me)),me.bc!=null&&me.bc(me),we&=1}return we?(ce.cb=0,we):0})(g,j)||(b=g.a)}}else b=g.a}b==0&&J.Oa!=null&&J.Oa.fd&&(b=Qc(J.ba))}J=b}Y=J!=0?null:11>Y?ee.f.RGBA.eb:ee.f.kb.y}else Y=null;return Y};var J2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,k){for(var E="",S=0;S<4;S++)E+=String.fromCharCode(T[k++]);return E}function c(T,k){return T[k+0]|T[k+1]<<8}function h(T,k){return(T[k+0]|T[k+1]<<8|T[k+2]<<16)>>>0}function d(T,k){return(T[k+0]|T[k+1]<<8|T[k+2]<<16|T[k+3]<<24)>>>0}new l;var f=[0],y=[0],_=[],x=new l,p=t,v=function(T,k){var E={},S=0,I=!1,U=0,G=0;if(E.frames=[],!function(R,F){for(var W=0;W<4;W++)if(R[F+W]!="RIFF".charCodeAt(W))return!0;return!1}(T,k)){for(d(T,k+=4),k+=8;k<T.length;){var oe=u(T,k),se=d(T,k+=4);k+=4;var te=se+(1&se);switch(oe){case"VP8 ":case"VP8L":E.frames[S]===void 0&&(E.frames[S]={}),(z=E.frames[S]).src_off=I?G:k-8,z.src_size=U+se+8,S++,I&&(I=!1,U=0,G=0);break;case"VP8X":(z=E.header={}).feature_flags=T[k];var Z=k+4;z.canvas_width=1+h(T,Z),Z+=3,z.canvas_height=1+h(T,Z),Z+=3;break;case"ALPH":I=!0,U=te+8,G=k-8;break;case"ANIM":(z=E.header).bgcolor=d(T,k),Z=k+4,z.loop_count=c(T,Z),Z+=2;break;case"ANMF":var X,z;(z=E.frames[S]={}).offset_x=2*h(T,k),k+=3,z.offset_y=2*h(T,k),k+=3,z.width=1+h(T,k),k+=3,z.height=1+h(T,k),k+=3,z.duration=h(T,k),k+=3,X=T[k++],z.dispose=1&X,z.blend=X>>1&1}oe!="ANMF"&&(k+=te)}return E}}(p,0);v.response=p,v.rgbaoutput=!0,v.dataurl=!1;var A=v.header?v.header:null,w=v.frames?v.frames:null;if(A){A.loop_counter=A.loop_count,f=[A.canvas_height],y=[A.canvas_width];for(var C=0;C<w.length&&w[C].blend!=0;C++);}var B=w[0],L=x.WebPDecodeRGBA(p,B.src_off,B.src_size,y,f);B.rgba=L,B.imgwidth=y[0],B.imgheight=f[0];for(var N=0;N<y[0]*f[0]*4;N++)_[N]=L[N];return this.width=y,this.height=f,this.data=_,this}(function(t){var e,n,r,i,o,s,a,l,u,c=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=R;Object.defineProperty(this,"pdf",{get:function(){return F}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(re){W=!!re}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(re){K=!!re}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(re){isNaN(re)||(q=re)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(re){isNaN(re)||(Q=re)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(re){var qe;typeof re=="number"?qe=[re,re,re,re]:((qe=new Array(4))[0]=re[0],qe[1]=re.length>=2?re[1]:qe[0],qe[2]=re.length>=3?re[2]:qe[0],qe[3]=re.length>=4?re[3]:qe[1]),u.margin=qe}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(re){ae=re}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(re){fe=re}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(re){he=re}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(re){re instanceof c&&(u=re)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(re){u.path=re}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(re){be=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var qe;qe=d(re),this.ctx.fillStyle=qe.style,this.ctx.isFillTransparent=qe.a===0,this.ctx.fillOpacity=qe.a,this.pdf.setFillColor(qe.r,qe.g,qe.b,{a:qe.a}),this.pdf.setTextColor(qe.r,qe.g,qe.b,{a:qe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var qe=d(re);this.ctx.strokeStyle=qe.style,this.ctx.isStrokeTransparent=qe.a===0,this.ctx.strokeOpacity=qe.a,qe.a===0?this.pdf.setDrawColor(255,255,255):(qe.a,this.pdf.setDrawColor(qe.r,qe.g,qe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var Le=null,Oe=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(re){Le=null,Oe=null,Ue=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var qe;if(this.ctx.font=re,(qe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var it=qe[1];qe[2];var ye=qe[3],pe=qe[4];qe[5];var Te=qe[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pe)[2];pe=Math.floor(Ne==="px"?parseFloat(pe)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(pe)*this.pdf.getFontSize():parseFloat(pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pe);var Se=function(Ke){var cn,Mt,It=[],Tt=Ke.trim();if(Tt==="")return C0;if(Tt in ux)return[ux[Tt]];for(;Tt!=="";){switch(Mt=null,cn=(Tt=fx(Tt)).charAt(0)){case'"':case"'":Mt=aq(Tt.substring(1),cn);break;default:Mt=lq(Tt)}if(Mt===null||(It.push(Mt[0]),(Tt=fx(Mt[1]))!==""&&Tt.charAt(0)!==","))return C0;Tt=Tt.replace(/^,/,"")}return It}(Te);if(this.fontFaces){var Fe=function(Ke,cn){var Mt=Ke.getFontList(),It=JSON.stringify(Mt);if(Le===null||Oe!==It){var Tt=function(gn){var ht=[];return Object.keys(gn).forEach(function(Jt){gn[Jt].forEach(function(mt){var bt=null;switch(mt){case"bold":bt={family:Jt,weight:"bold"};break;case"italic":bt={family:Jt,style:"italic"};break;case"bolditalic":bt={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:Jt}}bt!==null&&(bt.ref={name:Jt,style:mt},ht.push(bt))})}),ht}(Mt);Le=function(gn){for(var ht={},Jt=0;Jt<gn.length;++Jt){var mt=L0(gn[Jt]),bt=mt.family,Zt=mt.stretch,Pt=mt.style,dt=mt.weight;ht[bt]=ht[bt]||{},ht[bt][Zt]=ht[bt][Zt]||{},ht[bt][Zt][Pt]=ht[bt][Zt][Pt]||{},ht[bt][Zt][Pt][dt]=mt}return ht}(Tt.concat(cn)),Oe=It}return Le}(this.pdf,this.fontFaces),We=Se.map(function(Ke){return{family:Ke,stretch:"normal",weight:ye,style:it}}),$e=function(Ke,cn,Mt){for(var It=(Mt=Mt||{}).defaultFontFamily||"times",Tt=Object.assign({},sq,Mt.genericFontFamilies||{}),gn=null,ht=null,Jt=0;Jt<cn.length;++Jt)if(Tt[(gn=L0(cn[Jt])).family]&&(gn.family=Tt[gn.family]),Ke.hasOwnProperty(gn.family)){ht=Ke[gn.family];break}if(!(ht=ht||Ke[It]))throw new Error("Could not find a font-family for the rule '"+cx(gn)+"' and default family '"+It+"'.");if(ht=function(mt,bt){if(bt[mt])return bt[mt];var Zt=_v[mt],Pt=Zt<=_v.normal?-1:1,dt=lx(bt,_N,Zt,Pt);if(!dt)throw new Error("Could not find a matching font-stretch value for "+mt);return dt}(gn.stretch,ht),ht=function(mt,bt){if(bt[mt])return bt[mt];for(var Zt=yN[mt],Pt=0;Pt<Zt.length;++Pt)if(bt[Zt[Pt]])return bt[Zt[Pt]];throw new Error("Could not find a matching font-style for "+mt)}(gn.style,ht),!(ht=function(mt,bt){if(bt[mt])return bt[mt];if(mt===400&&bt[500])return bt[500];if(mt===500&&bt[400])return bt[400];var Zt=oq[mt],Pt=lx(bt,wN,Zt,mt<400?-1:1);if(!Pt)throw new Error("Could not find a matching font-weight for value "+mt);return Pt}(gn.weight,ht)))throw new Error("Failed to resolve a font for the rule '"+cx(gn)+"'.");return ht}(Fe,We);this.pdf.setFont($e.ref.name,$e.ref.style)}else{var Ge="";(ye==="bold"||parseInt(ye,10)>=700||it==="bold")&&(Ge="bold"),it==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var at="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nt=0;nt<Se.length;nt++){if(this.pdf.internal.getFont(Se[nt],Ge,{noFallback:!0,disableWarning:!0})!==void 0){at=Se[nt];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(Se[nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Se[nt],Ge="bold";else if(this.pdf.internal.getFont(Se[nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Se[nt],Ge="normal";break}}if(at===""){for(var Xe=0;Xe<Se.length;Xe++)if(Ze[Se[Xe]]){at=Ze[Se[Xe]];break}}at=at===""?"Times":at,this.pdf.setFont(at,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};h.prototype.setLineDash=function(R){this.lineDash=R},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(R,F){if(isNaN(R)||isNaN(F))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new s(R,F));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new s(R,F)},h.prototype.closePath=function(){var R=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&sn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){R=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},h.prototype.lineTo=function(R,F){if(isNaN(R)||isNaN(F))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new s(R,F));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new s(W.x,W.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(R,F,W,K){if(isNaN(W)||isNaN(K)||isNaN(R)||isNaN(F))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new s(W,K)),Q=this.ctx.transform.applyToPoint(new s(R,F));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},h.prototype.bezierCurveTo=function(R,F,W,K,q,Q){if(isNaN(q)||isNaN(Q)||isNaN(R)||isNaN(F)||isNaN(W)||isNaN(K))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new s(q,Q)),fe=this.ctx.transform.applyToPoint(new s(R,F)),he=this.ctx.transform.applyToPoint(new s(W,K));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:he.x,y2:he.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},h.prototype.arc=function(R,F,W,K,q,Q){if(isNaN(R)||isNaN(F)||isNaN(W)||isNaN(K)||isNaN(q))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new s(R,F));R=ae.x,F=ae.y;var fe=this.ctx.transform.applyToPoint(new s(0,W)),he=this.ctx.transform.applyToPoint(new s(0,0));W=Math.sqrt(Math.pow(fe.x-he.x,2)+Math.pow(fe.y-he.y,2))}Math.abs(q-K)>=2*Math.PI&&(K=0,q=2*Math.PI),this.path.push({type:"arc",x:R,y:F,radius:W,startAngle:K,endAngle:q,counterclockwise:Q})},h.prototype.arcTo=function(R,F,W,K,q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(R,F,W,K){if(isNaN(R)||isNaN(F)||isNaN(W)||isNaN(K))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,F),this.lineTo(R+W,F),this.lineTo(R+W,F+K),this.lineTo(R,F+K),this.lineTo(R,F),this.lineTo(R+W,F),this.lineTo(R,F)},h.prototype.fillRect=function(R,F,W,K){if(isNaN(R)||isNaN(F)||isNaN(W)||isNaN(K))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,F,W,K),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},h.prototype.strokeRect=function(R,F,W,K){if(isNaN(R)||isNaN(F)||isNaN(W)||isNaN(K))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(R,F,W,K),this.stroke())},h.prototype.clearRect=function(R,F,W,K){if(isNaN(R)||isNaN(F)||isNaN(W)||isNaN(K))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,F,W,K))},h.prototype.save=function(R){R=typeof R!="boolean"||R;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},h.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(F),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(R){var F,W,K,q;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))F=0,W=0,K=0,q=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Q!==null)F=parseInt(Q[1]),W=parseInt(Q[2]),K=parseInt(Q[3]),q=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)F=parseInt(Q[1]),W=parseInt(Q[2]),K=parseInt(Q[3]),q=parseFloat(Q[4]);else{if(q=1,typeof R=="string"&&R.charAt(0)!=="#"){var ae=new fN(R);R=ae.ok?ae.toHex():"#000000"}R.length===4?(F=R.substring(1,2),F+=F,W=R.substring(2,3),W+=W,K=R.substring(3,4),K+=K):(F=R.substring(1,3),W=R.substring(3,5),K=R.substring(5,7)),F=parseInt(F,16),W=parseInt(W,16),K=parseInt(K,16)}}return{r:F,g:W,b:K,a:q,style:R}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(R,F,W,K){if(isNaN(F)||isNaN(W)||typeof R!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var q=te(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;S.call(this,{text:R,x:F,y:W,scale:Q,angle:q,align:this.textAlign,maxWidth:K})}},h.prototype.strokeText=function(R,F,W,K){if(isNaN(F)||isNaN(W)||typeof R!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){K=isNaN(K)?void 0:K;var q=te(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;S.call(this,{text:R,x:F,y:W,scale:Q,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:K})}},h.prototype.measureText=function(R){if(typeof R!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,W=this.pdf.internal.scaleFactor,K=F.internal.getFontSize(),q=F.getStringUnitWidth(R)*K/F.internal.scaleFactor;return new function(Q){var ae=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this}({width:q*=Math.round(96*W/72*1e4)/1e4})},h.prototype.scale=function(R,F){if(isNaN(R)||isNaN(F))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new l(R,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.rotate=function(R){if(isNaN(R))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},h.prototype.translate=function(R,F){if(isNaN(R)||isNaN(F))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new l(1,0,0,1,R,F);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.transform=function(R,F,W,K,q,Q){if(isNaN(R)||isNaN(F)||isNaN(W)||isNaN(K)||isNaN(q)||isNaN(Q))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new l(R,F,W,K,q,Q);this.ctx.transform=this.ctx.transform.multiply(ae)},h.prototype.setTransform=function(R,F,W,K,q,Q){R=isNaN(R)?1:R,F=isNaN(F)?0:F,W=isNaN(W)?0:W,K=isNaN(K)?1:K,q=isNaN(q)?0:q,Q=isNaN(Q)?0:Q,this.ctx.transform=new l(R,F,W,K,q,Q)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(R,F,W,K,q,Q,ae,fe,he){var be=this.pdf.getImageProperties(R),Le=1,Oe=1,Ue=1,re=1;K!==void 0&&fe!==void 0&&(Ue=fe/K,re=he/q,Le=be.width/K*fe/K,Oe=be.height/q*he/q),Q===void 0&&(Q=F,ae=W,F=0,W=0),K!==void 0&&fe===void 0&&(fe=K,he=q),K===void 0&&fe===void 0&&(fe=be.width,he=be.height);var qe=this.ctx.transform.decompose(),it=te(qe.rotate.shx),ye=new l,pe=(ye=(ye=(ye=ye.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new a(Q-F*Ue,ae-W*re,K*Le,q*Oe));if(this.autoPaging){for(var Te,Ne=x.call(this,pe),Se=[],Fe=0;Fe<Ne.length;Fe+=1)Se.indexOf(Ne[Fe])===-1&&Se.push(Ne[Fe]);A(Se);for(var We=Se[0],$e=Se[Se.length-1],Ge=We;Ge<$e+1;Ge++){this.pdf.setPage(Ge);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Ge===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=Ge===1?0:nt+(Ge-2)*Xe;if(this.ctx.clip_path.length!==0){var cn=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Te,this.posX+this.margin[3],-Ke+Ze+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=cn}var Mt=JSON.parse(JSON.stringify(pe));Mt=v([Mt],this.posX+this.margin[3],-Ke+Ze+this.ctx.prevPageLastElemOffset)[0];var It=(Ge>We||Ge<$e)&&_.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Xe,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,it),It&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(R,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,it)};var x=function(R,F,W){var K=[];F=F||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":K.push(Math.floor((R.y+q)/W)+1);break;case"arc":K.push(Math.floor((R.y+q-R.radius)/W)+1),K.push(Math.floor((R.y+q+R.radius)/W)+1);break;case"qct":var Q=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);K.push(Math.floor((Q.y+q)/W)+1),K.push(Math.floor((Q.y+Q.h+q)/W)+1);break;case"bct":var ae=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);K.push(Math.floor((ae.y+q)/W)+1),K.push(Math.floor((ae.y+ae.h+q)/W)+1);break;case"rect":K.push(Math.floor((R.y+q)/W)+1),K.push(Math.floor((R.y+R.h+q)/W)+1)}for(var fe=0;fe<K.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<K[fe];)p.call(this);return K},p=function(){var R=this.fillStyle,F=this.strokeStyle,W=this.font,K=this.lineCap,q=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=F,this.font=W,this.lineCap=K,this.lineWidth=q,this.lineJoin=Q},v=function(R,F,W){for(var K=0;K<R.length;K++)switch(R[K].type){case"bct":R[K].x2+=F,R[K].y2+=W;case"qct":R[K].x1+=F,R[K].y1+=W;default:R[K].x+=F,R[K].y+=W}return R},A=function(R){return R.sort(function(F,W){return F-W})},w=function(R,F){var W=this.fillStyle,K=this.strokeStyle,q=this.lineCap,Q=this.lineWidth,ae=Math.abs(Q*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var he,be,Le=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),Ue=[],re=0;re<Oe.length;re++)if(Oe[re].x!==void 0)for(var qe=x.call(this,Oe[re]),it=0;it<qe.length;it+=1)Ue.indexOf(qe[it])===-1&&Ue.push(qe[it]);for(var ye=0;ye<Ue.length;ye++)for(;this.pdf.internal.getNumberOfPages()<Ue[ye];)p.call(this);A(Ue);for(var pe=Ue[0],Te=Ue[Ue.length-1],Ne=pe;Ne<Te+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=W,this.strokeStyle=K,this.lineCap=q,this.lineWidth=ae,this.lineJoin=fe;var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Ne===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Ne===1?0:We+(Ne-2)*$e;if(this.ctx.clip_path.length!==0){var at=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(he,this.posX+this.margin[3],-Ge+Fe+this.ctx.prevPageLastElemOffset),C.call(this,R,!0),this.path=at}if(be=JSON.parse(JSON.stringify(Le)),this.path=v(be,this.posX+this.margin[3],-Ge+Fe+this.ctx.prevPageLastElemOffset),F===!1||Ne===0){var Ze=(Ne>pe||Ne<Te)&&_.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,$e,null).clip().discardPath()),C.call(this,R,F),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}this.path=Le}else this.lineWidth=ae,C.call(this,R,F),this.lineWidth=Q},C=function(R,F){if((R!=="stroke"||F||!y.call(this))&&(R==="stroke"||F||!f.call(this))){for(var W,K,q=[],Q=this.path,ae=0;ae<Q.length;ae++){var fe=Q[ae];switch(fe.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:fe,deltas:[],abs:[]});break;case"lt":var he=q.length;if(Q[ae-1]&&!isNaN(Q[ae-1].x)&&(W=[fe.x-Q[ae-1].x,fe.y-Q[ae-1].y],he>0)){for(;he>=0;he--)if(q[he-1].close!==!0&&q[he-1].begin!==!0){q[he-1].deltas.push(W),q[he-1].abs.push(fe);break}}break;case"bct":W=[fe.x1-Q[ae-1].x,fe.y1-Q[ae-1].y,fe.x2-Q[ae-1].x,fe.y2-Q[ae-1].y,fe.x-Q[ae-1].x,fe.y-Q[ae-1].y],q[q.length-1].deltas.push(W);break;case"qct":var be=Q[ae-1].x+2/3*(fe.x1-Q[ae-1].x),Le=Q[ae-1].y+2/3*(fe.y1-Q[ae-1].y),Oe=fe.x+2/3*(fe.x1-fe.x),Ue=fe.y+2/3*(fe.y1-fe.y),re=fe.x,qe=fe.y;W=[be-Q[ae-1].x,Le-Q[ae-1].y,Oe-Q[ae-1].x,Ue-Q[ae-1].y,re-Q[ae-1].x,qe-Q[ae-1].y],q[q.length-1].deltas.push(W);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(fe)}}K=F?null:R==="stroke"?"stroke":"fill";for(var it=!1,ye=0;ye<q.length;ye++)if(q[ye].arc)for(var pe=q[ye].abs,Te=0;Te<pe.length;Te++){var Ne=pe[Te];Ne.type==="arc"?N.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,F,!it):I.call(this,Ne.x,Ne.y),it=!0}else if(q[ye].close===!0)this.pdf.internal.out("h"),it=!1;else if(q[ye].begin!==!0){var Se=q[ye].start.x,Fe=q[ye].start.y;U.call(this,q[ye].deltas,Se,Fe),it=!0}K&&T.call(this,K),F&&k.call(this)}},B=function(R){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-W;case"top":return R+F-W;case"hanging":return R+F-2*W;case"middle":return R+F/2-W;default:return R}},L=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(F,W){this.colorStops.push([F,W])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(R,F,W,K,q,Q,ae,fe,he){for(var be=oe.call(this,W,K,q,Q),Le=0;Le<be.length;Le++){var Oe=be[Le];Le===0&&(he?E.call(this,Oe.x1+R,Oe.y1+F):I.call(this,Oe.x1+R,Oe.y1+F)),G.call(this,R,F,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}fe?k.call(this):T.call(this,ae)},T=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(R,F){this.pdf.internal.out(n(R)+" "+r(F)+" m")},S=function(R){var F;switch(R.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var W,K,q,Q=this.pdf.getTextDimensions(R.text),ae=B.call(this,R.y),fe=L.call(this,ae)-Q.h,he=this.ctx.transform.applyToPoint(new s(R.x,ae));if(this.autoPaging){var be=this.ctx.transform.decompose(),Le=new l;Le=(Le=(Le=Le.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Oe=this.ctx.transform.applyToRectangle(new a(R.x,ae,Q.w,Q.h)),Ue=Le.applyToRectangle(new a(R.x,fe,Q.w,Q.h)),re=x.call(this,Ue),qe=[],it=0;it<re.length;it+=1)qe.indexOf(re[it])===-1&&qe.push(re[it]);A(qe);for(var ye=qe[0],pe=qe[qe.length-1],Te=ye;Te<pe+1;Te++){this.pdf.setPage(Te);var Ne=Te===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],We=Fe-this.margin[0],$e=this.pdf.internal.pageSize.width-this.margin[1],Ge=$e-this.margin[3],at=Te===1?0:Se+(Te-2)*We;if(this.ctx.clip_path.length!==0){var Ze=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(W,this.posX+this.margin[3],-1*at+Ne),C.call(this,"fill",!0),this.path=Ze}var nt=v([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-at+Ne+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*R.scale),q=this.lineWidth,this.lineWidth=q*R.scale);var Xe=this.autoPaging!=="text";if(Xe||nt.y+nt.h<=Fe){if(Xe||nt.y>=Ne&&nt.x<=$e){var Ke=Xe?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||$e-nt.x)[0],cn=v([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-at+Ne+this.ctx.prevPageLastElemOffset)[0],Mt=Xe&&(Te>ye||Te<pe)&&_.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,We,null).clip().discardPath()),this.pdf.text(Ke,cn.x,cn.y,{angle:R.angle,align:F,renderingMode:R.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else nt.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-nt.y);R.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=q)}}else R.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*R.scale),q=this.lineWidth,this.lineWidth=q*R.scale),this.pdf.text(R.text,he.x+this.posX,he.y+this.posY,{angle:R.angle,align:F,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=q)},I=function(R,F,W,K){W=W||0,K=K||0,this.pdf.internal.out(n(R+W)+" "+r(F+K)+" l")},U=function(R,F,W){return this.pdf.lines(R,F,W,null,null)},G=function(R,F,W,K,q,Q,ae,fe){this.pdf.internal.out([e(i(W+R)),e(o(K+F)),e(i(q+R)),e(o(Q+F)),e(i(ae+R)),e(o(fe+F)),"c"].join(" "))},oe=function(R,F,W,K){for(var q=2*Math.PI,Q=Math.PI/2;F>W;)F-=q;var ae=Math.abs(W-F);ae<q&&K&&(ae=q-ae);for(var fe=[],he=K?-1:1,be=F;ae>1e-5;){var Le=be+he*Math.min(ae,Q);fe.push(se.call(this,R,be,Le)),ae-=Math.abs(Le-be),be=Le}return fe},se=function(R,F,W){var K=(W-F)/2,q=R*Math.cos(K),Q=R*Math.sin(K),ae=q,fe=-Q,he=ae*ae+fe*fe,be=he+ae*q+fe*Q,Le=4/3*(Math.sqrt(2*he*be)-be)/(ae*Q-fe*q),Oe=ae-Le*fe,Ue=fe+Le*ae,re=Oe,qe=-Ue,it=K+F,ye=Math.cos(it),pe=Math.sin(it);return{x1:R*Math.cos(F),y1:R*Math.sin(F),x2:Oe*ye-Ue*pe,y2:Oe*pe+Ue*ye,x3:re*ye-qe*pe,y3:re*pe+qe*ye,x4:R*Math.cos(W),y4:R*Math.sin(W)}},te=function(R){return 180*R/Math.PI},Z=function(R,F,W,K,q,Q){var ae=R+.5*(W-R),fe=F+.5*(K-F),he=q+.5*(W-q),be=Q+.5*(K-Q),Le=Math.min(R,q,ae,he),Oe=Math.max(R,q,ae,he),Ue=Math.min(F,Q,fe,be),re=Math.max(F,Q,fe,be);return new a(Le,Ue,Oe-Le,re-Ue)},X=function(R,F,W,K,q,Q,ae,fe){var he,be,Le,Oe,Ue,re,qe,it,ye,pe,Te,Ne,Se,Fe,We=W-R,$e=K-F,Ge=q-W,at=Q-K,Ze=ae-q,nt=fe-Q;for(be=0;be<41;be++)ye=(qe=(Le=R+(he=be/40)*We)+he*((Ue=W+he*Ge)-Le))+he*(Ue+he*(q+he*Ze-Ue)-qe),pe=(it=(Oe=F+he*$e)+he*((re=K+he*at)-Oe))+he*(re+he*(Q+he*nt-re)-it),be==0?(Te=ye,Ne=pe,Se=ye,Fe=pe):(Te=Math.min(Te,ye),Ne=Math.min(Ne,pe),Se=Math.max(Se,ye),Fe=Math.max(Fe,pe));return new a(Math.round(Te),Math.round(Ne),Math.round(Se-Te),Math.round(Fe-Ne))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,F,W=(R=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:F}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(ct.API),function(t){var e=function(s){var a,l,u,c,h,d,f,y,_,x;for(l=[],u=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>u;u+=4)(h=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(d=(h=((h=((h=((h=(h-(x=h%85))/85)-(_=h%85))/85)-(y=h%85))/85)-(f=h%85))/85)%85,l.push(d+33,f+33,y+33,_+33,x+33)):l.push(122);return function(p,v){for(var A=v;A>0;A--)p.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,u,c,h,d=String,f="length",y=255,_="charCodeAt",x="slice",p="replace";for(s[x](-2),s=s[x](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),u=[],c=0,h=(s+=a="uuuuu"[x](s[f]%5||5))[f];h>c;c+=5)l=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(v,A){for(var w=A;w>0;w--)v.pop()}(u,a[f]),d.fromCharCode.apply(d,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=hv(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var l=0,u=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ct.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,u,c){var h=new XMLHttpRequest,d=0,f=function(y){var _=y.length,x=[],p=String.fromCharCode;for(d=0;d<_;d+=1)x.push(p(255&y.charCodeAt(d)));return x.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(f(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ct.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):d0(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):d0(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=sn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},o=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||c.appendChild(a(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var y=c[f],_=y.src.find(function(x){return x.format==="truetype"});_&&u.addFont(_.url,y.ref.name,y.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,h){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,h).then(function(d){return u.updateProgress(1),d})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),d=u.call(h,a,l);return s.convert(d,c.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ct.getPageSize=function(a,l,u){if(sn(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var h,d=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,_=0,x=0;if(f.hasOwnProperty(d))_=f[d][1]/h,x=f[d][0]/h;else try{_=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",x>_&&(y=x,x=_,_=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>x&&(y=x,x=_,_=y)}return{width:x,height:_,unit:l,k:h,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(L0):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(ct.API),ct.API.addJS=function(t){return dx=t,this.internal.events.subscribe("postPutResources",function(){Vd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vd!==void 0&&hx!==void 0&&this.internal.out("/Names <</JavaScript "+Vd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(o=0;o<u;o++){var h=n.internal.newObject();c.push(h);var d=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<c.length;o++)n.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,_={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=f,e.indexOf(h.charCodeAt(x+1))!==-1){d=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),_={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:d,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ct.API),ct.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=$V(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,u=o.palette,c=o.depth;i=u&&l===1?function(N){for(var T=N.width,k=N.height,E=N.data,S=N.palette,I=N.depth,U=!1,G=[],oe=[],se=void 0,te=!1,Z=0,X=0;X<S.length;X++){var z=vb(S[X],4),R=z[0],F=z[1],W=z[2],K=z[3];G.push(R,F,W),K!=null&&(K===0?(Z++,oe.length<1&&oe.push(X)):K<255&&(te=!0))}if(te||Z>1){U=!0,oe=void 0;var q=T*k;se=new Uint8Array(q);for(var Q=new DataView(E.buffer),ae=0;ae<q;ae++){var fe=O0(Q,ae,I),he=vb(S[fe],4)[3];se[ae]=he}}else Z===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:E,alphaBytes:se,needSMask:U,palette:G,mask:oe}}(o):l===2||l===4?function(N){for(var T=N.data,k=N.width,E=N.height,S=N.channels,I=N.depth,U=S===2?"DeviceGray":"DeviceRGB",G=S-1,oe=k*E,se=G,te=oe*se,Z=1*oe,X=Math.ceil(te*I/8),z=Math.ceil(Z*I/8),R=new Uint8Array(X),F=new Uint8Array(z),W=new DataView(T.buffer),K=new DataView(R.buffer),q=new DataView(F.buffer),Q=!1,ae=0;ae<oe;ae++){for(var fe=ae*S,he=0;he<se;he++)xx(K,O0(W,fe+he,I),ae*se+he,I);var be=O0(W,fe+se,I);be<(1<<I)-1&&(Q=!0),xx(q,be,1*ae,I)}return{colorSpace:U,colorsPerPixel:G,sMaskBitsPerComponent:Q?I:void 0,colorBytes:R,alphaBytes:F,needSMask:Q}}(o):function(N){var T=N.data,k=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:k,colorsPerPixel:k==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(E){for(var S=E.length,I=new Uint8Array(2*S),U=new DataView(I.buffer,I.byteOffset,I.byteLength),G=0;G<S;G++)U.setUint16(2*G,E[G],!1);return I}(T):T,needSMask:!1}}(o);var h,d,f,y=i,_=y.colorSpace,x=y.colorsPerPixel,p=y.sMaskBitsPerComponent,v=y.colorBytes,A=y.alphaBytes,w=y.needSMask,C=y.palette,B=y.mask,L=null;return r!==ct.API.image_compression.NONE&&typeof hv=="function"?(L=function(N){var T;switch(N){case ct.API.image_compression.FAST:T=11;break;case ct.API.image_compression.MEDIUM:T=13;break;case ct.API.image_compression.SLOW:T=14;break;default:T=12}return T}(r),h=this.decode.FLATE_DECODE,d="/Predictor ".concat(L," /Colors ").concat(x," /BitsPerComponent ").concat(c," /Columns ").concat(s),t=vx(v,Math.ceil(s*x*c/8),x,c,r),w&&(f=vx(A,Math.ceil(s*p/8),1,p,r))):(h=void 0,d=void 0,t=v,w&&(f=A)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:h,decodeParameters:d,transparency:B,palette:C,sMask:f,predictor:L,width:s,height:a,bitsPerComponent:c,sMaskBitsPerComponent:p,colorSpace:_}}},function(t){t.processGIF89A=function(e,n,r,i){var o=new hq(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},c=new R0(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ct.API),Io.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Io.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){pn.log("bit decode error:"+n)}},Io.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Io.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Io.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Io.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,u=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}this.pos+=t}},Io.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,c=i*this.width*4+4*o;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Io.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Io.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Io.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new Io(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new R0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),Ax.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new Ax(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new R0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),ct.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],h=r[u+1],d=r[u+2],f=r[u+3];o[a++]=c,o[a++]=h,o[a++]=d,s[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ku=ct.API,qd=ku.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,d=0,f=t.length,y=0,_=a[0]||l,x=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(d=h&&sn(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/c:0,x.push((a[r]||_)/l+d)),y=r;return x},px=ku.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ku.processArabic&&(t=ku.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:qd.apply(this,arguments).reduce(function(o,s){return o+s},0)},gx=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},mx=function(t,e,n){n||(n={});var r,i,o,s,a,l,u,c=[],h=[c],d=n.textIndent||0,f=0,y=0,_=t.split(" "),x=qd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var p=Array(l).join(" "),v=[];_.map(function(w){(w=w.split(/\s*\n/)).length>1?v=v.concat(w.map(function(C,B){return(B&&C.length?`
`:"")+C})):v.push(w[0])}),_=v,l=px.apply(this,[p,n])}for(o=0,s=_.length;o<s;o++){var A=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),A=1),d+f+(y=(i=qd.apply(this,[r,n])).reduce(function(w,C){return w+C},0))>e||A){if(y>e){for(a=gx.apply(this,[r,i,e-(d+f),e]),c.push(a.shift()),c=[a.pop()];a.length;)h.push([a.shift()]);y=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(w,C){return w+C},0)}else c=[r];h.push(c),d=y+l,f=x}else c.push(r),d+=f+y,f=x}return u=l?function(w,C){return(C?p:"")+w.join(" ")}:function(w){return w.join(" ")},h.map(u)},ku.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return h.metadata[d]?{widths:h.metadata[d].widths||{0:1},kerning:h.metadata[d].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(mx.apply(this,[r[a],s,o]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,y,_,x,p=["{"];for(var v in d){if(f=d[v],isNaN(parseInt(v,10))?y="'"+v+"'":(v=parseInt(v,10),y=(y=s(v).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof f=="number")f<0?(_=s(f).slice(3),x="-"):(_=s(f).slice(2),x=""),_=x+_.slice(0,-1)+i[_.slice(-1)];else{if(sn(f)!=="object")throw new Error("Don't know what to do with value type "+sn(f)+".");_=a(f)}p.push(y+_)}return p.push("}"),p.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,y,_,x,p={},v=1,A=p,w=[],C="",B="",L=d.length-1,N=1;N<L;N+=1)(x=d[N])=="'"?f?(_=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(w.push([A,_]),A={},_=void 0):x=="}"?((y=w.pop())[0][y[1]]=A,_=void 0,A=y[0]):x=="-"?v=-1:_===void 0?r.hasOwnProperty(x)?(C+=r[x],_=parseInt(C,16)*v,v=1,C=""):C+=x:r.hasOwnProperty(x)?(B+=r[x],A[_]=parseInt(B,16)*v,v=1,_=void 0,B=""):B+=x;return p},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,y=h.Unicode[f.postScriptName];y&&(f.metadata.Unicode={},f.metadata.Unicode.widths=y.widths,f.metadata.Unicode.kerning=y.kerning);var _=c.Unicode[f.postScriptName];_&&(f.metadata.Unicode.encoding=_,f.encoding=_.codePages[0])}])}(ct.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(fp(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),ct.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(wt.canvg?Promise.resolve(wt.canvg):d0(()=>import("./index.es-CNHueAwe.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},ct.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ct.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],u=0,c=0,h=0;function d(y,_){var x,p=!1;for(x=0;x<y.length;x+=1)y[x]===_&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(sn(t)==="object"){for(i in t)if(o=t[i],d(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&d(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(u=0;u<o.length;u+=1)if(r=!0,o[u].length===1&&typeof o[u][0]=="number")l.push(String(o[u]-1));else if(o[u].length>1){for(c=0;c<o[u].length;c+=1)typeof o[u][c]!="number"&&(r=!1);r===!0&&l.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,_=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?_.push("/"+y+" /"+n[y].value):_.push("/"+y+" "+n[y].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,d=o.length;h<d;++h){if(a=s.metadata.characterToGlyph(o.charCodeAt(h)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(o){var s,a,l,u,c,h,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(a=Object.keys(o).sort(function(f,y){return f-y})).length;h<d;h++)s=a[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",y=0;y<d.length;y++)f+=String.fromCharCode(d[y]);var _=u();c({data:f,addLength1:!0,objectId:_}),l("endobj");var x=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var p=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ou(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var v=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ou(a.fontName)),l("/FontDescriptor "+p+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Ou(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var y=u();c({data:d,addLength1:!0,objectId:y}),l("endobj");var _=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var x=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ou(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var p=0;p<a.metadata.hmtx.widths.length;p++)a.metadata.hmtx.widths[p]=parseInt(a.metadata.hmtx.widths[p]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Ou(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,u=o.y,c=o.options||{},h=o.mutex||{},d=h.pdfEscape,f=h.activeFontKey,y=h.fonts,_=f,x="",p=0,v="",A=y[_].encoding;if(y[_].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:h};for(v=a,_=f,Array.isArray(a)&&(v=a[0]),p=0;p<v.length;p+=1)y[_].metadata.hasOwnProperty("cmap")&&(s=y[_].metadata.cmap.unicode.codeMap[v[p].charCodeAt(0)]),s||v[p].charCodeAt(0)<256&&y[_].metadata.hasOwnProperty("Unicode")?x+=v[p]:x+="";var w="";return parseInt(_.slice(1))<14||A==="WinAnsiEncoding"?w=d(x,_).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(w=n(x,y[_])),h.isHex=!0,{text:w,x:l,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?a.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},l,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,u,c,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,A=0;this.__bidiEngine__={};var w=function(E){var S=E.charCodeAt(),I=S>>8,U=_[I];return U!==void 0?h[256*U+(255&S)]:I===252||I===253?"AL":p.test(I)?"L":I===8?"R":"N"},C=function(E){for(var S,I=0;I<E.length;I++){if((S=w(E.charAt(I)))==="L")return!1;if(S==="R")return!0}return!1},B=function(E,S,I,U){var G,oe,se,te,Z=S[U];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(Z="AN");break;case"AL":v=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":U<1||U+1>=S.length||(G=I[U-1])!=="EN"&&G!=="AN"||(oe=S[U+1])!=="EN"&&oe!=="AN"?Z="N":v&&(oe="AN"),Z=oe===G?oe:"N";break;case"ES":Z=(G=U>0?I[U-1]:"B")==="EN"&&U+1<S.length&&S[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&I[U-1]==="EN"){Z="EN";break}if(v){Z="N";break}for(se=U+1,te=S.length;se<te&&S[se]==="ET";)se++;Z=se<te&&S[se]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(te=S.length,se=U+1;se<te&&S[se]==="NSM";)se++;if(se<te){var X=E[U],z=X>=1425&&X<=2303||X===64286;if(G=S[se],z&&(G==="R"||G==="AL")){Z="R";break}}}Z=U<1||(G=S[U-1])==="B"?"N":I[U-1];break;case"B":v=!1,i=!0,Z=A;break;case"S":o=!0,Z="N"}return Z},L=function(E,S,I){var U=E.split("");return I&&N(U,I,{hiLevel:A}),U.reverse(),S&&S.reverse(),U.join("")},N=function(E,S,I){var U,G,oe,se,te,Z=-1,X=E.length,z=0,R=[],F=A?f:d,W=[];for(v=!1,i=!1,o=!1,G=0;G<X;G++)W[G]=w(E[G]);for(oe=0;oe<X;oe++){if(te=z,R[oe]=B(E,W,R,oe),U=240&(z=F[te][y[R[oe]]]),z&=15,S[oe]=se=F[z][5],U>0)if(U===16){for(G=Z;G<oe;G++)S[G]=1;Z=-1}else Z=-1;if(F[z][6])Z===-1&&(Z=oe);else if(Z>-1){for(G=Z;G<oe;G++)S[G]=se;Z=-1}W[oe]==="B"&&(S[oe]=0),I.hiLevel|=se}o&&function(K,q,Q){for(var ae=0;ae<Q;ae++)if(K[ae]==="S"){q[ae]=A;for(var fe=ae-1;fe>=0&&K[fe]==="WS";fe--)q[fe]=A}}(W,S,X)},T=function(E,S,I,U,G){if(!(G.hiLevel<E)){if(E===1&&A===1&&!i)return S.reverse(),void(I&&I.reverse());for(var oe,se,te,Z,X=S.length,z=0;z<X;){if(U[z]>=E){for(te=z+1;te<X&&U[te]>=E;)te++;for(Z=z,se=te-1;Z<se;Z++,se--)oe=S[Z],S[Z]=S[se],S[se]=oe,I&&(oe=I[Z],I[Z]=I[se],I[se]=oe);z=te}z++}}},k=function(E,S,I){var U=E.split(""),G={hiLevel:A};return I||(I=[]),N(U,I,G),function(oe,se,te){if(te.hiLevel!==0&&c)for(var Z,X=0;X<oe.length;X++)se[X]===1&&(Z=x.indexOf(oe[X]))>=0&&(oe[X]=x[Z+1])}(U,I,G),T(2,U,S,I,G),T(1,U,S,I,G),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,S,I){if(function(G,oe){if(oe)for(var se=0;se<G.length;se++)oe[se]=se;a===void 0&&(a=C(G)),u===void 0&&(u=C(G))}(E,S),s||!l||u)if(s&&l&&a^u)A=a?1:0,E=L(E,S,I);else if(!s&&l&&u)A=a?1:0,E=k(E,S,I),E=L(E,S);else if(!s||a||l||u){if(s&&!l&&a^u)E=L(E,S),a?(A=0,E=k(E,S,I)):(A=1,E=k(E,S,I),E=L(E,S));else if(s&&a&&!l&&u)A=1,E=k(E,S,I),E=L(E,S);else if(!s&&!l&&a^u){var U=c;a?(A=1,E=k(E,S,I),A=0,c=!1,E=k(E,S,I),c=U):(A=0,E=k(E,S,I),E=L(E,S),A=1,c=!1,E=k(E,S,I),c=U,E=L(E,S))}}else A=0,E=k(E,S,I);else A=a?1:0,E=k(E,S,I);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,u=E.isOutputRtl,c=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ul(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Tq(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dq(this.contents),this.head=new gq(this),this.name=new wq(this),this.cmap=new xN(this),this.toUnicode={},this.hhea=new mq(this),this.maxp=new bq(this),this.hmtx=new xq(this),this.post=new yq(this),this.os2=new vq(this),this.loca=new Nq(this),this.glyf=new Eq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,u;for(u=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Vo,ul=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),dq=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,u,c,h,d,f,y,_;for(_ in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),c=16*f-h,(i=new ul).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(s),i.writeShort(c),o=16*f,u=i.pos+o,a=null,y=[],n)for(d=n[_],i.writeString(_),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),y=y.concat(d),_==="head"&&(a=u),u+=d.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=EN.call(n);n.length%4;)n.push(0);for(o=new ul(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),pq={}.hasOwnProperty,gs=function(t,e){for(var n in e)pq.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Vo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var gq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new ul).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Sx=function(){function t(e,n){var r,i,o,s,a,l,u,c,h,d,f,y,_,x,p,v,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,o=function(){var w,C;for(C=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)C.push(e.readUInt16());return C}(),e.pos+=2,_=function(){var w,C;for(C=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)C.push(e.readUInt16());return C}(),u=function(){var w,C;for(C=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)C.push(e.readUInt16());return C}(),c=function(){var w,C;for(C=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,a=function(){var w,C;for(C=[],l=w=0;0<=i?w<i:w>i;l=0<=i?++w:--w)C.push(e.readUInt16());return C}(),l=p=0,A=o.length;p<A;l=++p)for(x=o[l],r=v=y=_[l];y<=x?v<=x:v>=x;r=y<=x?++v:--v)c[l]===0?s=r+u[l]:(s=a[c[l]/2+(r-y)-(d-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=h}return t.encode=function(e,n){var r,i,o,s,a,l,u,c,h,d,f,y,_,x,p,v,A,w,C,B,L,N,T,k,E,S,I,U,G,oe,se,te,Z,X,z,R,F,W,K,q,Q,ae,fe,he,be,Le;switch(U=new ul,s=Object.keys(e).sort(function(Oe,Ue){return Oe-Ue}),n){case"macroman":for(_=0,x=function(){var Oe=[];for(y=0;y<256;++y)Oe.push(0);return Oe}(),v={0:0},o={},G=0,Z=s.length;G<Z;G++)v[fe=e[i=s[G]]]==null&&(v[fe]=++_),o[i]={old:e[i],new:v[e[i]]},x[i]=v[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(x),{charMap:o,subtable:U.data,maxGlyphID:_+1};case"unicode":for(S=[],h=[],A=0,v={},r={},p=u=null,oe=0,X=s.length;oe<X;oe++)v[C=e[i=s[oe]]]==null&&(v[C]=++A),r[i]={old:C,new:v[C]},a=v[C]-i,p!=null&&a===u||(p&&h.push(p),S.push(i),u=a),p=i;for(p&&h.push(p),h.push(65535),S.push(65535),k=2*(T=S.length),N=2*Math.pow(Math.log(T)/Math.LN2,2),d=Math.log(N/2)/Math.LN2,L=2*T-N,l=[],B=[],f=[],y=se=0,z=S.length;se<z;y=++se){if(E=S[y],c=h[y],E===65535){l.push(0),B.push(0);break}if(E-(I=r[E].new)>=32768)for(l.push(0),B.push(2*(f.length+T-y)),i=te=E;E<=c?te<=c:te>=c;i=E<=c?++te:--te)f.push(r[i].new);else l.push(I-E),B.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*T+2*f.length),U.writeUInt16(0),U.writeUInt16(k),U.writeUInt16(N),U.writeUInt16(d),U.writeUInt16(L),Q=0,R=h.length;Q<R;Q++)i=h[Q],U.writeUInt16(i);for(U.writeUInt16(0),ae=0,F=S.length;ae<F;ae++)i=S[ae],U.writeUInt16(i);for(he=0,W=l.length;he<W;he++)a=l[he],U.writeUInt16(a);for(be=0,K=B.length;be<K;be++)w=B[be],U.writeUInt16(w);for(Le=0,q=f.length;Le<q;Le++)_=f[Le],U.writeUInt16(_);return{charMap:r,subtable:U.data,maxGlyphID:A+1}}},t}(),xN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Sx(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Sx.encode(e,n),(i=new ul).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),mq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),vq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),yq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),_q=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,l,u,c,h,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=c=0,h=r.length;c<h;o=++c)i=r[o],e.pos=i.offset,u=e.readString(i.length),s=new _q(u,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),bq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),xq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,h,d;for(d=[],u=0,c=(h=this.metrics).length;u<c;u++)o=h[u],d.push(o.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),EN=[].slice,Eq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,l,u,c,h;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new ul(n.read(i))).readShort(),u=a.readShort(),h=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=s===-1?new Sq(a,u,h,l,c):new Aq(a,s,u,h,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=n.length;a<l;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),Aq=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Sq=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ul(EN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Nq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Vo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),Tq=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,u,c,h,d,f,y,_,x,p;for(i in r=xN.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},p=r.charMap)f[(l=p[i]).old]=l.new;for(y in d=r.maxGlyphID,s)y in f||(f[y]=d++);return c=function(v){var A,w;for(A in w={},v)w[v[A]]=A;return w}(f),h=Object.keys(c).sort(function(v,A){return v-A}),_=function(){var v,A,w;for(w=[],v=0,A=h.length;v<A;v++)a=h[v],w.push(c[a]);return w}(),o=this.font.glyf.encode(s,_,f),u=this.font.loca.encode(o.offsets,_),x={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();ct.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();function AN(t,e,n,r,i){r=r||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():o,u=a*l,c=/\r\n|\r|\n/g,h="",d=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(c):t,d=h.length||1),n+=a*(2-o),r.valign==="middle"?n-=d/2*u:r.valign==="bottom"&&(n-=d*u),r.halign==="center"||r.halign==="right"){var f=a;if(r.halign==="center"&&(f*=.5),h&&d>=1){for(var y=0;y<h.length;y++)i.text(h[y],e-i.getStringUnitWidth(h[y])*f,n),n+=u;return i}e-=i.getStringUnitWidth(t)*f}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var Nx={},ac=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Nx=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(o=this.jsPDFDocument).setDrawColor.apply(o,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,o){return this.jsPDFDocument.rect(e,n,r,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Nx||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),wv=function(t,e){return wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},wv(t,e)};function SN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var NN=function(t){SN(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function kq(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Iq(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function dg(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(o){return n.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return i}function TN(t,e,n,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var s=kN(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function kN(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function cm(t,e){var n,r,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function IN(t,e){var n=cm(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Pq(t,e,n,r,i){var o={},s=1.3333333333333333,a=D0(e,function(A){return i.getComputedStyle(A).backgroundColor});a!=null&&(o.fillColor=a);var l=D0(e,function(A){return i.getComputedStyle(A).color});l!=null&&(o.textColor=l);var u=Cq(r,n);u&&(o.cellPadding=u);var c="borderTopColor",h=s*n,d=r.borderTopWidth;if(r.borderBottomWidth===d&&r.borderRightWidth===d&&r.borderLeftWidth===d){var f=(parseFloat(d)||0)/h;f&&(o.lineWidth=f)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},o.lineWidth.top||(o.lineWidth.right?c="borderRightColor":o.lineWidth.bottom?c="borderBottomColor":o.lineWidth.left&&(c="borderLeftColor"));var y=D0(e,function(A){return i.getComputedStyle(A)[c]});y!=null&&(o.lineColor=y);var _=["left","right","center","justify"];_.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),_=["middle","bottom","top"],_.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var x=parseInt(r.fontSize||"");isNaN(x)||(o.fontSize=x/s);var p=Lq(r);p&&(o.fontStyle=p);var v=(r.fontFamily||"").toLowerCase();return t.indexOf(v)!==-1&&(o.font=v),o}function Lq(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function D0(t,e){var n=PN(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function PN(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:PN(t.parentElement,e):n}function Cq(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=n.map(function(a){return parseInt(a||"0")/r}),s=cm(o,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function LN(t,e,n,r,i){var o,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],h=[],d=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:h,foot:d};for(var f=0;f<a.rows.length;f++){var y=a.rows[f],_=(s=(o=y==null?void 0:y.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),x=Oq(l,u,n,y,r,i);x&&(_==="thead"?c.push(x):_==="tfoot"?d.push(x):h.push(x))}return{head:c,body:h,foot:d}}function Oq(t,e,n,r,i,o){for(var s=new NN(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;o&&(c=Pq(t,l,e,u,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:Rq(l)})}}var h=n.getComputedStyle(r);if(s.length>0&&(i||h.display!=="none"))return s}function Rq(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Dq(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Vs(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o}function CN(t,e){var n=new ac(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();Dq(i,r,e);var o=Vs({},i,r,e),s;typeof window<"u"&&(s=window);var a=jq(i,r,e),l=Mq(i,r,e),u=Fq(n,o),c=Uq(n,o,s);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function jq(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],h=n[l];r.columnStyles=Vs({},u,c,h)}else{var d=[t,e,n],f=d.map(function(y){return y[l]||{}});r[l]=Vs({},f[0],f[1],f[2])}},o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];i(a)}return r}function Mq(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=r;o<s.length;o++){var a=s[o];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function Fq(t,e){var n,r,i,o,s,a,l,u,c,h,d,f,y=cm(e.margin,40/t.scaleFactor()),_=(n=Bq(t,e.startY))!==null&&n!==void 0?n:y.top,x;e.showFoot===!0?x="everyPage":e.showFoot===!1?x="never":x=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var p;e.showHead===!0?p="everyPage":e.showHead===!1?p="never":p=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var v=(o=e.useCss)!==null&&o!==void 0?o:!1,A=e.theme||(v?"plain":"striped"),w=!!e.horizontalPageBreak,C=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:v,theme:A,startY:_,margin:y,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:p,showFoot:x,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(d=e.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:w,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Bq(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;o=s===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Uq(t,e,n){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var a=LN(t,e.html,n,s,e.useCss)||{};r=a.head||r,i=a.body||r,o=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Vq(r,i,o);return{columns:l,head:r,body:i,foot:o}}function Vq(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(r)?a=r[parseInt(o)]:a=r[o],typeof a=="object"&&!Array.isArray(a)&&(s=(a==null?void 0:a.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(r)?u=i.length:u=o+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var bv=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),qq=function(t){SN(e,t);function e(n,r,i,o,s,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=o,l.column=s,l.section=o.section,l}return e}(bv),zq=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,o,s){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new qq(e,this,r,i,o,s),h=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new bv(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new bv(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),ON=function(){function t(e,n,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof NN&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=n.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,o){var s=r.cells[o.index];if(!s)return 0;var a=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),RN=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=cm(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Hq=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function $q(t,e){Wq(t,e);var n=[],r=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,n.push(o)),r+=o.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=xv(n,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=xv(n,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Kq(e),Yq(e,t),Gq(e)}function Wq(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=IN(t,e);e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,o,l,null);var h=u.padding("horizontal");u.contentWidth=dg(u.text,u.styles,t)+h;var d=dg(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=d+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/n;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=c.cellWidth||c.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function xv(t,e,n){for(var r=e,i=t.reduce(function(f,y){return f+y.wrappedWidth},0),o=0;o<t.length;o++){var s=t[o],a=s.wrappedWidth/i,l=r*a,u=s.width+l,c=n(s),h=u<c?c:u;e-=h-s.width,s.width=h}if(e=Math.round(e*1e10)/1e10,e){var d=t.filter(function(f){return e<0?f.width>n(f):!0});d.length&&(e=xv(d,e,n))}return e}function Gq(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var o=r[i],s=0,a=t.columns;s<a.length;s++){var l=a[s],u=e[l.index];if(n>1)n--,delete o.cells[l.index];else if(u)u.cell.height+=o.height,n=u.cell.colSpan,delete o.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=o.cells[l.index];if(!c)continue;if(c.height=o.height,c.rowSpan>1){var h=r.length-i,d=c.rowSpan>h?h:c.rowSpan;e[l.index]={cell:c,left:d,row:o}}}}}function Kq(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,o=0,s=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(s-=1,s>1&&t.columns[a+1])o+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+o}else{var u=r.cells[l.index];if(!u)continue;if(s=u.colSpan,o=0,u.colSpan>1){i=u,o+=l.width;continue}u.width=l.width+o}}}function Yq(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var o=i[r],s=0,a=t.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Tx(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Tx(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,c);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<d*u.rowSpan?n={height:d,count:u.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>o.height&&(o.height=d)}}n.count--}}function Tx(t,e,n,r,i){return t.map(function(o){return Qq(o,e,n,r,i)})}function Qq(t,e,n,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=dg(t,n,r))return t;for(;e<dg(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function DN(t,e){var n=new ac(t),r=Xq(e,n.scaleFactor()),i=new zq(e,r);return $q(n,i),n.applyStyles(n.userStyles),i}function Xq(t,e){var n=t.content,r=Zq(n.columns);if(n.head.length===0){var i=kx(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=kx(r,"foot");i&&n.foot.push(i)}var o=t.settings.theme,s=t.styles;return{columns:r,head:j0("head",n.head,r,s,o,e),body:j0("body",n.body,r,s,o,e),foot:j0("foot",n.foot,r,s,o,e)}}function j0(t,e,n,r,i,o){var s={},a=e.map(function(l,u){for(var c=0,h={},d=0,f=0,y=0,_=n;y<_.length;y++){var x=_[y];if(s[x.index]==null||s[x.index].left===0)if(f===0){var p=void 0;Array.isArray(l)?p=l[x.index-d-c]:p=l[x.dataKey];var v={};typeof p=="object"&&!Array.isArray(p)&&(v=(p==null?void 0:p.styles)||{});var A=ez(t,x,u,i,r,o,v),w=new RN(p,A,t);h[x.dataKey]=w,h[x.index]=w,f=w.colSpan-1,s[x.index]={left:w.rowSpan-1,times:f}}else f--,d++;else s[x.index].left--,f=s[x.index].times,c++}return new ON(l,u,t,h)});return a}function kx(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Jq(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Jq(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Zq(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Hq(i,e,n)})}function ez(t,e,n,r,i,o,s){var a=Iq(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Vs({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?c:{},d=t==="body"&&n%2===0?Vs({},a.alternateRow,i.alternateRowStyles):{},f=kq(o),y=Vs({},f,u,d,h);return Vs(y,s)}function tz(t,e,n){var r;n===void 0&&(n={});var i=IN(t,e),o=new Map,s=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(d){var f=e.columns.find(function(y){return y.dataKey===d||y.index===d});f&&!o.has(f.index)&&(o.set(f.index,!0),s.push(f.index),a.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(o.has(c)){c++;continue}var h=e.columns[c].wrappedWidth;if(u||i>=h)u=!1,s.push(c),a.push(e.columns[c]),i-=h;else break;c++}return{colIndexes:s,columns:a,lastIndex:c-1}}function nz(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=tz(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function jN(t,e){var n=e.settings,r=n.startY,i=n.margin,o={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(d,f){return d+f.height},0);a+=u}var c=new ac(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(FN(c),o.y=i.top),e.callWillDrawPageHooks(c,o);var h=Vs({},o);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?rz(c,e,h,o):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(d){return ta(c,e,d,o,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(d,f){var y=f===e.body.length-1;pg(c,e,d,y,h,o,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(d){return ta(c,e,d,o,e.columns)})),TN(c,e,h,o),e.callEndPageHooks(c,o),e.finalY=o.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function rz(t,e,n,r){var i=nz(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Qf(t,e,n,r,u.columns,!0):Ix(t,e,r,u.columns),iz(t,e,n,r,u.columns),M0(t,e,r,u.columns)});else for(var s=-1,a=i[0],l=function(){var u=s;if(a){t.applyStyles(t.userStyles);var c=a.columns;s>=0?Qf(t,e,n,r,c,!0):Ix(t,e,r,c),u=Px(t,e,s+1,r,c),M0(t,e,r,c)}var h=u-s;i.slice(1).forEach(function(d){t.applyStyles(t.userStyles),Qf(t,e,n,r,d.columns,!0),Px(t,e,s+1,r,d.columns,h),M0(t,e,r,d.columns)}),s=u};s<e.body.length-1;)l()}function Ix(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return ta(t,e,o,n,r)})}function iz(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,s){var a=s===e.body.length-1;pg(t,e,o,a,n,r,i)})}function Px(t,e,n,r,i,o){t.applyStyles(t.userStyles),o=o??e.body.length;var s=Math.min(n+o,e.body.length),a=-1;return e.body.slice(n,s).forEach(function(l,u){var c=n+u===e.body.length-1,h=MN(t,e,c,r);l.canEntireRowFit(h,i)&&(ta(t,e,l,r,i),a=n+u)}),a}function M0(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return ta(t,e,o,n,r)})}function oz(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function sz(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,s=0,a=n.columns;s<a.length;s++){var l=a[s],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new RN(u.raw,u.styles,u.section);c=Vs(c,u),c.text=[];var h=oz(u,e,r);u.text.length>h&&(c.text=u.text.splice(h,u.text.length));var d=r.scaleFactor(),f=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(d,f),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(d,f),c.contentHeight>o&&(o=c.contentHeight),i[l.index]=c}}var y=new ON(t.raw,-1,t.section,i,!0);y.height=o;for(var _=0,x=n.columns;_<x.length;_++){var l=x[_],c=y.cells[l.index];c&&(c.height=y.height);var u=t.cells[l.index];u&&(u.height=t.height)}return y}function az(t,e,n,r){var i=t.pageSize().height,o=r.settings.margin,s=o.top+o.bottom,a=i-s;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>a;return h?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function pg(t,e,n,r,i,o,s){var a=MN(t,e,r,o);if(n.canEntireRowFit(a,s))ta(t,e,n,o,s);else if(az(t,n,a,e)){var l=sz(n,a,e,t);ta(t,e,n,o,s),Qf(t,e,i,o,s),pg(t,e,l,r,i,o,s)}else Qf(t,e,i,o,s),pg(t,e,n,r,i,o,s)}function ta(t,e,n,r,i){r.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}lz(t,l,r);var c=l.getTextPos();AN(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function lz(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=kN(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),uz(t,e,n,r.lineWidth))}function uz(t,e,n,r){var i,o,s,a;r.top&&(i=n.x,o=n.y,s=n.x+e.width,a=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,o,s,a)),r.bottom&&(i=n.x,o=n.y+e.height,s=n.x+e.width,a=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,o,s,a)),r.left&&(i=n.x,o=n.y,s=n.x,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,o,s,a)),r.right&&(i=n.x+e.width,o=n.y,s=n.x+e.width,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,o,s,a));function l(u,c,h,d,f){t.getDocument().setLineWidth(u),t.getDocument().line(c,h,d,f,"S")}}function MN(t,e,n,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Qf(t,e,n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(a){return ta(t,e,a,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;TN(t,e,n,r),FN(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return ta(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function FN(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function cz(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=CN(this,r),o=DN(this,i);return jN(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){AN(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return ac.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){ac.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ac(this),o=LN(i,e,window,n,!1),s=o.head,a=o.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var F0;function BN(t,e){var n=CN(t,e),r=DN(t,n);jN(t,r)}try{if(typeof window<"u"&&window){var Lx=window,Cx=Lx.jsPDF||((F0=Lx.jspdf)===null||F0===void 0?void 0:F0.jsPDF);Cx&&cz(Cx)}}catch(t){console.error("Could not apply autoTable plugin",t)}const fz={Music:pA,Baby:OR,Smile:UR,Calendar:$p,Heart:ph,BookOpen:Fg,Video:Ey,Mic:BR,Camera:RR,Monitor:dA,Coffee:jR},gr=t=>{if(!t)return!1;const e=t.providerData.some(r=>r.providerId==="password"),n=t.email==="arc@gmail.com";return e||n},hz=({isOpen:t,onClose:e})=>{const{currentUser:n}=fi(),[r,i]=tt.useState([]);return tt.useEffect(()=>{if(!n)return;const o=Fr(Pn(Lt,"roster"),Js("status","==","pending"),Js("email","==",n.email));Fr(Pn(Lt,"events"),Fo("timestamp","desc"),Zs(5));const s=_o(o,a=>{const l=a.docs.map(u=>({id:u.id,type:"roster",title:"Nova Escala",message:`Voc foi escalado para: ${u.data().role}`,timestamp:u.data().timestamp||ea(),read:!1}));i(l)});return()=>s()},[n]),M.jsxs(M.Fragment,{children:[t&&M.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[60] transition-opacity",onClick:e}),M.jsxs("div",{className:`
        fixed top-0 right-0 h-full w-80 bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"translate-x-full"}
      `,children:[M.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center bg-orange-50/50",children:[M.jsxs("h2",{className:"font-bold text-lg text-gray-900 flex items-center gap-2",children:[M.jsx(Hp,{size:20,className:"text-orange-500"})," Notificaes"]}),M.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:M.jsx(Ql,{size:20})})]}),M.jsx("div",{className:"p-4 space-y-3 overflow-y-auto h-[calc(100vh-80px)]",children:r.length===0?M.jsxs("div",{className:"text-center py-10 text-gray-400",children:[M.jsx(Hp,{size:40,className:"mx-auto mb-3 opacity-20"}),M.jsx("p",{className:"text-sm",children:"Nenhuma notificao nova."})]}):r.map(o=>M.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-orange-100 relative group hover:bg-orange-50/30 transition",children:[M.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-orange-500 rounded-full"}),M.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1",children:o.title}),M.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:o.message})]},o.id))})]})]})},dz=({onNotificationClick:t})=>{const{currentUser:e,logout:n}=fi(),[r,i]=tt.useState(0);return tt.useEffect(()=>{if(!e)return;const o=Fr(Pn(Lt,"roster"),Js("status","==","pending"),Js("email","==",e.email)),s=_o(o,a=>i(a.size));return()=>s()},[e]),M.jsx("div",{className:"bg-white/80 backdrop-blur-md sticky top-0 z-50 px-6 py-4 border-b border-orange-100/50",children:M.jsxs("div",{className:"flex justify-between items-center max-w-md mx-auto",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"w-8 h-8 bg-gradient-to-tr from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center text-white shadow-lg shadow-orange-500/20 relative overflow-hidden group",children:[M.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-lg"}),M.jsx(by,{size:18,fill:"currentColor",className:"animate-living-flame relative z-10"})]}),M.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Kerigma"})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsxs("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center text-gray-500 hover:bg-orange-50 rounded-full transition relative",children:[M.jsx(Hp,{size:20}),r>0&&M.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"})]}),e?M.jsx("button",{onClick:n,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 hover:bg-red-50 hover:text-red-600 transition-colors",title:"Sair",children:M.jsx(hA,{size:18})}):M.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-amber-600 rounded-full flex items-center justify-center text-white shadow-lg shadow-orange-500/20 ring-2 ring-white",children:M.jsx(Yl,{size:18})})]})]})})},pz=()=>{const{loginGoogle:t,loginEmail:e}=fi(),[n,r]=tt.useState(!1),[i,o]=tt.useState(""),[s,a]=tt.useState(""),[l,u]=tt.useState(""),c=async()=>{try{u(""),await t()}catch(d){u("Falha ao entrar com Google."),console.error(d)}},h=async d=>{d.preventDefault();try{u(""),await e(i,s)}catch(f){u("Falha ao entrar. Verifique suas credenciais."),console.error(f)}};return M.jsx("div",{className:"p-6 flex flex-col items-center justify-center min-h-[60vh] animate-fade-in",children:M.jsxs("div",{className:"w-full max-w-sm",children:[M.jsxs("div",{className:"text-center mb-10",children:[M.jsx("div",{className:"w-16 h-16 bg-gradient-to-tr from-orange-500 to-yellow-500 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-orange-500/30 mx-auto mb-4",children:M.jsx(by,{size:32,fill:"currentColor"})}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bem-vindo"}),M.jsx("p",{className:"text-gray-500 mt-2",children:"Faa login para acessar sua conta"})]}),l&&M.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-xl text-sm font-medium mb-6 text-center border border-red-100",children:l}),M.jsx("div",{className:"space-y-4",children:n?M.jsxs("form",{onSubmit:h,className:"space-y-4 animate-fade-in",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Email"}),M.jsx("input",{type:"email",value:i,onChange:d=>o(d.target.value),className:"w-full bg-white border border-gray-200 rounded-xl p-4 outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all font-medium",placeholder:"admin@kerigma.com",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Senha"}),M.jsx("input",{type:"password",value:s,onChange:d=>a(d.target.value),className:"w-full bg-white border border-gray-200 rounded-xl p-4 outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all font-medium",placeholder:"",required:!0})]}),M.jsx("button",{type:"submit",className:"w-full bg-gray-900 text-white p-4 rounded-xl font-bold hover:bg-black active:scale-[0.98] transition-all shadow-lg shadow-gray-900/20",children:"Entrar como Admin"}),M.jsx("button",{type:"button",onClick:()=>r(!1),className:"w-full text-gray-500 text-sm font-bold hover:text-gray-900 transition-colors pt-2",children:"Voltar para Login de Membro"})]}):M.jsxs(M.Fragment,{children:[M.jsxs("button",{onClick:c,className:"w-full bg-white border border-gray-200 text-gray-700 p-4 rounded-xl font-bold flex items-center justify-center gap-3 hover:bg-gray-50 transition-all shadow-sm",children:[M.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[M.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),M.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),M.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),M.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Entrar com Google"]}),M.jsxs("div",{className:"relative py-4",children:[M.jsx("div",{className:"absolute inset-0 flex items-center",children:M.jsx("div",{className:"w-full border-t border-gray-200"})}),M.jsx("div",{className:"relative flex justify-center text-sm",children:M.jsx("span",{className:"px-2 bg-[#FAFAFA] text-gray-400 font-medium",children:"ou"})})]}),M.jsx("button",{onClick:()=>r(!0),className:"w-full text-gray-500 text-sm font-bold hover:text-gray-900 transition-colors",children:"Acesso Administrativo"})]})})]})})},Ox=({setActiveTab:t})=>{const{currentUser:e}=fi(),[n,r]=tt.useState({text:"Carregando palavra do dia...",reference:""}),[i,o]=tt.useState(!1),[s,a]=tt.useState({text:"",reference:""});tt.useEffect(()=>{const u=Fr(Pn(Lt,"daily_verse"),Zs(1)),c=_o(u,h=>{if(h.empty){const d={text:"Porque sou eu que conheo os planos que tenho para vocs', diz o Senhor, 'planos de faz-los prosperar e no de causar dano, planos de dar a vocs esperana e um futuro.",reference:"Jeremias 29:11"};r(d),a(d)}else{const d=h.docs[0].data();r(d),a(d)}});return()=>c()},[]);const l=async()=>{try{await Sh(vr(Lt,"daily_verse","today"),s),o(!1)}catch(u){console.error("Error saving verse:",u),alert("Erro ao salvar. Verifique se voc  admin.")}};return M.jsxs("div",{className:"p-6 space-y-8 pb-32 animate-fade-in",children:[M.jsxs("div",{className:"relative bg-gray-900 rounded-[32px] p-8 text-white overflow-hidden shadow-2xl shadow-orange-900/20 group",children:[M.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-orange-500 rounded-full mix-blend-screen filter blur-3xl opacity-20 animate-blob"}),M.jsx("div",{className:"absolute -bottom-8 -left-8 w-64 h-64 bg-yellow-600 rounded-full mix-blend-screen filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),M.jsxs("div",{className:"relative z-10",children:[M.jsx("div",{className:"flex items-center gap-2 mb-4",children:M.jsxs("span",{className:"inline-block py-1 px-3 rounded-full bg-white/10 text-xs font-semibold border border-white/10 backdrop-blur-sm text-orange-50",children:[" Ol, ",e?e.displayName||"Membro":"Visitante"]})}),M.jsxs("h2",{className:"text-3xl font-bold mb-2 leading-tight tracking-tight",children:["Sua semana",M.jsx("br",{}),"comea aqui."]}),M.jsxs("div",{className:"flex gap-3 mt-8",children:[M.jsxs("button",{onClick:()=>t("roster"),className:"flex-1 bg-white text-gray-900 py-3.5 px-4 rounded-2xl text-sm font-bold shadow-lg shadow-white/10 hover:bg-orange-50 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[M.jsx(wy,{size:18,className:"text-orange-600"}),"Minhas Escalas"]}),M.jsx("button",{onClick:()=>t("agenda"),className:"flex-1 bg-white/10 backdrop-blur-md text-white py-3.5 px-4 rounded-2xl text-sm font-bold hover:bg-white/20 hover:scale-[1.02] active:scale-[0.98] transition-all border border-white/10",children:"Ver Agenda"})]})]})]}),M.jsxs("div",{className:"text-center px-4 relative group/verse",children:[M.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -top-6 text-6xl text-orange-100 font-serif opacity-50 select-none",children:'"'}),gr(e)&&!i&&M.jsx("button",{onClick:()=>o(!0),className:"absolute right-0 top-0 p-2 text-gray-300 hover:text-orange-500 transition-colors",title:"Editar Versculo",children:M.jsx(Gs,{size:16})}),M.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Palavra do Dia"}),i?M.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border border-orange-100 animate-fade-in",children:[M.jsx("textarea",{value:s.text,onChange:u=>a({...s,text:u.target.value}),className:"w-full p-2 border border-gray-200 rounded-lg mb-2 text-sm",placeholder:"Texto do versculo",rows:3}),M.jsx("input",{value:s.reference,onChange:u=>a({...s,reference:u.target.value}),className:"w-full p-2 border border-gray-200 rounded-lg mb-3 text-sm font-bold",placeholder:"Referncia (ex: Joo 3:16)"}),M.jsxs("div",{className:"flex gap-2 justify-end",children:[M.jsx("button",{onClick:()=>o(!1),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:M.jsx(Ql,{size:18})}),M.jsx("button",{onClick:l,className:"p-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:M.jsx(mA,{size:18})})]})]}):M.jsxs(M.Fragment,{children:[M.jsxs("p",{className:"text-gray-800 text-lg font-medium leading-relaxed max-w-xs mx-auto",children:['"',n.text,'"']}),M.jsxs("p",{className:"text-gray-400 text-sm mt-3 font-medium tracking-wide",children:[" ",n.reference]})]})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 px-1 flex items-center gap-2",children:"Atalhos"}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{onClick:()=>t("devotional"),className:"bg-white p-5 rounded-[24px] shadow-[0_2px_15px_-3px_rgba(0,0,0,0.05)] border border-orange-100/30 hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer group",children:[M.jsx("div",{className:"w-12 h-12 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:M.jsx(Fg,{size:22,strokeWidth:2.5})}),M.jsx("h4",{className:"font-bold text-gray-900 text-base",children:"Devocional"}),M.jsx("p",{className:"text-xs text-gray-400 mt-1 font-medium",children:"Palavra do dia"})]}),M.jsxs("div",{onClick:()=>t("contribution"),className:"bg-white p-5 rounded-[24px] shadow-[0_2px_15px_-3px_rgba(0,0,0,0.05)] border border-orange-100/30 hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer group",children:[M.jsx("div",{className:"w-12 h-12 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:M.jsx(gA,{size:22,strokeWidth:2.5})}),M.jsx("h4",{className:"font-bold text-gray-900 text-base",children:"Dzimos e Ofertas"}),M.jsx("p",{className:"text-xs text-gray-400 mt-1 font-medium",children:"Contribua via PIX"})]})]})]})]})},gz=()=>{const[t,e]=tt.useState([]),[n,r]=tt.useState([]),{currentUser:i}=fi(),[o,s]=tt.useState(!1),[a,l]=tt.useState({userId:"",role:"",ministry:"Louvor",date:"",day:"",month:"",event:"Culto de Domingo",iconName:"Music"}),[u,c]=tt.useState("ALL"),h=[{label:"Todos",value:"ALL"},{label:"Janeiro",value:"JAN"},{label:"Fevereiro",value:"FEV"},{label:"Maro",value:"MAR"},{label:"Abril",value:"ABR"},{label:"Maio",value:"MAI"},{label:"Junho",value:"JUN"},{label:"Julho",value:"JUL"},{label:"Agosto",value:"AGO"},{label:"Setembro",value:"SET"},{label:"Outubro",value:"OUT"},{label:"Novembro",value:"NOV"},{label:"Dezembro",value:"DEZ"}];tt.useEffect(()=>{if(!i)return;let p;gr(i)?p=Fr(Pn(Lt,"roster"),Fo("timestamp","desc"),Zs(150)):p=Fr(Pn(Lt,"roster"),Js("email","==",i.email),Fo("timestamp","desc"),Zs(50));const v=_o(p,A=>{const w=A.docs.map(C=>({id:C.id,...C.data()}));w.sort((C,B)=>{var T,k;const L=((T=C.timestamp)==null?void 0:T.seconds)||0;return(((k=B.timestamp)==null?void 0:k.seconds)||0)-L}),e(w)},A=>{console.error("Error fetching roster:",A)});return gr(i)&&b2(Pn(Lt,"users")).then(A=>{r(A.docs.map(w=>w.data()))}),()=>v()},[i]);const d=async p=>{p.preventDefault();try{const v=n.find(L=>L.uid===a.userId);if(!v)return;const A=new Date(a.date),w=A.getDate(),C=A.toLocaleString("pt-BR",{month:"short"}).toUpperCase(),B={...a,email:v.email,userName:v.displayName,status:a.status||"pending",day:w,month:C,color:"bg-orange-50 text-orange-600",timestamp:ea()};a.id?await nu(vr(Lt,"roster",a.id),B):await Sc(Pn(Lt,"roster"),B),s(!1),l({userId:"",role:"",ministry:"Louvor",date:"",day:"",month:"",event:"Culto de Domingo",iconName:"Music"})}catch(v){console.error("Error creating/updating roster:",v),alert("Erro ao salvar escala.")}},f=p=>{var v;l({id:p.id,userId:((v=n.find(A=>A.email===p.email))==null?void 0:v.uid)||"",role:p.role,ministry:p.ministry,date:p.date||"",event:p.event,iconName:p.iconName,status:p.status}),s(!0)},y=async(p,v)=>{try{const A=vr(Lt,"roster",p);await nu(A,{status:v})}catch(A){console.error("Error updating status:",A)}},_=async p=>{if(window.confirm("Tem certeza que deseja excluir esta escala?"))try{await ru(vr(Lt,"roster",p))}catch(v){console.error("Error deleting roster:",v),alert("Erro ao excluir escala.")}},x=()=>{const p=new ct;p.setFillColor(255,123,0),p.rect(0,0,210,40,"F"),p.setTextColor(255,255,255),p.setFontSize(22),p.setFont("helvetica","bold"),p.text("Escala Semanal - Kerigma",105,20,{align:"center"}),p.setFontSize(12),p.setFont("helvetica","normal"),p.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,105,30,{align:"center"});const A=t.filter(w=>u==="ALL"||w.month===u).sort((w,C)=>new Date(w.date)-new Date(C.date)).map(w=>[`${w.day}/${w.month}`,new Date(w.date).toLocaleDateString("pt-BR",{weekday:"long"}),w.event,w.ministry,w.role,w.userName||"N/A",w.status==="confirmed"?"Confirmado":w.status==="declined"?"Recusado":"Pendente"]);BN(p,{startY:50,head:[["Data","Dia","Evento","Ministrio","Funo","Membro","Status"]],body:A,theme:"grid",headStyles:{fillColor:[255,123,0],textColor:255,fontStyle:"bold"},styles:{fontSize:10,cellPadding:3},alternateRowStyles:{fillColor:[255,245,235]},columnStyles:{0:{cellWidth:20},6:{fontStyle:"bold"}},didParseCell:function(w){w.section==="body"&&w.column.index===6&&(w.cell.raw==="Confirmado"&&(w.cell.styles.textColor=[0,128,0]),w.cell.raw==="Recusado"&&(w.cell.styles.textColor=[200,0,0]),w.cell.raw==="Pendente"&&(w.cell.styles.textColor=[200,150,0]))}}),p.save("escala-kerigma.pdf")};return M.jsxs("div",{className:"p-6 pb-32 animate-fade-in min-h-full bg-orange-50/30",children:[M.jsxs("div",{className:"flex justify-between items-end mb-8",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Escalas"}),M.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:"Gerencie seus compromissos"})]}),gr(i)?M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("button",{onClick:x,className:"bg-white text-gray-700 border border-gray-200 p-2 rounded-xl shadow-sm hover:bg-gray-50 transition flex items-center gap-2",title:"Baixar PDF",children:[M.jsx(cA,{size:24}),M.jsx("span",{className:"hidden md:inline text-sm font-bold",children:"PDF"})]}),M.jsx("button",{onClick:()=>s(!0),className:"bg-orange-500 text-white p-2 rounded-xl shadow-lg hover:bg-orange-600 transition",children:M.jsx(xy,{size:24})})]}):M.jsxs("div",{className:"bg-white px-4 py-2 rounded-2xl shadow-sm border border-orange-100 flex items-center gap-2",children:[M.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),M.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[t.filter(p=>p.status==="pending").length," Pendentes"]})]})]}),o&&M.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-xl border border-orange-200 mb-6 animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h3",{className:"font-bold text-gray-900",children:a.id?"Editar Escala":"Nova Escala"}),M.jsx("button",{onClick:()=>s(!1),children:M.jsx(Ql,{size:20,className:"text-gray-400"})})]}),M.jsx("button",{onClick:()=>s(!1),children:M.jsx(Ql,{size:20,className:"text-gray-400"})})]}),M.jsxs("form",{onSubmit:d,className:"space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Membro"}),M.jsxs("select",{className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:a.userId,onChange:p=>l({...a,userId:p.target.value}),required:!0,children:[M.jsx("option",{value:"",children:"Selecione um membro..."}),n.map(p=>M.jsx("option",{value:p.uid,children:p.displayName||p.email},p.uid))]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Funo"}),M.jsx("input",{type:"text",placeholder:"Ex: Teclado, Recepo",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:a.role,onChange:p=>l({...a,role:p.target.value}),required:!0})]}),M.jsx("div",{className:"flex gap-2",children:M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Data"}),M.jsx("input",{type:"date",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:a.date,onChange:p=>l({...a,date:p.target.value}),required:!0})]})}),M.jsx("button",{type:"submit",className:"w-full py-3 bg-gray-900 text-white font-bold rounded-xl hover:bg-black mt-2",children:M.jsx("button",{type:"submit",className:"w-full py-3 bg-gray-900 text-white font-bold rounded-xl hover:bg-black mt-2",children:a.id?"Salvar Alteraes":"Criar Escala"})})]})]}),M.jsxs("div",{className:"relative mb-4 -mx-6 px-6",children:[M.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 scrollbar-hide pr-12",children:h.map(p=>M.jsx("button",{onClick:()=>c(p.value),className:`
                                whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold transition-all
                                ${u===p.value?"bg-orange-500 text-white shadow-lg shadow-orange-500/30":"bg-white text-gray-500 border border-gray-100 hover:bg-gray-50"}
                            `,children:p.label},p.value))}),M.jsx("div",{className:"absolute right-0 top-0 bottom-4 w-16 bg-gradient-to-l from-orange-50/30 to-transparent pointer-events-none"})]}),t.length===0?M.jsx("div",{className:"text-center py-10 text-gray-500",children:M.jsx("p",{children:"Nenhuma escala encontrada."})}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:t.filter(p=>u==="ALL"||p.month===u).map(p=>{const v=fz[p.iconName]||pA,A=p.userName==="Admin"?p.email.split("@")[0]:p.userName||"Voc";return M.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] border border-gray-100 transition-all hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.08)] hover:-translate-y-1 flex flex-col justify-between",children:[M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-start mb-4",children:[M.jsxs("div",{className:"flex gap-4",children:[M.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 ${p.color||"bg-gray-100 text-gray-600"} shadow-sm`,children:M.jsx(v,{size:20,strokeWidth:2.5})}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight line-clamp-1",title:p.role,children:p.role}),M.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-1 line-clamp-1",children:A})]})]}),M.jsxs("div",{className:"text-center bg-gray-50 px-2.5 py-1.5 rounded-xl border border-gray-100 min-w-[50px]",children:[M.jsx("span",{className:"block text-[10px] font-bold text-gray-400 uppercase",children:p.month}),M.jsx("span",{className:"block text-lg font-bold text-gray-900 leading-none",children:p.day})]})]}),M.jsx("div",{className:"space-y-3 mb-4",children:M.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50/50 p-2 rounded-lg",children:[M.jsx(uA,{size:14,className:"text-orange-500"}),M.jsx("span",{className:"font-medium truncate",children:p.event})]})})]}),M.jsx("div",{className:"mt-auto pt-3 border-t border-gray-50",children:p.status==="pending"&&p.email===i.email?M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("button",{onClick:()=>y(p.id,"confirmed"),className:"flex-1 bg-gray-900 text-white py-2.5 rounded-xl text-xs font-bold hover:bg-black active:scale-95 transition-all flex items-center justify-center gap-1.5 shadow-lg shadow-gray-900/20",children:[M.jsx(M1,{size:14}),"Confirmar"]}),M.jsxs("button",{onClick:()=>y(p.id,"declined"),className:"flex-1 bg-white border border-gray-200 text-gray-600 py-2.5 rounded-xl text-xs font-bold hover:bg-orange-50 active:scale-95 transition-all flex items-center justify-center gap-1.5",children:[M.jsx(G_,{size:14}),"Recusar"]})]}):M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:`
                                                    py-1.5 px-3 rounded-lg flex items-center gap-1.5 text-xs font-bold border
                                                    ${p.status==="confirmed"?"bg-green-50 text-green-700 border-green-100":p.status==="declined"?"bg-red-50 text-red-700 border-red-100":"bg-yellow-50 text-yellow-700 border-yellow-100"}
                                                `,children:[p.status==="confirmed"&&M.jsxs(M.Fragment,{children:[M.jsx(M1,{size:14,className:"fill-green-200"})," Confirmado"]}),p.status==="declined"&&M.jsxs(M.Fragment,{children:[M.jsx(G_,{size:14,className:"fill-red-200"})," Recusado"]}),p.status==="pending"&&M.jsxs("span",{className:"flex items-center gap-1.5",children:[M.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full animate-pulse"})," Pendente"]})]}),gr(i)&&M.jsxs("div",{className:"flex gap-1",children:[M.jsx("button",{onClick:()=>f(p),className:"p-1.5 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:M.jsx(Gs,{size:14})}),M.jsx("button",{onClick:()=>_(p.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:M.jsx(Oh,{size:14})})]})]})})]},p.id)})})]})},mz=()=>{const[t,e]=tt.useState([]),{currentUser:n}=fi(),[r,i]=tt.useState(!1),[o,s]=tt.useState({title:"",date:"",location:"",time:""}),[a,l]=tt.useState(new Date().toLocaleString("pt-BR",{month:"short"}).toUpperCase()),u=[{value:"ALL",label:"Todos"},{value:"JAN",label:"Janeiro"},{value:"FEV",label:"Fevereiro"},{value:"MAR",label:"Maro"},{value:"ABR",label:"Abril"},{value:"MAI",label:"Maio"},{value:"JUN",label:"Junho"},{value:"JUL",label:"Julho"},{value:"AGO",label:"Agosto"},{value:"SET",label:"Setembro"},{value:"OUT",label:"Outubro"},{value:"NOV",label:"Novembro"},{value:"DEZ",label:"Dezembro"}];tt.useEffect(()=>{let y=Fr(Pn(Lt,"events"),Fo("date"),Zs(50));if(a!=="ALL"){const x=new Date().getFullYear(),p=u.findIndex(v=>v.value===a)-1;if(p>=0){const v=`${x}-${String(p+1).padStart(2,"0")}-01`,A=`${x}-${String(p+1).padStart(2,"0")}-31T23:59`;y=Fr(Pn(Lt,"events"),Js("date",">=",v),Js("date","<=",A),Fo("date"))}}const _=_o(y,x=>{e(x.docs.map(p=>({id:p.id,...p.data()})))},x=>{console.error("Error fetching events:",x)});return()=>_()},[a]);const c=async y=>{y.preventDefault();try{const _=`${o.date}T${o.time}`,x={title:o.title,date:_,location:o.location,timestamp:ea()};o.id?await nu(vr(Lt,"events",o.id),x):await Sc(Pn(Lt,"events"),x),i(!1),s({title:"",date:"",location:"",time:""})}catch(_){console.error("Error adding/updating event:",_),alert("Erro ao salvar evento.")}},h=y=>{const _=new Date(y.date),x=_.toISOString().split("T")[0],p=_.toTimeString().slice(0,5);s({id:y.id,title:y.title,date:x,time:p,location:y.location}),i(!0)},d=async y=>{if(window.confirm("Tem certeza que deseja excluir este evento?"))try{await ru(vr(Lt,"events",y))}catch(_){console.error("Error deleting event:",_),alert("Erro ao excluir evento.")}},f=()=>{const y=new ct;y.setFillColor(255,123,0),y.rect(0,0,210,40,"F"),y.setTextColor(255,255,255),y.setFontSize(22),y.setFont("helvetica","bold"),y.text("Agenda - Kerigma",105,20,{align:"center"}),y.setFontSize(12),y.setFont("helvetica","normal"),y.text(`Ms: ${a==="ALL"?"Todos":a} - Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,105,30,{align:"center"});const _=t.map(x=>[new Date(x.date).toLocaleDateString("pt-BR"),new Date(x.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),x.title,x.location]);BN(y,{startY:50,head:[["Data","Hora","Evento","Local"]],body:_,theme:"grid",headStyles:{fillColor:[255,123,0],textColor:255,fontStyle:"bold"},styles:{fontSize:10,cellPadding:3},alternateRowStyles:{fillColor:[255,245,235]},columnStyles:{0:{cellWidth:30},1:{cellWidth:20},2:{fontStyle:"bold"}}}),y.save("agenda-kerigma.pdf")};return M.jsxs("div",{className:"p-6 pb-32 animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-end mb-8",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Agenda"}),M.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:"Fique por dentro de tudo"})]}),gr(n)&&M.jsxs("div",{className:"flex gap-2",children:[M.jsxs("button",{onClick:f,className:"bg-white text-gray-700 border border-gray-200 p-2 rounded-xl shadow-sm hover:bg-gray-50 transition flex items-center gap-2",title:"Baixar PDF",children:[M.jsx(cA,{size:24}),M.jsx("span",{className:"hidden md:inline text-sm font-bold",children:"PDF"})]}),M.jsx("button",{onClick:()=>i(!0),className:"bg-orange-500 text-white p-2 rounded-xl shadow-lg hover:bg-orange-600 transition",children:M.jsx(xy,{size:24})})]})]}),M.jsxs("div",{className:"relative mb-4 -mx-6 px-6",children:[M.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 scrollbar-hide pr-12",children:u.map(y=>M.jsx("button",{onClick:()=>l(y.value),className:`
                                whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold transition-all
                                ${a===y.value?"bg-orange-500 text-white shadow-lg shadow-orange-500/30":"bg-white text-gray-500 border border-gray-100 hover:bg-gray-50"}
                            `,children:y.label},y.value))}),M.jsx("div",{className:"absolute right-0 top-0 bottom-4 w-16 bg-gradient-to-l from-[#FAFAFA] to-transparent pointer-events-none"})]}),r&&M.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-xl border border-orange-200 mb-6 animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h3",{className:"font-bold text-gray-900",children:o.id?"Editar Evento":"Novo Evento"}),M.jsx("button",{onClick:()=>i(!1),children:M.jsx(Ql,{size:20,className:"text-gray-400"})})]}),M.jsxs("form",{onSubmit:c,className:"space-y-3",children:[M.jsx("input",{type:"text",placeholder:"Ttulo do Evento",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:o.title,onChange:y=>s({...o,title:y.target.value}),required:!0}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"date",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:o.date,onChange:y=>s({...o,date:y.target.value}),required:!0}),M.jsx("input",{type:"time",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:o.time,onChange:y=>s({...o,time:y.target.value}),required:!0})]}),M.jsx("input",{type:"text",placeholder:"Local",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:o.location,onChange:y=>s({...o,location:y.target.value}),required:!0}),M.jsx("button",{type:"submit",className:"w-full py-3 bg-gray-900 text-white font-bold rounded-xl hover:bg-black mt-2",children:o.id?"Salvar Alteraes":"Adicionar Evento"})]})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:t.length===0?M.jsx("div",{className:"col-span-full text-center py-10 text-gray-500",children:M.jsx("p",{children:"Nenhum evento encontrado para este ms."})}):t.map(y=>M.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-[0_4px_20px_-4px_rgba(0,0,0,0.05)] border border-gray-100 transition-all hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.08)] hover:-translate-y-1 flex flex-col justify-between",children:[M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-start mb-4",children:[M.jsxs("div",{className:"flex gap-4",children:[M.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 bg-orange-50 text-orange-600 shadow-sm",children:M.jsx(uA,{size:20,strokeWidth:2.5})}),M.jsx("div",{children:M.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight line-clamp-2",title:y.title,children:y.title})})]}),M.jsxs("div",{className:"text-center bg-gray-50 px-2.5 py-1.5 rounded-xl border border-gray-100 min-w-[50px]",children:[M.jsx("span",{className:"block text-[10px] font-bold text-gray-400 uppercase",children:new Date(y.date).toLocaleString("pt-BR",{month:"short"}).replace(".","")}),M.jsx("span",{className:"block text-lg font-bold text-gray-900 leading-none",children:new Date(y.date).getDate()})]})]}),M.jsxs("div",{className:"space-y-3 mb-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50/50 p-2 rounded-lg",children:[M.jsx(DR,{size:14,className:"text-orange-500"}),M.jsx("span",{className:"font-medium truncate",children:new Date(y.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),M.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50/50 p-2 rounded-lg",children:[M.jsx(MR,{size:14,className:"text-gray-400"}),M.jsx("span",{className:"font-medium truncate",children:y.location})]})]})]}),gr(n)&&M.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-50 flex justify-end gap-1",children:[M.jsx("button",{onClick:()=>h(y),className:"p-1.5 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:M.jsx(Gs,{size:14})}),M.jsx("button",{onClick:()=>d(y.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:M.jsx(Oh,{size:14})})]})]},y.id))})]})},vz=()=>{const{currentUser:t}=fi(),[e,n]=tt.useState([]),[r,i]=tt.useState(null),[o,s]=tt.useState("list"),[a,l]=tt.useState({title:"",content:""}),[u,c]=tt.useState([]),[h,d]=tt.useState("");tt.useEffect(()=>{const p=Fr(Pn(Lt,"devotionals"),Fo("timestamp","desc")),v=_o(p,A=>{n(A.docs.map(w=>({id:w.id,...w.data()})))});return()=>v()},[]),tt.useEffect(()=>{if(!r)return;const p=Fr(Pn(Lt,"devotionals",r.id,"comments"),Fo("timestamp","asc")),v=_o(p,A=>{c(A.docs.map(w=>({id:w.id,...w.data()})))});return()=>v()},[r]);const f=async p=>{p.preventDefault();const v=a.content;try{const A={title:a.title,content:v,author:t.displayName||"Pastor",timestamp:ea(),date:new Date().toLocaleDateString("pt-BR")};a.id?(delete A.timestamp,delete A.date,await nu(vr(Lt,"devotionals",a.id),{title:a.title,content:v})):await Sc(Pn(Lt,"devotionals"),A),s("list"),l({title:"",content:""})}catch(A){console.error("Error creating/updating devotional:",A),alert("Erro ao salvar devocional.")}},y=(p,v)=>{v&&v.stopPropagation(),l({id:p.id,title:p.title,content:p.content}),s("editor")},_=async p=>{if(p.preventDefault(),!!h.trim())try{await Sc(Pn(Lt,"devotionals",r.id,"comments"),{text:h,author:t.displayName||"Membro",uid:t.uid,timestamp:ea()}),d("")}catch(v){console.error("Error adding comment:",v)}},x=async(p,v)=>{if(v.stopPropagation(),!!window.confirm("Tem certeza que deseja excluir este devocional?"))try{await ru(vr(Lt,"devotionals",p)),r&&r.id===p&&(i(null),s("list"))}catch(A){console.error("Error deleting devotional:",A),alert("Erro ao excluir devocional.")}};return M.jsx("div",{className:"p-6 pb-32 animate-fade-in h-full flex flex-col",children:o==="detail"&&r?M.jsxs("div",{className:"flex flex-col h-full",children:[M.jsxs("button",{onClick:()=>{i(null),s("list")},className:"flex items-center gap-2 text-gray-500 hover:text-orange-600 mb-4 transition-colors",children:[M.jsx(Wp,{size:20,className:"rotate-180"})," Voltar"]}),M.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-orange-100 mb-6 relative",children:[gr(t)&&M.jsx("button",{onClick:p=>y(r,p),className:"absolute top-6 right-6 p-2 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:M.jsx(Gs,{size:20})}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 pr-10",children:r.title}),M.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-bold uppercase tracking-wider mb-6",children:[M.jsx("span",{children:r.author}),M.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),M.jsx("span",{children:r.date})]}),M.jsx("div",{className:"prose prose-orange prose-sm max-w-none text-gray-600 leading-relaxed",dangerouslySetInnerHTML:{__html:r.content}})]}),M.jsxs("div",{className:"flex-1 flex flex-col",children:[M.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[M.jsx(FR,{size:18})," Comentrios (",u.length,")"]}),M.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4 pr-2",children:u.map(p=>{var v;return M.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100",children:[M.jsxs("div",{className:"flex justify-between items-start mb-1",children:[M.jsx("span",{className:"font-bold text-xs text-gray-900",children:p.author}),M.jsx("span",{className:"text-[10px] text-gray-400",children:(v=p.timestamp)==null?void 0:v.toDate().toLocaleDateString("pt-BR")})]}),M.jsx("p",{className:"text-sm text-gray-600",children:p.text})]},p.id)})}),M.jsxs("form",{onSubmit:_,className:"relative",children:[M.jsx("input",{type:"text",value:h,onChange:p=>d(p.target.value),placeholder:"Escreva um comentrio...",className:"w-full bg-white border border-gray-200 rounded-xl py-3 pl-4 pr-12 focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 outline-none transition-all"}),M.jsx("button",{type:"submit",disabled:!h.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:M.jsx(vA,{size:16})})]})]})]}):M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"flex justify-between items-end mb-8",children:M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Devocional"}),M.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:"Alimento dirio para sua alma"})]})}),M.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-xl mb-6 w-fit",children:[M.jsx("button",{onClick:()=>s("list"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:"Postagens"}),gr(t)&&M.jsx("button",{onClick:()=>{s("editor"),l({title:"",content:""})},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${o==="editor"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-900"}`,children:"Novo Devocional"})]}),o==="editor"?M.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-xl border border-orange-200 animate-fade-in",children:[M.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-xl",children:a.id?"Editar Devocional":"Criar Novo Artigo"}),M.jsxs("form",{onSubmit:f,className:"space-y-4",children:[M.jsx("div",{children:M.jsx("input",{type:"text",placeholder:"Ttulo do Devocional",className:"w-full p-4 bg-gray-50 rounded-xl border-none outline-none text-lg font-bold placeholder:font-normal",value:a.title,onChange:p=>l({...a,title:p.target.value}),required:!0})}),M.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:M.jsx(PR,{theme:"snow",value:a.content,onChange:p=>l({...a,content:p}),className:"bg-white",modules:{toolbar:[[{header:[1,2,3,!1]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]}})}),M.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[M.jsx("button",{type:"button",onClick:()=>s("list"),className:"px-6 py-3 text-gray-500 font-bold hover:bg-gray-50 rounded-xl transition-colors",children:"Cancelar"}),M.jsx("button",{type:"submit",className:"px-8 py-3 bg-gray-900 text-white font-bold rounded-xl hover:bg-black shadow-lg shadow-gray-900/20 transition-all hover:scale-[1.02] active:scale-[0.98]",children:a.id?"Salvar Alteraes":"Publicar"})]})]})]}):M.jsx("div",{className:"grid gap-4",children:e.map(p=>M.jsxs("div",{onClick:()=>{i(p),s("detail")},className:"bg-white p-5 rounded-[24px] shadow-sm border border-gray-100 cursor-pointer hover:shadow-md transition-all group relative",children:[M.jsxs("div",{className:"mb-2",children:[M.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-orange-50 text-orange-600 text-[10px] font-bold uppercase tracking-wider mb-2",children:p.date}),M.jsxs("div",{className:"flex justify-between items-start mb-3",children:[M.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight group-hover:text-orange-600 transition-colors",children:p.title}),gr(t)&&M.jsxs("div",{className:"flex gap-1 -mt-2 -mr-2",children:[M.jsx("button",{onClick:v=>y(p,v),className:"p-2 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:M.jsx(Gs,{size:18})}),M.jsx("button",{onClick:v=>x(p.id,v),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:M.jsx(Oh,{size:18})})]})]})]}),M.jsx("div",{className:"text-gray-500 text-sm line-clamp-3 mb-4 flex-1 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:p.content}}),M.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:[M.jsx("span",{children:"Ler mais"}),M.jsx(Wp,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]},p.id))})]})})},yz=()=>{const{currentUser:t}=fi(),[e,n]=tt.useState([]),[r,i]=tt.useState(!1),[o,s]=tt.useState({title:"",url:"",isLive:!1});tt.useEffect(()=>{if(!t)return;console.log("SermonsView: Current User:",t.email,t.uid);const h=Fr(Pn(Lt,"sermons"),Fo("timestamp","desc"),Zs(10)),d=_o(h,f=>{const y=f.docs.map(_=>({id:_.id,..._.data()}));y.sort((_,x)=>_.isLive===x.isLive?0:_.isLive?-1:1),n(y)},f=>{console.error("SermonsView Snapshot Error:",f)});return()=>d()},[t]);const a=h=>{const d=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|live\/)([^#&?]*).*/,f=h.match(d);return f&&f[2].length===11?f[2]:null},l=async h=>{h.preventDefault();const d=a(o.url);if(!d){alert("URL do YouTube invlida.");return}try{await Sc(Pn(Lt,"sermons"),{title:o.title,videoId:d,url:o.url,isLive:o.isLive,timestamp:ea(),date:new Date().toLocaleDateString("pt-BR")});const f=Fr(Pn(Lt,"sermons"),Fo("timestamp","desc")),y=await b2(f);if(y.size>10){const _=y.docs.slice(10),x=_.map(p=>ru(p.ref));await Promise.all(x),console.log(`Auto-deleted ${_.length} old sermons.`)}i(!1),s({title:"",url:"",isLive:!1})}catch(f){console.error("Error adding sermon:",f),alert("Erro ao adicionar culto.")}},u=async h=>{if(window.confirm("Tem certeza que deseja excluir este culto?"))try{await ru(vr(Lt,"sermons",h))}catch(d){console.error("Error deleting sermon:",d)}},c=async h=>{if(window.confirm("Deseja marcar este culto como encerrado? Ele se tornar um vdeo gravado."))try{await nu(vr(Lt,"sermons",h),{isLive:!1})}catch(d){console.error("Error ending live:",d)}};return M.jsxs("div",{className:"p-6 pb-40 md:pb-10 animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-end mb-8",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Cultos"}),M.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:"Assista aos cultos ao vivo e gravados"})]}),gr(t)&&M.jsx("button",{onClick:()=>i(!0),className:"bg-orange-500 text-white p-2 rounded-xl shadow-lg hover:bg-orange-600 transition",children:M.jsx(xy,{size:24})})]}),r&&M.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-xl border border-orange-200 mb-6 animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h3",{className:"font-bold text-gray-900",children:"Novo Culto"}),M.jsx("button",{onClick:()=>i(!1),children:M.jsx(Ql,{size:20,className:"text-gray-400"})})]}),M.jsxs("form",{onSubmit:l,className:"space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Ttulo"}),M.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:o.title,onChange:h=>s({...o,title:h.target.value}),required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Link do YouTube"}),M.jsx("input",{type:"text",placeholder:"https://www.youtube.com/watch?v=...",className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none",value:o.url,onChange:h=>s({...o,url:h.target.value}),required:!0})]}),M.jsxs("div",{className:"flex items-center gap-2 p-2",children:[M.jsx("input",{type:"checkbox",id:"isLive",checked:o.isLive,onChange:h=>s({...o,isLive:h.target.checked}),className:"w-5 h-5 accent-red-600 rounded"}),M.jsx("label",{htmlFor:"isLive",className:"text-sm font-bold text-gray-700 cursor-pointer",children:" uma transmisso ao vivo?"})]}),M.jsx("button",{type:"submit",className:"w-full py-3 bg-gray-900 text-white font-bold rounded-xl hover:bg-black mt-2",children:"Adicionar Culto"})]})]}),M.jsx("div",{className:"grid gap-6",children:e.map(h=>M.jsxs("div",{className:`bg-white rounded-[24px] overflow-hidden shadow-sm border ${h.isLive?"border-red-500 ring-4 ring-red-500/20":"border-gray-100"}`,children:[M.jsxs("div",{className:"relative pt-[56.25%] bg-black",children:[h.isLive&&M.jsxs("div",{className:"absolute top-4 left-4 z-10 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-md flex items-center gap-1.5 shadow-lg animate-pulse",children:[M.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"}),"AO VIVO"]}),M.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${h.videoId}`,title:h.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}),M.jsxs("div",{className:"p-5 flex justify-between items-start",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight mb-1",children:h.title}),M.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:h.date})]}),gr(t)&&M.jsxs("div",{className:"flex flex-col gap-2",children:[h.isLive&&M.jsx("button",{onClick:()=>c(h.id),className:"px-3 py-1.5 bg-gray-900 text-white text-xs font-bold rounded-lg hover:bg-black transition-colors shadow-md",children:"Encerrar Live"}),M.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors self-end",children:M.jsx(Oh,{size:18})})]})]})]},h.id))}),M.jsxs("a",{href:"https://www.youtube.com/@IgrejaKerigmaOficial/streams",target:"_blank",rel:"noopener noreferrer",className:"mt-8 block w-full py-4 bg-orange-50 text-orange-600 font-bold rounded-2xl text-center hover:bg-orange-100 hover:scale-[1.02] transition-all border border-orange-100 shadow-sm flex items-center justify-center gap-2",children:["Ver todos os cultos no YouTube ",M.jsx(Wp,{size:20})]})]})},_z=()=>{const[t,e]=tt.useState([]),[n,r]=tt.useState(""),[i,o]=tt.useState(!1),{currentUser:s}=fi();tt.useEffect(()=>{const u=new Date(Date.now()-864e5),c=Fr(Pn(Lt,"prayers"),Js("timestamp",">",u),Fo("timestamp","desc")),h=_o(c,f=>{e(f.docs.map(y=>({id:y.id,...y.data()})))},f=>{console.error("Error fetching prayers:",f)});return(async()=>{if(gr(s))try{const f=Fr(Pn(Lt,"prayers"),Js("timestamp","<=",u)),y=await b2(f);y.forEach(async _=>{await ru(_.ref)}),y.empty||console.log(`Cleaned up ${y.size} old prayers.`)}catch(f){console.error("Error cleaning up prayers:",f)}})(),()=>h()},[s]);const a=async()=>{if(n.trim())try{await Sc(Pn(Lt,"prayers"),{text:n,author:s.displayName||"Annimo",isAnonymous:i,prayedCount:0,timestamp:ea(),userId:s.uid}),r(""),o(!1)}catch(u){console.error("Error adding prayer:",u)}},l=async(u,c)=>{try{const h=vr(Lt,"prayers",u);await nu(h,{prayedCount:c+1})}catch(h){console.error("Error updating prayer count:",h)}};return M.jsxs("div",{className:"p-6 pb-32 animate-fade-in flex flex-col h-full",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-500 rounded-[20px] flex items-center justify-center mx-auto mb-4 shadow-sm",children:M.jsx(ph,{size:28,className:"fill-current"})}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mural de Orao"}),M.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Conecte-se em orao com a comunidade"})]}),M.jsxs("div",{className:"bg-white rounded-[24px] p-2 shadow-xl shadow-gray-200/50 mb-8 border border-gray-100 ring-4 ring-orange-50/50",children:[M.jsx("textarea",{placeholder:"Como podemos orar por voc hoje?",value:n,onChange:u=>r(u.target.value),className:"w-full bg-transparent p-4 outline-none text-gray-700 resize-none h-28 placeholder:text-gray-400 font-medium"}),M.jsxs("div",{className:"flex justify-between items-center px-4 pb-2",children:[M.jsxs("button",{onClick:()=>o(!i),className:`flex items-center gap-2 px-2 py-1 rounded-lg transition text-xs font-bold ${i?"text-gray-900 bg-gray-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,children:[M.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${i?"border-gray-900 bg-gray-900":"border-gray-300"}`,children:i&&M.jsx(M1,{size:10,className:"text-white"})}),"Annimo"]}),M.jsxs("button",{onClick:a,className:"bg-gray-900 text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-black hover:scale-105 active:scale-95 transition-all flex items-center gap-2 shadow-lg shadow-gray-900/10",children:["Enviar ",M.jsx(vA,{size:14})]})]})]}),M.jsx("div",{className:"space-y-4",children:t.map(u=>{var c,h;return M.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-[0_2px_10px_-2px_rgba(0,0,0,0.03)] border border-gray-100 hover:border-red-100 transition-colors",children:[M.jsx("div",{className:"flex justify-between items-start mb-4",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center text-sm font-bold text-gray-500",children:u.isAnonymous?M.jsx(Yl,{size:18}):((c=u.author)==null?void 0:c[0])||"A"}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:u.isAnonymous?"Annimo":u.author}),M.jsx("p",{className:"text-xs text-gray-400 font-medium",children:(h=u.timestamp)==null?void 0:h.toDate().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})}),M.jsx("p",{className:"text-gray-600 mb-5 text-sm leading-relaxed font-medium",children:u.text}),M.jsxs("button",{onClick:()=>l(u.id,u.prayedCount||0),className:"w-full py-2.5 rounded-xl bg-red-50 text-red-600 text-xs font-bold flex items-center justify-center gap-2 hover:bg-red-100 active:scale-[0.98] transition-all",children:[M.jsx(ph,{size:16})," ",u.prayedCount||0," pessoas oraram"]})]},u.id)})})]})},wz=()=>{const{currentUser:t}=fi(),[e,n]=tt.useState({text:"",reference:""}),[r,i]=tt.useState(!0);tt.useEffect(()=>{const s=Fr(Pn(Lt,"daily_verse"),Zs(1)),a=_o(s,l=>{l.empty||n(l.docs[0].data()),i(!1)});return()=>a()},[]);const o=async s=>{s.preventDefault();try{await Sh(vr(Lt,"daily_verse","today"),e),alert("Versculo atualizado com sucesso!")}catch(a){console.error("Error saving verse:",a),alert("Erro ao salvar versculo.")}};return gr(t)?M.jsxs("div",{className:"p-6 pb-32 animate-fade-in",children:[M.jsx("div",{className:"flex justify-between items-end mb-8",children:M.jsxs("div",{children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Versculo do Dia"}),M.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:"Atualize a mensagem da tela inicial"})]})}),M.jsx("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-orange-100",children:M.jsxs("form",{onSubmit:o,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Texto do Versculo"}),M.jsx("textarea",{value:e.text,onChange:s=>n({...e,text:s.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl border-none outline-none min-h-[120px] text-gray-700 font-medium",placeholder:"Digite o versculo aqui...",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Referncia"}),M.jsx("input",{type:"text",value:e.reference,onChange:s=>n({...e,reference:s.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl border-none outline-none font-bold text-gray-900",placeholder:"Ex: Joo 3:16",required:!0})]}),M.jsxs("button",{type:"submit",className:"w-full py-4 bg-gray-900 text-white font-bold rounded-xl hover:bg-black transition-all flex items-center justify-center gap-2 shadow-lg shadow-gray-900/20",children:[M.jsx(mA,{size:20}),"Salvar Alteraes"]})]})}),M.jsxs("div",{className:"mt-8 bg-orange-50 p-6 rounded-[24px] border border-orange-100",children:[M.jsxs("h3",{className:"font-bold text-orange-800 mb-2 flex items-center gap-2",children:[M.jsx(dA,{size:18})," Visualizao"]}),M.jsx("p",{className:"text-sm text-orange-600 mb-4",children:"Como aparecer na tela inicial:"}),M.jsxs("div",{className:"text-center",children:[M.jsxs("p",{className:"text-gray-800 text-lg font-medium leading-relaxed max-w-xs mx-auto italic",children:['"',e.text||"Texto do versculo...",'"']}),M.jsxs("p",{className:"text-gray-400 text-sm mt-3 font-medium tracking-wide",children:[" ",e.reference||"Referncia"]})]})]})]}):M.jsx("div",{className:"p-6 text-center text-red-500",children:"Acesso negado."})},bz=({activeTab:t,setActiveTab:e})=>{var i;const{currentUser:n,logout:r}=fi();return M.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white border-r border-gray-100 h-full fixed left-0 top-0 p-6 z-20",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2",children:[M.jsx("div",{className:"bg-orange-500 p-2 rounded-xl",children:M.jsx(by,{className:"text-white",size:24})}),M.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Kerigma"})]}),M.jsxs("nav",{className:"space-y-2 flex-1",children:[[{id:"home",icon:fA,label:"Incio"},{id:"agenda",icon:$p,label:"Agenda"},{id:"roster",icon:wy,label:"Escalas"},{id:"devotional",icon:Fg,label:"Devocional"},{id:"sermons",icon:Ey,label:"Cultos"},{id:"prayer",icon:ph,label:"Oraes"}].map(o=>M.jsxs("button",{onClick:()=>e(o.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all
                            ${t===o.id?"bg-orange-50 text-orange-600 shadow-sm":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:[M.jsx(o.icon,{size:20}),o.label]},o.id)),gr(n)&&M.jsx(M.Fragment,{children:M.jsxs("button",{onClick:()=>e("dailyVerse"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all
                                ${t==="dailyVerse"?"bg-orange-50 text-orange-600 shadow-sm":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:[M.jsx(Gs,{size:20}),"Versculo"]})}),M.jsxs("button",{onClick:()=>e("profile"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all
                        ${t==="profile"?"bg-orange-50 text-orange-600 shadow-sm":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:[M.jsx(Yl,{size:20}),"Perfil"]})]}),M.jsxs("div",{className:"mt-auto pt-6 border-t border-gray-100",children:[M.jsxs("div",{className:"flex items-center gap-3 px-2 mb-4",children:[M.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-bold",children:((i=n==null?void 0:n.displayName)==null?void 0:i[0])||M.jsx(Yl,{size:20})}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:(n==null?void 0:n.displayName)||"Usurio"}),M.jsx("p",{className:"text-xs text-gray-500 truncate",children:n==null?void 0:n.email})]})]}),M.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-4 py-2 text-red-500 hover:bg-red-50 rounded-xl transition-colors text-sm font-medium",children:[M.jsx(hA,{size:18}),"Sair"]})]})]})},xz=()=>{const{currentUser:t}=fi(),[e,n]=tt.useState((t==null?void 0:t.displayName)||""),[r,i]=tt.useState([]),[o,s]=tt.useState(!1);tt.useEffect(()=>{if(gr(t)){const u=Fr(Pn(Lt,"users"),Fo("lastLogin","desc"),Zs(100)),c=_o(u,h=>{i(h.docs.map(d=>({id:d.id,...d.data()})))});return()=>c()}},[t]);const a=async u=>{u.preventDefault(),s(!0);try{await b9(t,{displayName:e}),await nu(vr(Lt,"users",t.uid),{displayName:e}),alert("Perfil atualizado com sucesso! (Recarregue a pgina para ver as alteraes em todo o app)")}catch(c){console.error("Error updating profile:",c),alert("Erro ao atualizar perfil.")}finally{s(!1)}},l=async u=>{if(window.confirm("Tem certeza que deseja remover este usurio do app?"))try{await ru(vr(Lt,"users",u)),alert("Usurio removido com sucesso.")}catch(c){console.error("Error deleting user:",c),alert("Erro ao remover usurio.")}};return M.jsxs("div",{className:"p-6 pb-32 animate-fade-in flex flex-col h-full",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-500 rounded-[20px] flex items-center justify-center mx-auto mb-4 shadow-sm",children:M.jsx(Yl,{size:28,className:"fill-current"})}),M.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"}),M.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gerencie suas informaes e o aplicativo"})]}),M.jsxs("div",{className:"bg-white rounded-[24px] p-6 shadow-xl shadow-gray-200/50 mb-8 border border-gray-100",children:[M.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[M.jsx(Gs,{size:18,className:"text-orange-500"}),"Editar Informaes"]}),M.jsxs("form",{onSubmit:a,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase mb-1 block",children:"Nome de Exibio"}),M.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"w-full p-3 bg-gray-50 rounded-xl border-none outline-none font-medium text-gray-900",placeholder:"Seu nome"}),M.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Este nome ser exibido em escalas, comentrios e devocionais."})]}),M.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold hover:bg-black transition-all flex items-center justify-center gap-2",children:o?"Salvando...":"Salvar Alteraes"})]})]}),gr(t)&&M.jsxs("div",{className:"bg-white rounded-[24px] p-6 shadow-xl shadow-gray-200/50 border border-gray-100",children:[M.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[M.jsx(Yl,{size:18,className:"text-blue-500"}),"Gerenciar Usurios (",r.length,")"]}),M.jsx("div",{className:"space-y-3",children:r.map(u=>{var c;return M.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full overflow-hidden",children:u.photoURL?M.jsx("img",{src:u.photoURL,alt:u.displayName,className:"w-full h-full object-cover"}):M.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 font-bold",children:((c=u.displayName)==null?void 0:c[0])||"U"})}),M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-sm text-gray-900",children:u.displayName}),M.jsx("p",{className:"text-xs text-gray-500",children:u.email})]})]}),u.uid!==t.uid&&M.jsx("button",{onClick:()=>l(u.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover Usurio",children:M.jsx(Oh,{size:16})})]},u.id)})})]})]})};function Ez(){const[t,e]=tt.useState("home"),{currentUser:n,logout:r}=fi(),[i,o]=tt.useState(!1),s=()=>{if(!n&&t!=="home")return M.jsx(pz,{});switch(t){case"home":return M.jsx(Ox,{setActiveTab:e});case"agenda":return M.jsx(mz,{});case"roster":return M.jsx(gz,{});case"prayer":return M.jsx(_z,{});case"devotional":return M.jsx(vz,{});case"sermons":return M.jsx(yz,{});case"dailyVerse":return M.jsx(wz,{});case"contribution":return M.jsx(Az,{setActiveTab:e});case"profile":return M.jsx(xz,{});default:return M.jsx(Ox,{setActiveTab:e})}},a=()=>{const{currentUser:l}=fi(),u=[{id:"home",icon:fA,label:"Incio"},{id:"agenda",icon:$p,label:"Agenda"},{id:"roster",icon:wy,label:"Escalas"},{id:"devotional",icon:Fg,label:"Devocional"},{id:"sermons",icon:Ey,label:"Cultos"},{id:"prayer",icon:ph,label:"Oraes"},{id:"profile",icon:Yl,label:"Perfil"}];return gr(l)&&(u.push({id:"cabinet",icon:$p,label:"Gabinete"}),u.push({id:"dailyVerse",icon:Gs,label:"Versculo"})),M.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 px-6 py-4 z-50 safe-area-bottom",children:M.jsx("div",{className:"flex justify-between items-center max-w-md mx-auto",children:u.map(c=>{const h=t===c.id;return M.jsxs("button",{onClick:()=>e(c.id),className:`relative flex flex-col items-center gap-1 transition-all duration-300 ${h?"text-orange-500 -translate-y-2":"text-gray-400 hover:text-gray-600"}`,children:[M.jsx("div",{className:`p-2 rounded-xl transition-all ${h?"bg-orange-50 shadow-lg shadow-orange-500/20":""}`,children:M.jsx(c.icon,{size:h?24:22,strokeWidth:h?2.5:2})}),h&&M.jsx("span",{className:"absolute -bottom-4 text-[10px] font-bold animate-fade-in",children:c.label})]},c.id)})})})};return M.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 flex flex-col md:flex-row",children:[M.jsx(bz,{activeTab:t,setActiveTab:e}),M.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden md:ml-64",children:[M.jsx("div",{className:"md:hidden",children:M.jsx(dz,{onNotificationClick:()=>o(!0)})}),M.jsx("div",{className:"hidden md:flex justify-end items-center p-6 bg-white/50 backdrop-blur-sm border-b border-gray-100",children:M.jsx("div",{className:"flex items-center gap-4",children:M.jsx("button",{onClick:()=>o(!0),className:"w-10 h-10 flex items-center justify-center text-gray-500 hover:bg-orange-50 rounded-full transition relative",children:M.jsx(Hp,{size:20})})})}),M.jsx("main",{className:"flex-1 overflow-y-auto pb-24 md:pb-0 relative",children:M.jsx("div",{className:"max-w-5xl mx-auto w-full",children:s()})})]}),M.jsx(a,{activeTab:t,setActiveTab:e}),M.jsx(hz,{isOpen:i,onClose:()=>o(!1)}),M.jsx("style",{children:`
            .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
            .animate-blob {
              animation: blob 7s infinite;
            }
            .animation-delay-2000 {
              animation: blob 7s infinite;
              animation-delay: 2s;
            }
            @keyframes blob {
              0% { transform: translate(0px, 0px) scale(1); }
              33% { transform: translate(30px, -50px) scale(1.1); }
              66% { transform: translate(-20px, 20px) scale(0.9); }
              100% { transform: translate(0px, 0px) scale(1); }
            }
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            .animate-fade-in {
              animation: fadeIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            }
            
            /* Nova Animao do Fogo "Vivo" */
            @keyframes living-flame {
                0%, 100% { transform: scale(1); opacity: 1; filter: brightness(1); }
                50% { transform: scale(1.15); opacity: 0.9; filter: brightness(1.2); }
            }
            .animate-living-flame {
                animation: living-flame 2.5s ease-in-out infinite;
                transform-origin: center bottom;
            }
          `})]})}const Az=({setActiveTab:t})=>{const{currentUser:e}=fi(),[n,r]=tt.useState({pixKey:"",qrCodeBase64:""}),[i,o]=tt.useState(!1),[s,a]=tt.useState({pixKey:"",qrCodeBase64:""}),[l,u]=tt.useState(!0);tt.useEffect(()=>{Fr(Pn(Lt,"settings"),Zs(1));const f=_o(vr(Lt,"settings","finance"),y=>{if(y.exists()){const _=y.data();r(_),a(_)}u(!1)});return()=>f()},[]);const c=f=>{const y=f.target.files[0];if(y){const _=new FileReader;_.onloadend=()=>{a(x=>({...x,qrCodeBase64:_.result}))},_.readAsDataURL(y)}},h=async f=>{f.preventDefault();try{await Sh(vr(Lt,"settings","finance"),s),o(!1),alert("Dados atualizados com sucesso!")}catch(y){console.error("Error saving finance settings:",y),alert("Erro ao salvar dados.")}},d=()=>{navigator.clipboard.writeText(n.pixKey),alert("Chave PIX copiada!")};return M.jsxs("div",{className:"p-6 pb-32 animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-end mb-8",children:[M.jsxs("div",{children:[M.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 text-gray-500 hover:text-orange-600 mb-2 transition-colors text-sm font-bold",children:[M.jsx(Wp,{size:18,className:"rotate-180"})," Voltar"]}),M.jsx("h2",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Dzimos e Ofertas"}),M.jsx("p",{className:"text-gray-500 text-sm font-medium mt-1",children:"Contribua com a obra de Deus"})]}),gr(e)&&!i&&M.jsx("button",{onClick:()=>o(!0),className:"bg-orange-500 text-white p-2 rounded-xl shadow-lg hover:bg-orange-600 transition",children:M.jsx(Gs,{size:24})})]}),i?M.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-xl border border-orange-200 mb-6 animate-fade-in",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Configurar PIX"}),M.jsx("button",{onClick:()=>o(!1),children:M.jsx(Ql,{size:24,className:"text-gray-400"})})]}),M.jsxs("form",{onSubmit:h,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Chave PIX (Copia e Cola)"}),M.jsx("input",{type:"text",value:s.pixKey,onChange:f=>a({...s,pixKey:f.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl border-none outline-none font-mono text-sm",placeholder:"Cole a chave aleatria ou email aqui...",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"QR Code (Imagem)"}),M.jsxs("div",{className:"flex items-center gap-4",children:[s.qrCodeBase64&&M.jsx("img",{src:s.qrCodeBase64,alt:"Preview",className:"w-20 h-20 object-contain rounded-lg border border-gray-200"}),M.jsxs("label",{className:"flex-1 cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 p-4 rounded-xl border-2 border-dashed border-gray-200 flex flex-col items-center justify-center transition-colors",children:[M.jsx(VR,{size:24,className:"mb-2 text-gray-400"}),M.jsx("span",{className:"text-sm font-bold",children:"Clique para enviar imagem"}),M.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]})]})]}),M.jsx("button",{type:"submit",className:"w-full py-4 bg-gray-900 text-white font-bold rounded-xl hover:bg-black mt-4 shadow-lg shadow-gray-900/10",children:"Salvar Configuraes"})]})]}):M.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[M.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-gray-100 flex flex-col items-center text-center",children:[M.jsx("div",{className:"w-64 h-64 bg-gray-50 rounded-2xl flex items-center justify-center mb-6 p-4 border border-gray-100 shadow-inner",children:n.qrCodeBase64?M.jsx("img",{src:n.qrCodeBase64,alt:"QR Code PIX",className:"w-full h-full object-contain mix-blend-multiply"}):M.jsxs("div",{className:"text-gray-400 flex flex-col items-center",children:[M.jsx(gA,{size:48,className:"mb-2 opacity-20"}),M.jsx("span",{className:"text-xs font-medium",children:"QR Code no disponvel"})]})}),M.jsx("p",{className:"text-gray-500 text-sm font-medium mb-2",children:"Escaneie o QR Code com o app do seu banco"})]}),M.jsxs("div",{className:"bg-orange-500 p-8 rounded-[32px] text-white shadow-xl shadow-orange-500/20 flex flex-col justify-center relative overflow-hidden",children:[M.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full mix-blend-overlay filter blur-3xl opacity-10 animate-blob"}),M.jsx("div",{className:"absolute -bottom-8 -left-8 w-64 h-64 bg-yellow-400 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),M.jsxs("div",{className:"relative z-10",children:[M.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6",children:M.jsx("span",{className:"font-bold text-xl",children:"Pix"})}),M.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Transferncia via Pix"}),M.jsx("p",{className:"text-orange-100 text-sm mb-8 font-medium opacity-90",children:"Use a chave abaixo para fazer sua contribuio de forma rpida e segura."}),M.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-1 rounded-xl flex items-center border border-white/20",children:[M.jsx("div",{className:"flex-1 px-4 py-3 font-mono text-sm truncate opacity-90",children:n.pixKey||"Chave no configurada"}),M.jsx("button",{onClick:d,className:"bg-white text-orange-600 px-4 py-3 rounded-lg font-bold text-sm hover:bg-orange-50 transition-colors shadow-sm",children:"Copiar"})]})]})]})]})]})};function Sz(){return M.jsx(MB,{children:M.jsx(Ez,{})})}B0.createRoot(document.getElementById("root")).render(M.jsx(UT.StrictMode,{children:M.jsx(Sz,{})}));export{sn as _,Vi as c,Rx as g};
